(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))f(g);new MutationObserver(g=>{for(const m of g)if(m.type==="childList")for(const y of m.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&f(y)}).observe(document,{childList:!0,subtree:!0});function n(g){const m={};return g.integrity&&(m.integrity=g.integrity),g.referrerPolicy&&(m.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?m.credentials="include":g.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function f(g){if(g.ep)return;g.ep=!0;const m=n(g);fetch(g.href,m)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ha(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Ae={},Zn=[],Nt=()=>{},Zh=()=>!1,Fr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),da=e=>e.startsWith("onUpdate:"),ze=Object.assign,ga=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Qh=Object.prototype.hasOwnProperty,ke=(e,t)=>Qh.call(e,t),be=Array.isArray,Qn=e=>Lr(e)==="[object Map]",pc=e=>Lr(e)==="[object Set]",Ce=e=>typeof e=="function",je=e=>typeof e=="string",gn=e=>typeof e=="symbol",Le=e=>e!==null&&typeof e=="object",yc=e=>(Le(e)||Ce(e))&&Ce(e.then)&&Ce(e.catch),bc=Object.prototype.toString,Lr=e=>bc.call(e),ed=e=>Lr(e).slice(8,-1),_c=e=>Lr(e)==="[object Object]",va=e=>je(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,bi=ha(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ir=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},td=/-(\w)/g,lt=Ir(e=>e.replace(td,(t,n)=>n?n.toUpperCase():"")),nd=/\B([A-Z])/g,Hn=Ir(e=>e.replace(nd,"-$1").toLowerCase()),Qt=Ir(e=>e.charAt(0).toUpperCase()+e.slice(1)),ss=Ir(e=>e?`on${Qt(e)}`:""),hn=(e,t)=>!Object.is(e,t),as=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Cc=(e,t,n,f=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:f,value:n})},id=e=>{const t=parseFloat(e);return isNaN(t)?e:t},rd=e=>{const t=je(e)?Number(e):NaN;return isNaN(t)?e:t};let fo;const Rr=()=>fo||(fo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ma(e){if(be(e)){const t={};for(let n=0;n<e.length;n++){const f=e[n],g=je(f)?ld(f):ma(f);if(g)for(const m in g)t[m]=g[m]}return t}else if(je(e)||Le(e))return e}const sd=/;(?![^(]*\))/g,ad=/:([^]+)/,od=/\/\*[^]*?\*\//g;function ld(e){const t={};return e.replace(od,"").split(sd).forEach(n=>{if(n){const f=n.split(ad);f.length>1&&(t[f[0].trim()]=f[1].trim())}}),t}function Br(e){let t="";if(je(e))t=e;else if(be(e))for(let n=0;n<e.length;n++){const f=Br(e[n]);f&&(t+=f+" ")}else if(Le(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const cd="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ud=ha(cd);function Sc(e){return!!e||e===""}const wc=e=>!!(e&&e.__v_isRef===!0),xc=e=>je(e)?e:e==null?"":be(e)||Le(e)&&(e.toString===bc||!Ce(e.toString))?wc(e)?xc(e.value):JSON.stringify(e,Tc,2):String(e),Tc=(e,t)=>wc(t)?Tc(e,t.value):Qn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[f,g],m)=>(n[os(f,m)+" =>"]=g,n),{})}:pc(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>os(n))}:gn(t)?os(t):Le(t)&&!be(t)&&!_c(t)?String(t):t,os=(e,t="")=>{var n;return gn(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let it;class Oc{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=it,!t&&it&&(this.index=(it.scopes||(it.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=it;try{return it=this,t()}finally{it=n}}}on(){it=this}off(){it=this.parent}stop(t){if(this._active){this._active=!1;let n,f;for(n=0,f=this.effects.length;n<f;n++)this.effects[n].stop();for(this.effects.length=0,n=0,f=this.cleanups.length;n<f;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,f=this.scopes.length;n<f;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const g=this.parent.scopes.pop();g&&g!==this&&(this.parent.scopes[this.index]=g,g.index=this.index)}this.parent=void 0}}}function Hi(e){return new Oc(e)}function kc(){return it}function mt(e,t=!1){it&&it.cleanups.push(e)}let Fe;const ls=new WeakSet;class Pc{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,it&&it.active&&it.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ls.has(this)&&(ls.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ac(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ho(this),Mc(this);const t=Fe,n=At;Fe=this,At=!0;try{return this.fn()}finally{Dc(this),Fe=t,At=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)ba(t);this.deps=this.depsTail=void 0,ho(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ls.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ds(this)&&this.run()}get dirty(){return Ds(this)}}let Ec=0,_i,Ci;function Ac(e,t=!1){if(e.flags|=8,t){e.next=Ci,Ci=e;return}e.next=_i,_i=e}function pa(){Ec++}function ya(){if(--Ec>0)return;if(Ci){let t=Ci;for(Ci=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;_i;){let t=_i;for(_i=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(f){e||(e=f)}t=n}}if(e)throw e}function Mc(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Dc(e){let t,n=e.depsTail,f=n;for(;f;){const g=f.prevDep;f.version===-1?(f===n&&(n=g),ba(f),fd(f)):t=f,f.dep.activeLink=f.prevActiveLink,f.prevActiveLink=void 0,f=g}e.deps=t,e.depsTail=n}function Ds(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Fc(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Fc(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Ai))return;e.globalVersion=Ai;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Ds(e)){e.flags&=-3;return}const n=Fe,f=At;Fe=e,At=!0;try{Mc(e);const g=e.fn(e._value);(t.version===0||hn(g,e._value))&&(e._value=g,t.version++)}catch(g){throw t.version++,g}finally{Fe=n,At=f,Dc(e),e.flags&=-3}}function ba(e,t=!1){const{dep:n,prevSub:f,nextSub:g}=e;if(f&&(f.nextSub=g,e.prevSub=void 0),g&&(g.prevSub=f,e.nextSub=void 0),n.subs===e&&(n.subs=f,!f&&n.computed)){n.computed.flags&=-5;for(let m=n.computed.deps;m;m=m.nextDep)ba(m,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function fd(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let At=!0;const Lc=[];function vn(){Lc.push(At),At=!1}function mn(){const e=Lc.pop();At=e===void 0?!0:e}function ho(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Fe;Fe=void 0;try{t()}finally{Fe=n}}}let Ai=0;class hd{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class _a{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Fe||!At||Fe===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Fe)n=this.activeLink=new hd(Fe,this),Fe.deps?(n.prevDep=Fe.depsTail,Fe.depsTail.nextDep=n,Fe.depsTail=n):Fe.deps=Fe.depsTail=n,Ic(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const f=n.nextDep;f.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=f),n.prevDep=Fe.depsTail,n.nextDep=void 0,Fe.depsTail.nextDep=n,Fe.depsTail=n,Fe.deps===n&&(Fe.deps=f)}return n}trigger(t){this.version++,Ai++,this.notify(t)}notify(t){pa();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{ya()}}}function Ic(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let f=t.deps;f;f=f.nextDep)Ic(f)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const hr=new WeakMap,Dn=Symbol(""),Fs=Symbol(""),Mi=Symbol("");function qe(e,t,n){if(At&&Fe){let f=hr.get(e);f||hr.set(e,f=new Map);let g=f.get(n);g||(f.set(n,g=new _a),g.map=f,g.key=n),g.track()}}function Gt(e,t,n,f,g,m){const y=hr.get(e);if(!y){Ai++;return}const u=i=>{i&&i.trigger()};if(pa(),t==="clear")y.forEach(u);else{const i=be(e),h=i&&va(n);if(i&&n==="length"){const c=Number(f);y.forEach((r,a)=>{(a==="length"||a===Mi||!gn(a)&&a>=c)&&u(r)})}else switch((n!==void 0||y.has(void 0))&&u(y.get(n)),h&&u(y.get(Mi)),t){case"add":i?h&&u(y.get("length")):(u(y.get(Dn)),Qn(e)&&u(y.get(Fs)));break;case"delete":i||(u(y.get(Dn)),Qn(e)&&u(y.get(Fs)));break;case"set":Qn(e)&&u(y.get(Dn));break}}ya()}function dd(e,t){const n=hr.get(e);return n&&n.get(t)}function Wn(e){const t=ve(e);return t===e?t:(qe(t,"iterate",Mi),St(e)?t:t.map(Je))}function jr(e){return qe(e=ve(e),"iterate",Mi),e}const gd={__proto__:null,[Symbol.iterator](){return cs(this,Symbol.iterator,Je)},concat(...e){return Wn(this).concat(...e.map(t=>be(t)?Wn(t):t))},entries(){return cs(this,"entries",e=>(e[1]=Je(e[1]),e))},every(e,t){return Yt(this,"every",e,t,void 0,arguments)},filter(e,t){return Yt(this,"filter",e,t,n=>n.map(Je),arguments)},find(e,t){return Yt(this,"find",e,t,Je,arguments)},findIndex(e,t){return Yt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Yt(this,"findLast",e,t,Je,arguments)},findLastIndex(e,t){return Yt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Yt(this,"forEach",e,t,void 0,arguments)},includes(...e){return us(this,"includes",e)},indexOf(...e){return us(this,"indexOf",e)},join(e){return Wn(this).join(e)},lastIndexOf(...e){return us(this,"lastIndexOf",e)},map(e,t){return Yt(this,"map",e,t,void 0,arguments)},pop(){return hi(this,"pop")},push(...e){return hi(this,"push",e)},reduce(e,...t){return go(this,"reduce",e,t)},reduceRight(e,...t){return go(this,"reduceRight",e,t)},shift(){return hi(this,"shift")},some(e,t){return Yt(this,"some",e,t,void 0,arguments)},splice(...e){return hi(this,"splice",e)},toReversed(){return Wn(this).toReversed()},toSorted(e){return Wn(this).toSorted(e)},toSpliced(...e){return Wn(this).toSpliced(...e)},unshift(...e){return hi(this,"unshift",e)},values(){return cs(this,"values",Je)}};function cs(e,t,n){const f=jr(e),g=f[t]();return f!==e&&!St(e)&&(g._next=g.next,g.next=()=>{const m=g._next();return m.value&&(m.value=n(m.value)),m}),g}const vd=Array.prototype;function Yt(e,t,n,f,g,m){const y=jr(e),u=y!==e&&!St(e),i=y[t];if(i!==vd[t]){const r=i.apply(e,m);return u?Je(r):r}let h=n;y!==e&&(u?h=function(r,a){return n.call(this,Je(r),a,e)}:n.length>2&&(h=function(r,a){return n.call(this,r,a,e)}));const c=i.call(y,h,f);return u&&g?g(c):c}function go(e,t,n,f){const g=jr(e);let m=n;return g!==e&&(St(e)?n.length>3&&(m=function(y,u,i){return n.call(this,y,u,i,e)}):m=function(y,u,i){return n.call(this,y,Je(u),i,e)}),g[t](m,...f)}function us(e,t,n){const f=ve(e);qe(f,"iterate",Mi);const g=f[t](...n);return(g===-1||g===!1)&&wa(n[0])?(n[0]=ve(n[0]),f[t](...n)):g}function hi(e,t,n=[]){vn(),pa();const f=ve(e)[t].apply(e,n);return ya(),mn(),f}const md=ha("__proto__,__v_isRef,__isVue"),Rc=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(gn));function pd(e){gn(e)||(e=String(e));const t=ve(this);return qe(t,"has",e),t.hasOwnProperty(e)}class Bc{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,f){if(n==="__v_skip")return t.__v_skip;const g=this._isReadonly,m=this._isShallow;if(n==="__v_isReactive")return!g;if(n==="__v_isReadonly")return g;if(n==="__v_isShallow")return m;if(n==="__v_raw")return f===(g?m?kd:Hc:m?Nc:Vc).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(f)?t:void 0;const y=be(t);if(!g){let i;if(y&&(i=gd[n]))return i;if(n==="hasOwnProperty")return pd}const u=Reflect.get(t,n,Ee(t)?t:f);return(gn(n)?Rc.has(n):md(n))||(g||qe(t,"get",n),m)?u:Ee(u)?y&&va(n)?u:u.value:Le(u)?g?Wi(u):We(u):u}}class jc extends Bc{constructor(t=!1){super(!1,t)}set(t,n,f,g){let m=t[n];if(!this._isShallow){const i=jn(m);if(!St(f)&&!jn(f)&&(m=ve(m),f=ve(f)),!be(t)&&Ee(m)&&!Ee(f))return i?!1:(m.value=f,!0)}const y=be(t)&&va(n)?Number(n)<t.length:ke(t,n),u=Reflect.set(t,n,f,Ee(t)?t:g);return t===ve(g)&&(y?hn(f,m)&&Gt(t,"set",n,f):Gt(t,"add",n,f)),u}deleteProperty(t,n){const f=ke(t,n);t[n];const g=Reflect.deleteProperty(t,n);return g&&f&&Gt(t,"delete",n,void 0),g}has(t,n){const f=Reflect.has(t,n);return(!gn(n)||!Rc.has(n))&&qe(t,"has",n),f}ownKeys(t){return qe(t,"iterate",be(t)?"length":Dn),Reflect.ownKeys(t)}}class yd extends Bc{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const bd=new jc,_d=new yd,Cd=new jc(!0);const Ls=e=>e,qi=e=>Reflect.getPrototypeOf(e);function Sd(e,t,n){return function(...f){const g=this.__v_raw,m=ve(g),y=Qn(m),u=e==="entries"||e===Symbol.iterator&&y,i=e==="keys"&&y,h=g[e](...f),c=n?Ls:t?Is:Je;return!t&&qe(m,"iterate",i?Fs:Dn),{next(){const{value:r,done:a}=h.next();return a?{value:r,done:a}:{value:u?[c(r[0]),c(r[1])]:c(r),done:a}},[Symbol.iterator](){return this}}}}function Ji(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function wd(e,t){const n={get(g){const m=this.__v_raw,y=ve(m),u=ve(g);e||(hn(g,u)&&qe(y,"get",g),qe(y,"get",u));const{has:i}=qi(y),h=t?Ls:e?Is:Je;if(i.call(y,g))return h(m.get(g));if(i.call(y,u))return h(m.get(u));m!==y&&m.get(g)},get size(){const g=this.__v_raw;return!e&&qe(ve(g),"iterate",Dn),Reflect.get(g,"size",g)},has(g){const m=this.__v_raw,y=ve(m),u=ve(g);return e||(hn(g,u)&&qe(y,"has",g),qe(y,"has",u)),g===u?m.has(g):m.has(g)||m.has(u)},forEach(g,m){const y=this,u=y.__v_raw,i=ve(u),h=t?Ls:e?Is:Je;return!e&&qe(i,"iterate",Dn),u.forEach((c,r)=>g.call(m,h(c),h(r),y))}};return ze(n,e?{add:Ji("add"),set:Ji("set"),delete:Ji("delete"),clear:Ji("clear")}:{add(g){!t&&!St(g)&&!jn(g)&&(g=ve(g));const m=ve(this);return qi(m).has.call(m,g)||(m.add(g),Gt(m,"add",g,g)),this},set(g,m){!t&&!St(m)&&!jn(m)&&(m=ve(m));const y=ve(this),{has:u,get:i}=qi(y);let h=u.call(y,g);h||(g=ve(g),h=u.call(y,g));const c=i.call(y,g);return y.set(g,m),h?hn(m,c)&&Gt(y,"set",g,m):Gt(y,"add",g,m),this},delete(g){const m=ve(this),{has:y,get:u}=qi(m);let i=y.call(m,g);i||(g=ve(g),i=y.call(m,g)),u&&u.call(m,g);const h=m.delete(g);return i&&Gt(m,"delete",g,void 0),h},clear(){const g=ve(this),m=g.size!==0,y=g.clear();return m&&Gt(g,"clear",void 0,void 0),y}}),["keys","values","entries",Symbol.iterator].forEach(g=>{n[g]=Sd(g,e,t)}),n}function Ca(e,t){const n=wd(e,t);return(f,g,m)=>g==="__v_isReactive"?!e:g==="__v_isReadonly"?e:g==="__v_raw"?f:Reflect.get(ke(n,g)&&g in f?n:f,g,m)}const xd={get:Ca(!1,!1)},Td={get:Ca(!1,!0)},Od={get:Ca(!0,!1)};const Vc=new WeakMap,Nc=new WeakMap,Hc=new WeakMap,kd=new WeakMap;function Pd(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ed(e){return e.__v_skip||!Object.isExtensible(e)?0:Pd(ed(e))}function We(e){return jn(e)?e:Sa(e,!1,bd,xd,Vc)}function Wc(e){return Sa(e,!1,Cd,Td,Nc)}function Wi(e){return Sa(e,!0,_d,Od,Hc)}function Sa(e,t,n,f,g){if(!Le(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const m=g.get(e);if(m)return m;const y=Ed(e);if(y===0)return e;const u=new Proxy(e,y===2?f:n);return g.set(e,u),u}function dn(e){return jn(e)?dn(e.__v_raw):!!(e&&e.__v_isReactive)}function jn(e){return!!(e&&e.__v_isReadonly)}function St(e){return!!(e&&e.__v_isShallow)}function wa(e){return e?!!e.__v_raw:!1}function ve(e){const t=e&&e.__v_raw;return t?ve(t):e}function xa(e){return!ke(e,"__v_skip")&&Object.isExtensible(e)&&Cc(e,"__v_skip",!0),e}const Je=e=>Le(e)?We(e):e,Is=e=>Le(e)?Wi(e):e;function Ee(e){return e?e.__v_isRef===!0:!1}function ge(e){return zc(e,!1)}function ye(e){return zc(e,!0)}function zc(e,t){return Ee(e)?e:new Ad(e,t)}class Ad{constructor(t,n){this.dep=new _a,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:ve(t),this._value=n?t:Je(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,f=this.__v_isShallow||St(t)||jn(t);t=f?t:ve(t),hn(t,n)&&(this._rawValue=t,this._value=f?t:Je(t),this.dep.trigger())}}function Ie(e){return Ee(e)?e.value:e}const Md={get:(e,t,n)=>t==="__v_raw"?e:Ie(Reflect.get(e,t,n)),set:(e,t,n,f)=>{const g=e[t];return Ee(g)&&!Ee(n)?(g.value=n,!0):Reflect.set(e,t,n,f)}};function Yc(e){return dn(e)?e:new Proxy(e,Md)}function Vr(e){const t=be(e)?new Array(e.length):{};for(const n in e)t[n]=Xc(e,n);return t}class Dd{constructor(t,n,f){this._object=t,this._key=n,this._defaultValue=f,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return dd(ve(this._object),this._key)}}class Fd{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function pe(e,t,n){return Ee(e)?e:Ce(e)?new Fd(e):Le(e)&&arguments.length>1?Xc(e,t,n):ge(e)}function Xc(e,t,n){const f=e[t];return Ee(f)?f:new Dd(e,t,n)}class Ld{constructor(t,n,f){this.fn=t,this.setter=n,this._value=void 0,this.dep=new _a(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ai-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=f}notify(){if(this.flags|=16,!(this.flags&8)&&Fe!==this)return Ac(this,!0),!0}get value(){const t=this.dep.track();return Fc(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Id(e,t,n=!1){let f,g;return Ce(e)?f=e:(f=e.get,g=e.set),new Ld(f,g,n)}const Zi={},dr=new WeakMap;let En;function Rd(e,t=!1,n=En){if(n){let f=dr.get(n);f||dr.set(n,f=[]),f.push(e)}}function Bd(e,t,n=Ae){const{immediate:f,deep:g,once:m,scheduler:y,augmentJob:u,call:i}=n,h=_=>g?_:St(_)||g===!1||g===0?$t(_,1):$t(_);let c,r,a,s,o=!1,d=!1;if(Ee(e)?(r=()=>e.value,o=St(e)):dn(e)?(r=()=>h(e),o=!0):be(e)?(d=!0,o=e.some(_=>dn(_)||St(_)),r=()=>e.map(_=>{if(Ee(_))return _.value;if(dn(_))return h(_);if(Ce(_))return i?i(_,2):_()})):Ce(e)?t?r=i?()=>i(e,2):e:r=()=>{if(a){vn();try{a()}finally{mn()}}const _=En;En=c;try{return i?i(e,3,[s]):e(s)}finally{En=_}}:r=Nt,t&&g){const _=r,C=g===!0?1/0:g;r=()=>$t(_(),C)}const l=kc(),v=()=>{c.stop(),l&&l.active&&ga(l.effects,c)};if(m&&t){const _=t;t=(...C)=>{_(...C),v()}}let p=d?new Array(e.length).fill(Zi):Zi;const b=_=>{if(!(!(c.flags&1)||!c.dirty&&!_))if(t){const C=c.run();if(g||o||(d?C.some((S,w)=>hn(S,p[w])):hn(C,p))){a&&a();const S=En;En=c;try{const w=[C,p===Zi?void 0:d&&p[0]===Zi?[]:p,s];i?i(t,3,w):t(...w),p=C}finally{En=S}}}else c.run()};return u&&u(b),c=new Pc(r),c.scheduler=y?()=>y(b,!1):b,s=_=>Rd(_,!1,c),a=c.onStop=()=>{const _=dr.get(c);if(_){if(i)i(_,4);else for(const C of _)C();dr.delete(c)}},t?f?b(!0):p=c.run():y?y(b.bind(null,!0),!0):c.run(),v.pause=c.pause.bind(c),v.resume=c.resume.bind(c),v.stop=v,v}function $t(e,t=1/0,n){if(t<=0||!Le(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Ee(e))$t(e.value,t,n);else if(be(e))for(let f=0;f<e.length;f++)$t(e[f],t,n);else if(pc(e)||Qn(e))e.forEach(f=>{$t(f,t,n)});else if(_c(e)){for(const f in e)$t(e[f],t,n);for(const f of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,f)&&$t(e[f],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function zi(e,t,n,f){try{return f?e(...f):e()}catch(g){Nr(g,t,n)}}function Dt(e,t,n,f){if(Ce(e)){const g=zi(e,t,n,f);return g&&yc(g)&&g.catch(m=>{Nr(m,t,n)}),g}if(be(e)){const g=[];for(let m=0;m<e.length;m++)g.push(Dt(e[m],t,n,f));return g}}function Nr(e,t,n,f=!0){const g=t?t.vnode:null,{errorHandler:m,throwUnhandledErrorInProduction:y}=t&&t.appContext.config||Ae;if(t){let u=t.parent;const i=t.proxy,h=`https://vuejs.org/error-reference/#runtime-${n}`;for(;u;){const c=u.ec;if(c){for(let r=0;r<c.length;r++)if(c[r](e,i,h)===!1)return}u=u.parent}if(m){vn(),zi(m,null,10,[e,i,h]),mn();return}}jd(e,n,g,f,y)}function jd(e,t,n,f=!0,g=!1){if(g)throw e;console.error(e)}const rt=[];let jt=-1;const ei=[];let on=null,$n=0;const Uc=Promise.resolve();let gr=null;function ct(e){const t=gr||Uc;return e?t.then(this?e.bind(this):e):t}function Vd(e){let t=jt+1,n=rt.length;for(;t<n;){const f=t+n>>>1,g=rt[f],m=Di(g);m<e||m===e&&g.flags&2?t=f+1:n=f}return t}function Ta(e){if(!(e.flags&1)){const t=Di(e),n=rt[rt.length-1];!n||!(e.flags&2)&&t>=Di(n)?rt.push(e):rt.splice(Vd(t),0,e),e.flags|=1,Gc()}}function Gc(){gr||(gr=Uc.then(Kc))}function Nd(e){be(e)?ei.push(...e):on&&e.id===-1?on.splice($n+1,0,e):e.flags&1||(ei.push(e),e.flags|=1),Gc()}function vo(e,t,n=jt+1){for(;n<rt.length;n++){const f=rt[n];if(f&&f.flags&2){if(e&&f.id!==e.uid)continue;rt.splice(n,1),n--,f.flags&4&&(f.flags&=-2),f(),f.flags&4||(f.flags&=-2)}}}function $c(e){if(ei.length){const t=[...new Set(ei)].sort((n,f)=>Di(n)-Di(f));if(ei.length=0,on){on.push(...t);return}for(on=t,$n=0;$n<on.length;$n++){const n=on[$n];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}on=null,$n=0}}const Di=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Kc(e){try{for(jt=0;jt<rt.length;jt++){const t=rt[jt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),zi(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;jt<rt.length;jt++){const t=rt[jt];t&&(t.flags&=-2)}jt=-1,rt.length=0,$c(),gr=null,(rt.length||ei.length)&&Kc()}}let st=null,qc=null;function vr(e){const t=st;return st=e,qc=e&&e.type.__scopeId||null,t}function De(e,t=st,n){if(!t||e._n)return e;const f=(...g)=>{f._d&&Eo(-1);const m=vr(t);let y;try{y=e(...g)}finally{vr(m),f._d&&Eo(1)}return y};return f._n=!0,f._c=!0,f._d=!0,f}function Ft(e,t){if(st===null)return e;const n=Yr(st),f=e.dirs||(e.dirs=[]);for(let g=0;g<t.length;g++){let[m,y,u,i=Ae]=t[g];m&&(Ce(m)&&(m={mounted:m,updated:m}),m.deep&&$t(y),f.push({dir:m,instance:n,value:y,oldValue:void 0,arg:u,modifiers:i}))}return e}function xn(e,t,n,f){const g=e.dirs,m=t&&t.dirs;for(let y=0;y<g.length;y++){const u=g[y];m&&(u.oldValue=m[y].value);let i=u.dir[f];i&&(vn(),Dt(i,n,8,[e.el,u,e,t]),mn())}}const Jc=Symbol("_vte"),Zc=e=>e.__isTeleport,Si=e=>e&&(e.disabled||e.disabled===""),mo=e=>e&&(e.defer||e.defer===""),po=e=>typeof SVGElement<"u"&&e instanceof SVGElement,yo=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Rs=(e,t)=>{const n=e&&e.to;return je(n)?t?t(n):null:n},Qc={name:"Teleport",__isTeleport:!0,process(e,t,n,f,g,m,y,u,i,h){const{mc:c,pc:r,pbc:a,o:{insert:s,querySelector:o,createText:d,createComment:l}}=h,v=Si(t.props);let{shapeFlag:p,children:b,dynamicChildren:_}=t;if(e==null){const C=t.el=d(""),S=t.anchor=d("");s(C,n,f),s(S,n,f);const w=(A,V)=>{p&16&&(g&&g.isCE&&(g.ce._teleportTarget=A),c(b,A,V,g,m,y,u,i))},x=()=>{const A=t.target=Rs(t.props,o),V=eu(A,t,d,s);A&&(y!=="svg"&&po(A)?y="svg":y!=="mathml"&&yo(A)&&(y="mathml"),v||(w(A,V),ar(t,!1)))};v&&(w(n,S),ar(t,!0)),mo(t.props)?nt(()=>{x(),t.el.__isMounted=!0},m):x()}else{if(mo(t.props)&&!e.el.__isMounted){nt(()=>{Qc.process(e,t,n,f,g,m,y,u,i,h),delete e.el.__isMounted},m);return}t.el=e.el,t.targetStart=e.targetStart;const C=t.anchor=e.anchor,S=t.target=e.target,w=t.targetAnchor=e.targetAnchor,x=Si(e.props),A=x?n:S,V=x?C:w;if(y==="svg"||po(S)?y="svg":(y==="mathml"||yo(S))&&(y="mathml"),_?(a(e.dynamicChildren,_,A,g,m,y,u),Ma(e,t,!0)):i||r(e,t,A,V,g,m,y,u,!1),v)x?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Qi(t,n,C,h,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const z=t.target=Rs(t.props,o);z&&Qi(t,z,null,h,0)}else x&&Qi(t,S,w,h,1);ar(t,v)}},remove(e,t,n,{um:f,o:{remove:g}},m){const{shapeFlag:y,children:u,anchor:i,targetStart:h,targetAnchor:c,target:r,props:a}=e;if(r&&(g(h),g(c)),m&&g(i),y&16){const s=m||!Si(a);for(let o=0;o<u.length;o++){const d=u[o];f(d,t,n,s,!!d.dynamicChildren)}}},move:Qi,hydrate:Hd};function Qi(e,t,n,{o:{insert:f},m:g},m=2){m===0&&f(e.targetAnchor,t,n);const{el:y,anchor:u,shapeFlag:i,children:h,props:c}=e,r=m===2;if(r&&f(y,t,n),(!r||Si(c))&&i&16)for(let a=0;a<h.length;a++)g(h[a],t,n,2);r&&f(u,t,n)}function Hd(e,t,n,f,g,m,{o:{nextSibling:y,parentNode:u,querySelector:i,insert:h,createText:c}},r){const a=t.target=Rs(t.props,i);if(a){const s=Si(t.props),o=a._lpa||a.firstChild;if(t.shapeFlag&16)if(s)t.anchor=r(y(e),t,u(e),n,f,g,m),t.targetStart=o,t.targetAnchor=o&&y(o);else{t.anchor=y(e);let d=o;for(;d;){if(d&&d.nodeType===8){if(d.data==="teleport start anchor")t.targetStart=d;else if(d.data==="teleport anchor"){t.targetAnchor=d,a._lpa=t.targetAnchor&&y(t.targetAnchor);break}}d=y(d)}t.targetAnchor||eu(a,t,c,h),r(o&&y(o),t,a,n,f,g,m)}ar(t,s)}return t.anchor&&y(t.anchor)}const Wd=Qc;function ar(e,t){const n=e.ctx;if(n&&n.ut){let f,g;for(t?(f=e.el,g=e.anchor):(f=e.targetStart,g=e.targetAnchor);f&&f!==g;)f.nodeType===1&&f.setAttribute("data-v-owner",n.uid),f=f.nextSibling;n.ut()}}function eu(e,t,n,f){const g=t.targetStart=n(""),m=t.targetAnchor=n("");return g[Jc]=m,e&&(f(g,e),f(m,e)),m}const ln=Symbol("_leaveCb"),er=Symbol("_enterCb");function tu(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Tt(()=>{e.isMounted=!0}),at(()=>{e.isUnmounting=!0}),e}const bt=[Function,Array],nu={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:bt,onEnter:bt,onAfterEnter:bt,onEnterCancelled:bt,onBeforeLeave:bt,onLeave:bt,onAfterLeave:bt,onLeaveCancelled:bt,onBeforeAppear:bt,onAppear:bt,onAfterAppear:bt,onAppearCancelled:bt},iu=e=>{const t=e.subTree;return t.component?iu(t.component):t},zd={name:"BaseTransition",props:nu,setup(e,{slots:t}){const n=La(),f=tu();return()=>{const g=t.default&&Oa(t.default(),!0);if(!g||!g.length)return;const m=ru(g),y=ve(e),{mode:u}=y;if(f.isLeaving)return fs(m);const i=bo(m);if(!i)return fs(m);let h=Fi(i,y,f,n,r=>h=r);i.type!==ot&&Vn(i,h);let c=n.subTree&&bo(n.subTree);if(c&&c.type!==ot&&!An(i,c)&&iu(n).type!==ot){let r=Fi(c,y,f,n);if(Vn(c,r),u==="out-in"&&i.type!==ot)return f.isLeaving=!0,r.afterLeave=()=>{f.isLeaving=!1,n.job.flags&8||n.update(),delete r.afterLeave,c=void 0},fs(m);u==="in-out"&&i.type!==ot?r.delayLeave=(a,s,o)=>{const d=su(f,c);d[String(c.key)]=c,a[ln]=()=>{s(),a[ln]=void 0,delete h.delayedLeave,c=void 0},h.delayedLeave=()=>{o(),delete h.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return m}}};function ru(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==ot){t=n;break}}return t}const Yd=zd;function su(e,t){const{leavingVNodes:n}=e;let f=n.get(t.type);return f||(f=Object.create(null),n.set(t.type,f)),f}function Fi(e,t,n,f,g){const{appear:m,mode:y,persisted:u=!1,onBeforeEnter:i,onEnter:h,onAfterEnter:c,onEnterCancelled:r,onBeforeLeave:a,onLeave:s,onAfterLeave:o,onLeaveCancelled:d,onBeforeAppear:l,onAppear:v,onAfterAppear:p,onAppearCancelled:b}=t,_=String(e.key),C=su(n,e),S=(A,V)=>{A&&Dt(A,f,9,V)},w=(A,V)=>{const z=V[1];S(A,V),be(A)?A.every(R=>R.length<=1)&&z():A.length<=1&&z()},x={mode:y,persisted:u,beforeEnter(A){let V=i;if(!n.isMounted)if(m)V=l||i;else return;A[ln]&&A[ln](!0);const z=C[_];z&&An(e,z)&&z.el[ln]&&z.el[ln](),S(V,[A])},enter(A){let V=h,z=c,R=r;if(!n.isMounted)if(m)V=v||h,z=p||c,R=b||r;else return;let G=!1;const $=A[er]=ee=>{G||(G=!0,ee?S(R,[A]):S(z,[A]),x.delayedLeave&&x.delayedLeave(),A[er]=void 0)};V?w(V,[A,$]):$()},leave(A,V){const z=String(e.key);if(A[er]&&A[er](!0),n.isUnmounting)return V();S(a,[A]);let R=!1;const G=A[ln]=$=>{R||(R=!0,V(),$?S(d,[A]):S(o,[A]),A[ln]=void 0,C[z]===e&&delete C[z])};C[z]=e,s?w(s,[A,G]):G()},clone(A){const V=Fi(A,t,n,f,g);return g&&g(V),V}};return x}function fs(e){if(Hr(e))return e=qt(e),e.children=null,e}function bo(e){if(!Hr(e))return Zc(e.type)&&e.children?ru(e.children):e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&Ce(n.default))return n.default()}}function Vn(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Vn(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Oa(e,t=!1,n){let f=[],g=0;for(let m=0;m<e.length;m++){let y=e[m];const u=n==null?y.key:String(n)+String(y.key!=null?y.key:m);y.type===Re?(y.patchFlag&128&&g++,f=f.concat(Oa(y.children,t,u))):(t||y.type!==ot)&&f.push(u!=null?qt(y,{key:u}):y)}if(g>1)for(let m=0;m<f.length;m++)f[m].patchFlag=-2;return f}/*! #__NO_SIDE_EFFECTS__ */function ka(e,t){return Ce(e)?ze({name:e.name},t,{setup:e}):e}function au(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function mr(e,t,n,f,g=!1){if(be(e)){e.forEach((o,d)=>mr(o,t&&(be(t)?t[d]:t),n,f,g));return}if(wi(f)&&!g){f.shapeFlag&512&&f.type.__asyncResolved&&f.component.subTree.component&&mr(e,t,n,f.component.subTree);return}const m=f.shapeFlag&4?Yr(f.component):f.el,y=g?null:m,{i:u,r:i}=e,h=t&&t.r,c=u.refs===Ae?u.refs={}:u.refs,r=u.setupState,a=ve(r),s=r===Ae?()=>!1:o=>ke(a,o);if(h!=null&&h!==i&&(je(h)?(c[h]=null,s(h)&&(r[h]=null)):Ee(h)&&(h.value=null)),Ce(i))zi(i,u,12,[y,c]);else{const o=je(i),d=Ee(i);if(o||d){const l=()=>{if(e.f){const v=o?s(i)?r[i]:c[i]:i.value;g?be(v)&&ga(v,m):be(v)?v.includes(m)||v.push(m):o?(c[i]=[m],s(i)&&(r[i]=c[i])):(i.value=[m],e.k&&(c[e.k]=i.value))}else o?(c[i]=y,s(i)&&(r[i]=y)):d&&(i.value=y,e.k&&(c[e.k]=y))};y?(l.id=-1,nt(l,n)):l()}}}Rr().requestIdleCallback;Rr().cancelIdleCallback;const wi=e=>!!e.type.__asyncLoader,Hr=e=>e.type.__isKeepAlive;function ou(e,t){cu(e,"a",t)}function lu(e,t){cu(e,"da",t)}function cu(e,t,n=Ye){const f=e.__wdc||(e.__wdc=()=>{let g=n;for(;g;){if(g.isDeactivated)return;g=g.parent}return e()});if(Wr(t,f,n),n){let g=n.parent;for(;g&&g.parent;)Hr(g.parent.vnode)&&Xd(f,t,n,g),g=g.parent}}function Xd(e,t,n,f){const g=Wr(t,e,f,!0);Ea(()=>{ga(f[t],g)},n)}function Wr(e,t,n=Ye,f=!1){if(n){const g=n[e]||(n[e]=[]),m=t.__weh||(t.__weh=(...y)=>{vn();const u=Gi(n),i=Dt(t,n,e,y);return u(),mn(),i});return f?g.unshift(m):g.push(m),m}}const en=e=>(t,n=Ye)=>{(!Ii||e==="sp")&&Wr(e,(...f)=>t(...f),n)},si=en("bm"),Tt=en("m"),Ud=en("bu"),Pa=en("u"),at=en("bum"),Ea=en("um"),Gd=en("sp"),$d=en("rtg"),Kd=en("rtc");function qd(e,t=Ye){Wr("ec",e,t)}const uu="components",Jd="directives",Zd=Symbol.for("v-ndc");function Qd(e){return je(e)&&fu(uu,e,!1)||e}function Yi(e){return fu(Jd,e)}function fu(e,t,n=!0,f=!1){const g=st||Ye;if(g){const m=g.type;if(e===uu){const u=Hg(m,!1);if(u&&(u===t||u===lt(t)||u===Qt(lt(t))))return m}const y=_o(g[e]||m[e],t)||_o(g.appContext[e],t);return!y&&f?m:y}}function _o(e,t){return e&&(e[t]||e[lt(t)]||e[Qt(lt(t))])}function eg(e,t,n,f){let g;const m=n,y=be(e);if(y||je(e)){const u=y&&dn(e);let i=!1;u&&(i=!St(e),e=jr(e)),g=new Array(e.length);for(let h=0,c=e.length;h<c;h++)g[h]=t(i?Je(e[h]):e[h],h,void 0,m)}else if(typeof e=="number"){g=new Array(e);for(let u=0;u<e;u++)g[u]=t(u+1,u,void 0,m)}else if(Le(e))if(e[Symbol.iterator])g=Array.from(e,(u,i)=>t(u,i,void 0,m));else{const u=Object.keys(e);g=new Array(u.length);for(let i=0,h=u.length;i<h;i++){const c=u[i];g[i]=t(e[c],c,i,m)}}else g=[];return g}const Bs=e=>e?Au(e)?Yr(e):Bs(e.parent):null,xi=ze(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Bs(e.parent),$root:e=>Bs(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>du(e),$forceUpdate:e=>e.f||(e.f=()=>{Ta(e.update)}),$nextTick:e=>e.n||(e.n=ct.bind(e.proxy)),$watch:e=>Sg.bind(e)}),hs=(e,t)=>e!==Ae&&!e.__isScriptSetup&&ke(e,t),tg={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:f,data:g,props:m,accessCache:y,type:u,appContext:i}=e;let h;if(t[0]!=="$"){const s=y[t];if(s!==void 0)switch(s){case 1:return f[t];case 2:return g[t];case 4:return n[t];case 3:return m[t]}else{if(hs(f,t))return y[t]=1,f[t];if(g!==Ae&&ke(g,t))return y[t]=2,g[t];if((h=e.propsOptions[0])&&ke(h,t))return y[t]=3,m[t];if(n!==Ae&&ke(n,t))return y[t]=4,n[t];js&&(y[t]=0)}}const c=xi[t];let r,a;if(c)return t==="$attrs"&&qe(e.attrs,"get",""),c(e);if((r=u.__cssModules)&&(r=r[t]))return r;if(n!==Ae&&ke(n,t))return y[t]=4,n[t];if(a=i.config.globalProperties,ke(a,t))return a[t]},set({_:e},t,n){const{data:f,setupState:g,ctx:m}=e;return hs(g,t)?(g[t]=n,!0):f!==Ae&&ke(f,t)?(f[t]=n,!0):ke(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(m[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:f,appContext:g,propsOptions:m}},y){let u;return!!n[y]||e!==Ae&&ke(e,y)||hs(t,y)||(u=m[0])&&ke(u,y)||ke(f,y)||ke(xi,y)||ke(g.config.globalProperties,y)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:ke(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Co(e){return be(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let js=!0;function ng(e){const t=du(e),n=e.proxy,f=e.ctx;js=!1,t.beforeCreate&&So(t.beforeCreate,e,"bc");const{data:g,computed:m,methods:y,watch:u,provide:i,inject:h,created:c,beforeMount:r,mounted:a,beforeUpdate:s,updated:o,activated:d,deactivated:l,beforeDestroy:v,beforeUnmount:p,destroyed:b,unmounted:_,render:C,renderTracked:S,renderTriggered:w,errorCaptured:x,serverPrefetch:A,expose:V,inheritAttrs:z,components:R,directives:G,filters:$}=t;if(h&&ig(h,f,null),y)for(const re in y){const ie=y[re];Ce(ie)&&(f[re]=ie.bind(n))}if(g){const re=g.call(n,n);Le(re)&&(e.data=We(re))}if(js=!0,m)for(const re in m){const ie=m[re],O=Ce(ie)?ie.bind(n,n):Ce(ie.get)?ie.get.bind(n,n):Nt,B=!Ce(ie)&&Ce(ie.set)?ie.set.bind(n):Nt,L=H({get:O,set:B});Object.defineProperty(f,re,{enumerable:!0,configurable:!0,get:()=>L.value,set:j=>L.value=j})}if(u)for(const re in u)hu(u[re],f,n,re);if(i){const re=Ce(i)?i.call(n):i;Reflect.ownKeys(re).forEach(ie=>{Ge(ie,re[ie])})}c&&So(c,e,"c");function ne(re,ie){be(ie)?ie.forEach(O=>re(O.bind(n))):ie&&re(ie.bind(n))}if(ne(si,r),ne(Tt,a),ne(Ud,s),ne(Pa,o),ne(ou,d),ne(lu,l),ne(qd,x),ne(Kd,S),ne($d,w),ne(at,p),ne(Ea,_),ne(Gd,A),be(V))if(V.length){const re=e.exposed||(e.exposed={});V.forEach(ie=>{Object.defineProperty(re,ie,{get:()=>n[ie],set:O=>n[ie]=O})})}else e.exposed||(e.exposed={});C&&e.render===Nt&&(e.render=C),z!=null&&(e.inheritAttrs=z),R&&(e.components=R),G&&(e.directives=G),A&&au(e)}function ig(e,t,n=Nt){be(e)&&(e=Vs(e));for(const f in e){const g=e[f];let m;Le(g)?"default"in g?m=Pe(g.from||f,g.default,!0):m=Pe(g.from||f):m=Pe(g),Ee(m)?Object.defineProperty(t,f,{enumerable:!0,configurable:!0,get:()=>m.value,set:y=>m.value=y}):t[f]=m}}function So(e,t,n){Dt(be(e)?e.map(f=>f.bind(t.proxy)):e.bind(t.proxy),t,n)}function hu(e,t,n,f){let g=f.includes(".")?Tu(n,f):()=>n[f];if(je(e)){const m=t[e];Ce(m)&&me(g,m)}else if(Ce(e))me(g,e.bind(n));else if(Le(e))if(be(e))e.forEach(m=>hu(m,t,n,f));else{const m=Ce(e.handler)?e.handler.bind(n):t[e.handler];Ce(m)&&me(g,m,e)}}function du(e){const t=e.type,{mixins:n,extends:f}=t,{mixins:g,optionsCache:m,config:{optionMergeStrategies:y}}=e.appContext,u=m.get(t);let i;return u?i=u:!g.length&&!n&&!f?i=t:(i={},g.length&&g.forEach(h=>pr(i,h,y,!0)),pr(i,t,y)),Le(t)&&m.set(t,i),i}function pr(e,t,n,f=!1){const{mixins:g,extends:m}=t;m&&pr(e,m,n,!0),g&&g.forEach(y=>pr(e,y,n,!0));for(const y in t)if(!(f&&y==="expose")){const u=rg[y]||n&&n[y];e[y]=u?u(e[y],t[y]):t[y]}return e}const rg={data:wo,props:xo,emits:xo,methods:yi,computed:yi,beforeCreate:tt,created:tt,beforeMount:tt,mounted:tt,beforeUpdate:tt,updated:tt,beforeDestroy:tt,beforeUnmount:tt,destroyed:tt,unmounted:tt,activated:tt,deactivated:tt,errorCaptured:tt,serverPrefetch:tt,components:yi,directives:yi,watch:ag,provide:wo,inject:sg};function wo(e,t){return t?e?function(){return ze(Ce(e)?e.call(this,this):e,Ce(t)?t.call(this,this):t)}:t:e}function sg(e,t){return yi(Vs(e),Vs(t))}function Vs(e){if(be(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function tt(e,t){return e?[...new Set([].concat(e,t))]:t}function yi(e,t){return e?ze(Object.create(null),e,t):t}function xo(e,t){return e?be(e)&&be(t)?[...new Set([...e,...t])]:ze(Object.create(null),Co(e),Co(t??{})):t}function ag(e,t){if(!e)return t;if(!t)return e;const n=ze(Object.create(null),e);for(const f in t)n[f]=tt(e[f],t[f]);return n}function gu(){return{app:null,config:{isNativeTag:Zh,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let og=0;function lg(e,t){return function(f,g=null){Ce(f)||(f=ze({},f)),g!=null&&!Le(g)&&(g=null);const m=gu(),y=new WeakSet,u=[];let i=!1;const h=m.app={_uid:og++,_component:f,_props:g,_container:null,_context:m,_instance:null,version:zg,get config(){return m.config},set config(c){},use(c,...r){return y.has(c)||(c&&Ce(c.install)?(y.add(c),c.install(h,...r)):Ce(c)&&(y.add(c),c(h,...r))),h},mixin(c){return m.mixins.includes(c)||m.mixins.push(c),h},component(c,r){return r?(m.components[c]=r,h):m.components[c]},directive(c,r){return r?(m.directives[c]=r,h):m.directives[c]},mount(c,r,a){if(!i){const s=h._ceVNode||F(f,g);return s.appContext=m,a===!0?a="svg":a===!1&&(a=void 0),e(s,c,a),i=!0,h._container=c,c.__vue_app__=h,Yr(s.component)}},onUnmount(c){u.push(c)},unmount(){i&&(Dt(u,h._instance,16),e(null,h._container),delete h._container.__vue_app__)},provide(c,r){return m.provides[c]=r,h},runWithContext(c){const r=Fn;Fn=h;try{return c()}finally{Fn=r}}};return h}}let Fn=null;function Ge(e,t){if(Ye){let n=Ye.provides;const f=Ye.parent&&Ye.parent.provides;f===n&&(n=Ye.provides=Object.create(f)),n[e]=t}}function Pe(e,t,n=!1){const f=Ye||st;if(f||Fn){const g=Fn?Fn._context.provides:f?f.parent==null?f.vnode.appContext&&f.vnode.appContext.provides:f.parent.provides:void 0;if(g&&e in g)return g[e];if(arguments.length>1)return n&&Ce(t)?t.call(f&&f.proxy):t}}function cg(){return!!(Ye||st||Fn)}const vu={},mu=()=>Object.create(vu),pu=e=>Object.getPrototypeOf(e)===vu;function ug(e,t,n,f=!1){const g={},m=mu();e.propsDefaults=Object.create(null),yu(e,t,g,m);for(const y in e.propsOptions[0])y in g||(g[y]=void 0);n?e.props=f?g:Wc(g):e.type.props?e.props=g:e.props=m,e.attrs=m}function fg(e,t,n,f){const{props:g,attrs:m,vnode:{patchFlag:y}}=e,u=ve(g),[i]=e.propsOptions;let h=!1;if((f||y>0)&&!(y&16)){if(y&8){const c=e.vnode.dynamicProps;for(let r=0;r<c.length;r++){let a=c[r];if(zr(e.emitsOptions,a))continue;const s=t[a];if(i)if(ke(m,a))s!==m[a]&&(m[a]=s,h=!0);else{const o=lt(a);g[o]=Ns(i,u,o,s,e,!1)}else s!==m[a]&&(m[a]=s,h=!0)}}}else{yu(e,t,g,m)&&(h=!0);let c;for(const r in u)(!t||!ke(t,r)&&((c=Hn(r))===r||!ke(t,c)))&&(i?n&&(n[r]!==void 0||n[c]!==void 0)&&(g[r]=Ns(i,u,r,void 0,e,!0)):delete g[r]);if(m!==u)for(const r in m)(!t||!ke(t,r))&&(delete m[r],h=!0)}h&&Gt(e.attrs,"set","")}function yu(e,t,n,f){const[g,m]=e.propsOptions;let y=!1,u;if(t)for(let i in t){if(bi(i))continue;const h=t[i];let c;g&&ke(g,c=lt(i))?!m||!m.includes(c)?n[c]=h:(u||(u={}))[c]=h:zr(e.emitsOptions,i)||(!(i in f)||h!==f[i])&&(f[i]=h,y=!0)}if(m){const i=ve(n),h=u||Ae;for(let c=0;c<m.length;c++){const r=m[c];n[r]=Ns(g,i,r,h[r],e,!ke(h,r))}}return y}function Ns(e,t,n,f,g,m){const y=e[n];if(y!=null){const u=ke(y,"default");if(u&&f===void 0){const i=y.default;if(y.type!==Function&&!y.skipFactory&&Ce(i)){const{propsDefaults:h}=g;if(n in h)f=h[n];else{const c=Gi(g);f=h[n]=i.call(null,t),c()}}else f=i;g.ce&&g.ce._setProp(n,f)}y[0]&&(m&&!u?f=!1:y[1]&&(f===""||f===Hn(n))&&(f=!0))}return f}const hg=new WeakMap;function bu(e,t,n=!1){const f=n?hg:t.propsCache,g=f.get(e);if(g)return g;const m=e.props,y={},u=[];let i=!1;if(!Ce(e)){const c=r=>{i=!0;const[a,s]=bu(r,t,!0);ze(y,a),s&&u.push(...s)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!m&&!i)return Le(e)&&f.set(e,Zn),Zn;if(be(m))for(let c=0;c<m.length;c++){const r=lt(m[c]);To(r)&&(y[r]=Ae)}else if(m)for(const c in m){const r=lt(c);if(To(r)){const a=m[c],s=y[r]=be(a)||Ce(a)?{type:a}:ze({},a),o=s.type;let d=!1,l=!0;if(be(o))for(let v=0;v<o.length;++v){const p=o[v],b=Ce(p)&&p.name;if(b==="Boolean"){d=!0;break}else b==="String"&&(l=!1)}else d=Ce(o)&&o.name==="Boolean";s[0]=d,s[1]=l,(d||ke(s,"default"))&&u.push(r)}}const h=[y,u];return Le(e)&&f.set(e,h),h}function To(e){return e[0]!=="$"&&!bi(e)}const _u=e=>e[0]==="_"||e==="$stable",Aa=e=>be(e)?e.map(Vt):[Vt(e)],dg=(e,t,n)=>{if(t._n)return t;const f=De((...g)=>Aa(t(...g)),n);return f._c=!1,f},Cu=(e,t,n)=>{const f=e._ctx;for(const g in e){if(_u(g))continue;const m=e[g];if(Ce(m))t[g]=dg(g,m,f);else if(m!=null){const y=Aa(m);t[g]=()=>y}}},Su=(e,t)=>{const n=Aa(t);e.slots.default=()=>n},wu=(e,t,n)=>{for(const f in t)(n||f!=="_")&&(e[f]=t[f])},gg=(e,t,n)=>{const f=e.slots=mu();if(e.vnode.shapeFlag&32){const g=t._;g?(wu(f,t,n),n&&Cc(f,"_",g,!0)):Cu(t,f)}else t&&Su(e,t)},vg=(e,t,n)=>{const{vnode:f,slots:g}=e;let m=!0,y=Ae;if(f.shapeFlag&32){const u=t._;u?n&&u===1?m=!1:wu(g,t,n):(m=!t.$stable,Cu(t,g)),y=t}else t&&(Su(e,t),y={default:1});if(m)for(const u in g)!_u(u)&&y[u]==null&&delete g[u]},nt=Eg;function mg(e){return pg(e)}function pg(e,t){const n=Rr();n.__VUE__=!0;const{insert:f,remove:g,patchProp:m,createElement:y,createText:u,createComment:i,setText:h,setElementText:c,parentNode:r,nextSibling:a,setScopeId:s=Nt,insertStaticContent:o}=e,d=(P,T,k,W=null,X=null,N=null,K=void 0,Q=null,ae=!!T.dynamicChildren)=>{if(P===T)return;P&&!An(P,T)&&(W=M(P),j(P,X,N,!0),P=null),T.patchFlag===-2&&(ae=!1,T.dynamicChildren=null);const{type:te,ref:Z,shapeFlag:oe}=T;switch(te){case Xi:l(P,T,k,W);break;case ot:v(P,T,k,W);break;case gs:P==null&&p(T,k,W,K);break;case Re:R(P,T,k,W,X,N,K,Q,ae);break;default:oe&1?C(P,T,k,W,X,N,K,Q,ae):oe&6?G(P,T,k,W,X,N,K,Q,ae):(oe&64||oe&128)&&te.process(P,T,k,W,X,N,K,Q,ae,q)}Z!=null&&X&&mr(Z,P&&P.ref,N,T||P,!T)},l=(P,T,k,W)=>{if(P==null)f(T.el=u(T.children),k,W);else{const X=T.el=P.el;T.children!==P.children&&h(X,T.children)}},v=(P,T,k,W)=>{P==null?f(T.el=i(T.children||""),k,W):T.el=P.el},p=(P,T,k,W)=>{[P.el,P.anchor]=o(P.children,T,k,W,P.el,P.anchor)},b=({el:P,anchor:T},k,W)=>{let X;for(;P&&P!==T;)X=a(P),f(P,k,W),P=X;f(T,k,W)},_=({el:P,anchor:T})=>{let k;for(;P&&P!==T;)k=a(P),g(P),P=k;g(T)},C=(P,T,k,W,X,N,K,Q,ae)=>{T.type==="svg"?K="svg":T.type==="math"&&(K="mathml"),P==null?S(T,k,W,X,N,K,Q,ae):A(P,T,X,N,K,Q,ae)},S=(P,T,k,W,X,N,K,Q)=>{let ae,te;const{props:Z,shapeFlag:oe,transition:le,dirs:ce}=P;if(ae=P.el=y(P.type,N,Z&&Z.is,Z),oe&8?c(ae,P.children):oe&16&&x(P.children,ae,null,W,X,ds(P,N),K,Q),ce&&xn(P,null,W,"created"),w(ae,P,P.scopeId,K,W),Z){for(const he in Z)he!=="value"&&!bi(he)&&m(ae,he,null,Z[he],N,W);"value"in Z&&m(ae,"value",null,Z.value,N),(te=Z.onVnodeBeforeMount)&&Rt(te,W,P)}ce&&xn(P,null,W,"beforeMount");const fe=yg(X,le);fe&&le.beforeEnter(ae),f(ae,T,k),((te=Z&&Z.onVnodeMounted)||fe||ce)&&nt(()=>{te&&Rt(te,W,P),fe&&le.enter(ae),ce&&xn(P,null,W,"mounted")},X)},w=(P,T,k,W,X)=>{if(k&&s(P,k),W)for(let N=0;N<W.length;N++)s(P,W[N]);if(X){let N=X.subTree;if(T===N||ku(N.type)&&(N.ssContent===T||N.ssFallback===T)){const K=X.vnode;w(P,K,K.scopeId,K.slotScopeIds,X.parent)}}},x=(P,T,k,W,X,N,K,Q,ae=0)=>{for(let te=ae;te<P.length;te++){const Z=P[te]=Q?cn(P[te]):Vt(P[te]);d(null,Z,T,k,W,X,N,K,Q)}},A=(P,T,k,W,X,N,K)=>{const Q=T.el=P.el;let{patchFlag:ae,dynamicChildren:te,dirs:Z}=T;ae|=P.patchFlag&16;const oe=P.props||Ae,le=T.props||Ae;let ce;if(k&&Tn(k,!1),(ce=le.onVnodeBeforeUpdate)&&Rt(ce,k,T,P),Z&&xn(T,P,k,"beforeUpdate"),k&&Tn(k,!0),(oe.innerHTML&&le.innerHTML==null||oe.textContent&&le.textContent==null)&&c(Q,""),te?V(P.dynamicChildren,te,Q,k,W,ds(T,X),N):K||ie(P,T,Q,null,k,W,ds(T,X),N,!1),ae>0){if(ae&16)z(Q,oe,le,k,X);else if(ae&2&&oe.class!==le.class&&m(Q,"class",null,le.class,X),ae&4&&m(Q,"style",oe.style,le.style,X),ae&8){const fe=T.dynamicProps;for(let he=0;he<fe.length;he++){const _e=fe[he],Te=oe[_e],Ve=le[_e];(Ve!==Te||_e==="value")&&m(Q,_e,Te,Ve,X,k)}}ae&1&&P.children!==T.children&&c(Q,T.children)}else!K&&te==null&&z(Q,oe,le,k,X);((ce=le.onVnodeUpdated)||Z)&&nt(()=>{ce&&Rt(ce,k,T,P),Z&&xn(T,P,k,"updated")},W)},V=(P,T,k,W,X,N,K)=>{for(let Q=0;Q<T.length;Q++){const ae=P[Q],te=T[Q],Z=ae.el&&(ae.type===Re||!An(ae,te)||ae.shapeFlag&70)?r(ae.el):k;d(ae,te,Z,null,W,X,N,K,!0)}},z=(P,T,k,W,X)=>{if(T!==k){if(T!==Ae)for(const N in T)!bi(N)&&!(N in k)&&m(P,N,T[N],null,X,W);for(const N in k){if(bi(N))continue;const K=k[N],Q=T[N];K!==Q&&N!=="value"&&m(P,N,Q,K,X,W)}"value"in k&&m(P,"value",T.value,k.value,X)}},R=(P,T,k,W,X,N,K,Q,ae)=>{const te=T.el=P?P.el:u(""),Z=T.anchor=P?P.anchor:u("");let{patchFlag:oe,dynamicChildren:le,slotScopeIds:ce}=T;ce&&(Q=Q?Q.concat(ce):ce),P==null?(f(te,k,W),f(Z,k,W),x(T.children||[],k,Z,X,N,K,Q,ae)):oe>0&&oe&64&&le&&P.dynamicChildren?(V(P.dynamicChildren,le,k,X,N,K,Q),(T.key!=null||X&&T===X.subTree)&&Ma(P,T,!0)):ie(P,T,k,Z,X,N,K,Q,ae)},G=(P,T,k,W,X,N,K,Q,ae)=>{T.slotScopeIds=Q,P==null?T.shapeFlag&512?X.ctx.activate(T,k,W,K,ae):$(T,k,W,X,N,K,ae):ee(P,T,ae)},$=(P,T,k,W,X,N,K)=>{const Q=P.component=Rg(P,W,X);if(Hr(P)&&(Q.ctx.renderer=q),Bg(Q,!1,K),Q.asyncDep){if(X&&X.registerDep(Q,ne,K),!P.el){const ae=Q.subTree=F(ot);v(null,ae,T,k)}}else ne(Q,P,T,k,X,N,K)},ee=(P,T,k)=>{const W=T.component=P.component;if(kg(P,T,k))if(W.asyncDep&&!W.asyncResolved){re(W,T,k);return}else W.next=T,W.update();else T.el=P.el,W.vnode=T},ne=(P,T,k,W,X,N,K)=>{const Q=()=>{if(P.isMounted){let{next:oe,bu:le,u:ce,parent:fe,vnode:he}=P;{const Ne=xu(P);if(Ne){oe&&(oe.el=he.el,re(P,oe,K)),Ne.asyncDep.then(()=>{P.isUnmounted||Q()});return}}let _e=oe,Te;Tn(P,!1),oe?(oe.el=he.el,re(P,oe,K)):oe=he,le&&as(le),(Te=oe.props&&oe.props.onVnodeBeforeUpdate)&&Rt(Te,fe,oe,he),Tn(P,!0);const Ve=ko(P),Ke=P.subTree;P.subTree=Ve,d(Ke,Ve,r(Ke.el),M(Ke),P,X,N),oe.el=Ve.el,_e===null&&Pg(P,Ve.el),ce&&nt(ce,X),(Te=oe.props&&oe.props.onVnodeUpdated)&&nt(()=>Rt(Te,fe,oe,he),X)}else{let oe;const{el:le,props:ce}=T,{bm:fe,m:he,parent:_e,root:Te,type:Ve}=P,Ke=wi(T);Tn(P,!1),fe&&as(fe),!Ke&&(oe=ce&&ce.onVnodeBeforeMount)&&Rt(oe,_e,T),Tn(P,!0);{Te.ce&&Te.ce._injectChildStyle(Ve);const Ne=P.subTree=ko(P);d(null,Ne,k,W,P,X,N),T.el=Ne.el}if(he&&nt(he,X),!Ke&&(oe=ce&&ce.onVnodeMounted)){const Ne=T;nt(()=>Rt(oe,_e,Ne),X)}(T.shapeFlag&256||_e&&wi(_e.vnode)&&_e.vnode.shapeFlag&256)&&P.a&&nt(P.a,X),P.isMounted=!0,T=k=W=null}};P.scope.on();const ae=P.effect=new Pc(Q);P.scope.off();const te=P.update=ae.run.bind(ae),Z=P.job=ae.runIfDirty.bind(ae);Z.i=P,Z.id=P.uid,ae.scheduler=()=>Ta(Z),Tn(P,!0),te()},re=(P,T,k)=>{T.component=P;const W=P.vnode.props;P.vnode=T,P.next=null,fg(P,T.props,W,k),vg(P,T.children,k),vn(),vo(P),mn()},ie=(P,T,k,W,X,N,K,Q,ae=!1)=>{const te=P&&P.children,Z=P?P.shapeFlag:0,oe=T.children,{patchFlag:le,shapeFlag:ce}=T;if(le>0){if(le&128){B(te,oe,k,W,X,N,K,Q,ae);return}else if(le&256){O(te,oe,k,W,X,N,K,Q,ae);return}}ce&8?(Z&16&&I(te,X,N),oe!==te&&c(k,oe)):Z&16?ce&16?B(te,oe,k,W,X,N,K,Q,ae):I(te,X,N,!0):(Z&8&&c(k,""),ce&16&&x(oe,k,W,X,N,K,Q,ae))},O=(P,T,k,W,X,N,K,Q,ae)=>{P=P||Zn,T=T||Zn;const te=P.length,Z=T.length,oe=Math.min(te,Z);let le;for(le=0;le<oe;le++){const ce=T[le]=ae?cn(T[le]):Vt(T[le]);d(P[le],ce,k,null,X,N,K,Q,ae)}te>Z?I(P,X,N,!0,!1,oe):x(T,k,W,X,N,K,Q,ae,oe)},B=(P,T,k,W,X,N,K,Q,ae)=>{let te=0;const Z=T.length;let oe=P.length-1,le=Z-1;for(;te<=oe&&te<=le;){const ce=P[te],fe=T[te]=ae?cn(T[te]):Vt(T[te]);if(An(ce,fe))d(ce,fe,k,null,X,N,K,Q,ae);else break;te++}for(;te<=oe&&te<=le;){const ce=P[oe],fe=T[le]=ae?cn(T[le]):Vt(T[le]);if(An(ce,fe))d(ce,fe,k,null,X,N,K,Q,ae);else break;oe--,le--}if(te>oe){if(te<=le){const ce=le+1,fe=ce<Z?T[ce].el:W;for(;te<=le;)d(null,T[te]=ae?cn(T[te]):Vt(T[te]),k,fe,X,N,K,Q,ae),te++}}else if(te>le)for(;te<=oe;)j(P[te],X,N,!0),te++;else{const ce=te,fe=te,he=new Map;for(te=fe;te<=le;te++){const et=T[te]=ae?cn(T[te]):Vt(T[te]);et.key!=null&&he.set(et.key,te)}let _e,Te=0;const Ve=le-fe+1;let Ke=!1,Ne=0;const wn=new Array(Ve);for(te=0;te<Ve;te++)wn[te]=0;for(te=ce;te<=oe;te++){const et=P[te];if(Te>=Ve){j(et,X,N,!0);continue}let yt;if(et.key!=null)yt=he.get(et.key);else for(_e=fe;_e<=le;_e++)if(wn[_e-fe]===0&&An(et,T[_e])){yt=_e;break}yt===void 0?j(et,X,N,!0):(wn[yt-fe]=te+1,yt>=Ne?Ne=yt:Ke=!0,d(et,T[yt],k,null,X,N,K,Q,ae),Te++)}const fi=Ke?bg(wn):Zn;for(_e=fi.length-1,te=Ve-1;te>=0;te--){const et=fe+te,yt=T[et],uo=et+1<Z?T[et+1].el:W;wn[te]===0?d(null,yt,k,uo,X,N,K,Q,ae):Ke&&(_e<0||te!==fi[_e]?L(yt,k,uo,2):_e--)}}},L=(P,T,k,W,X=null)=>{const{el:N,type:K,transition:Q,children:ae,shapeFlag:te}=P;if(te&6){L(P.component.subTree,T,k,W);return}if(te&128){P.suspense.move(T,k,W);return}if(te&64){K.move(P,T,k,q);return}if(K===Re){f(N,T,k);for(let oe=0;oe<ae.length;oe++)L(ae[oe],T,k,W);f(P.anchor,T,k);return}if(K===gs){b(P,T,k);return}if(W!==2&&te&1&&Q)if(W===0)Q.beforeEnter(N),f(N,T,k),nt(()=>Q.enter(N),X);else{const{leave:oe,delayLeave:le,afterLeave:ce}=Q,fe=()=>f(N,T,k),he=()=>{oe(N,()=>{fe(),ce&&ce()})};le?le(N,fe,he):he()}else f(N,T,k)},j=(P,T,k,W=!1,X=!1)=>{const{type:N,props:K,ref:Q,children:ae,dynamicChildren:te,shapeFlag:Z,patchFlag:oe,dirs:le,cacheIndex:ce}=P;if(oe===-2&&(X=!1),Q!=null&&mr(Q,null,k,P,!0),ce!=null&&(T.renderCache[ce]=void 0),Z&256){T.ctx.deactivate(P);return}const fe=Z&1&&le,he=!wi(P);let _e;if(he&&(_e=K&&K.onVnodeBeforeUnmount)&&Rt(_e,T,P),Z&6)E(P.component,k,W);else{if(Z&128){P.suspense.unmount(k,W);return}fe&&xn(P,null,T,"beforeUnmount"),Z&64?P.type.remove(P,T,k,q,W):te&&!te.hasOnce&&(N!==Re||oe>0&&oe&64)?I(te,T,k,!1,!0):(N===Re&&oe&384||!X&&Z&16)&&I(ae,T,k),W&&J(P)}(he&&(_e=K&&K.onVnodeUnmounted)||fe)&&nt(()=>{_e&&Rt(_e,T,P),fe&&xn(P,null,T,"unmounted")},k)},J=P=>{const{type:T,el:k,anchor:W,transition:X}=P;if(T===Re){D(k,W);return}if(T===gs){_(P);return}const N=()=>{g(k),X&&!X.persisted&&X.afterLeave&&X.afterLeave()};if(P.shapeFlag&1&&X&&!X.persisted){const{leave:K,delayLeave:Q}=X,ae=()=>K(k,N);Q?Q(P.el,N,ae):ae()}else N()},D=(P,T)=>{let k;for(;P!==T;)k=a(P),g(P),P=k;g(T)},E=(P,T,k)=>{const{bum:W,scope:X,job:N,subTree:K,um:Q,m:ae,a:te}=P;Oo(ae),Oo(te),W&&as(W),X.stop(),N&&(N.flags|=8,j(K,P,T,k)),Q&&nt(Q,T),nt(()=>{P.isUnmounted=!0},T),T&&T.pendingBranch&&!T.isUnmounted&&P.asyncDep&&!P.asyncResolved&&P.suspenseId===T.pendingId&&(T.deps--,T.deps===0&&T.resolve())},I=(P,T,k,W=!1,X=!1,N=0)=>{for(let K=N;K<P.length;K++)j(P[K],T,k,W,X)},M=P=>{if(P.shapeFlag&6)return M(P.component.subTree);if(P.shapeFlag&128)return P.suspense.next();const T=a(P.anchor||P.el),k=T&&T[Jc];return k?a(k):T};let U=!1;const Y=(P,T,k)=>{P==null?T._vnode&&j(T._vnode,null,null,!0):d(T._vnode||null,P,T,null,null,null,k),T._vnode=P,U||(U=!0,vo(),$c(),U=!1)},q={p:d,um:j,m:L,r:J,mt:$,mc:x,pc:ie,pbc:V,n:M,o:e};return{render:Y,hydrate:void 0,createApp:lg(Y)}}function ds({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Tn({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function yg(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ma(e,t,n=!1){const f=e.children,g=t.children;if(be(f)&&be(g))for(let m=0;m<f.length;m++){const y=f[m];let u=g[m];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=g[m]=cn(g[m]),u.el=y.el),!n&&u.patchFlag!==-2&&Ma(y,u)),u.type===Xi&&(u.el=y.el)}}function bg(e){const t=e.slice(),n=[0];let f,g,m,y,u;const i=e.length;for(f=0;f<i;f++){const h=e[f];if(h!==0){if(g=n[n.length-1],e[g]<h){t[f]=g,n.push(f);continue}for(m=0,y=n.length-1;m<y;)u=m+y>>1,e[n[u]]<h?m=u+1:y=u;h<e[n[m]]&&(m>0&&(t[f]=n[m-1]),n[m]=f)}}for(m=n.length,y=n[m-1];m-- >0;)n[m]=y,y=t[y];return n}function xu(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:xu(t)}function Oo(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const _g=Symbol.for("v-scx"),Cg=()=>Pe(_g);function Ht(e,t){return Da(e,null,t)}function me(e,t,n){return Da(e,t,n)}function Da(e,t,n=Ae){const{immediate:f,deep:g,flush:m,once:y}=n,u=ze({},n),i=t&&f||!t&&m!=="post";let h;if(Ii){if(m==="sync"){const s=Cg();h=s.__watcherHandles||(s.__watcherHandles=[])}else if(!i){const s=()=>{};return s.stop=Nt,s.resume=Nt,s.pause=Nt,s}}const c=Ye;u.call=(s,o,d)=>Dt(s,c,o,d);let r=!1;m==="post"?u.scheduler=s=>{nt(s,c&&c.suspense)}:m!=="sync"&&(r=!0,u.scheduler=(s,o)=>{o?s():Ta(s)}),u.augmentJob=s=>{t&&(s.flags|=4),r&&(s.flags|=2,c&&(s.id=c.uid,s.i=c))};const a=Bd(e,t,u);return Ii&&(h?h.push(a):i&&a()),a}function Sg(e,t,n){const f=this.proxy,g=je(e)?e.includes(".")?Tu(f,e):()=>f[e]:e.bind(f,f);let m;Ce(t)?m=t:(m=t.handler,n=t);const y=Gi(this),u=Da(g,m.bind(f),n);return y(),u}function Tu(e,t){const n=t.split(".");return()=>{let f=e;for(let g=0;g<n.length&&f;g++)f=f[n[g]];return f}}const wg=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${lt(t)}Modifiers`]||e[`${Hn(t)}Modifiers`];function xg(e,t,...n){if(e.isUnmounted)return;const f=e.vnode.props||Ae;let g=n;const m=t.startsWith("update:"),y=m&&wg(f,t.slice(7));y&&(y.trim&&(g=n.map(c=>je(c)?c.trim():c)),y.number&&(g=n.map(id)));let u,i=f[u=ss(t)]||f[u=ss(lt(t))];!i&&m&&(i=f[u=ss(Hn(t))]),i&&Dt(i,e,6,g);const h=f[u+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,Dt(h,e,6,g)}}function Ou(e,t,n=!1){const f=t.emitsCache,g=f.get(e);if(g!==void 0)return g;const m=e.emits;let y={},u=!1;if(!Ce(e)){const i=h=>{const c=Ou(h,t,!0);c&&(u=!0,ze(y,c))};!n&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}return!m&&!u?(Le(e)&&f.set(e,null),null):(be(m)?m.forEach(i=>y[i]=null):ze(y,m),Le(e)&&f.set(e,y),y)}function zr(e,t){return!e||!Fr(t)?!1:(t=t.slice(2).replace(/Once$/,""),ke(e,t[0].toLowerCase()+t.slice(1))||ke(e,Hn(t))||ke(e,t))}function ko(e){const{type:t,vnode:n,proxy:f,withProxy:g,propsOptions:[m],slots:y,attrs:u,emit:i,render:h,renderCache:c,props:r,data:a,setupState:s,ctx:o,inheritAttrs:d}=e,l=vr(e);let v,p;try{if(n.shapeFlag&4){const _=g||f,C=_;v=Vt(h.call(C,_,c,r,s,a,o)),p=u}else{const _=t;v=Vt(_.length>1?_(r,{attrs:u,slots:y,emit:i}):_(r,null)),p=t.props?u:Tg(u)}}catch(_){Ti.length=0,Nr(_,e,1),v=F(ot)}let b=v;if(p&&d!==!1){const _=Object.keys(p),{shapeFlag:C}=b;_.length&&C&7&&(m&&_.some(da)&&(p=Og(p,m)),b=qt(b,p,!1,!0))}return n.dirs&&(b=qt(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&Vn(b,n.transition),v=b,vr(l),v}const Tg=e=>{let t;for(const n in e)(n==="class"||n==="style"||Fr(n))&&((t||(t={}))[n]=e[n]);return t},Og=(e,t)=>{const n={};for(const f in e)(!da(f)||!(f.slice(9)in t))&&(n[f]=e[f]);return n};function kg(e,t,n){const{props:f,children:g,component:m}=e,{props:y,children:u,patchFlag:i}=t,h=m.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&i>=0){if(i&1024)return!0;if(i&16)return f?Po(f,y,h):!!y;if(i&8){const c=t.dynamicProps;for(let r=0;r<c.length;r++){const a=c[r];if(y[a]!==f[a]&&!zr(h,a))return!0}}}else return(g||u)&&(!u||!u.$stable)?!0:f===y?!1:f?y?Po(f,y,h):!0:!!y;return!1}function Po(e,t,n){const f=Object.keys(t);if(f.length!==Object.keys(e).length)return!0;for(let g=0;g<f.length;g++){const m=f[g];if(t[m]!==e[m]&&!zr(n,m))return!0}return!1}function Pg({vnode:e,parent:t},n){for(;t;){const f=t.subTree;if(f.suspense&&f.suspense.activeBranch===e&&(f.el=e.el),f===e)(e=t.vnode).el=n,t=t.parent;else break}}const ku=e=>e.__isSuspense;function Eg(e,t){t&&t.pendingBranch?be(e)?t.effects.push(...e):t.effects.push(e):Nd(e)}const Re=Symbol.for("v-fgt"),Xi=Symbol.for("v-txt"),ot=Symbol.for("v-cmt"),gs=Symbol.for("v-stc"),Ti=[];let ht=null;function ut(e=!1){Ti.push(ht=e?null:[])}function Ag(){Ti.pop(),ht=Ti[Ti.length-1]||null}let Li=1;function Eo(e,t=!1){Li+=e,e<0&&ht&&t&&(ht.hasOnce=!0)}function Pu(e){return e.dynamicChildren=Li>0?ht||Zn:null,Ag(),Li>0&&ht&&ht.push(e),e}function yr(e,t,n,f,g,m){return Pu(Ui(e,t,n,f,g,m,!0))}function Kt(e,t,n,f,g){return Pu(F(e,t,n,f,g,!0))}function br(e){return e?e.__v_isVNode===!0:!1}function An(e,t){return e.type===t.type&&e.key===t.key}const Eu=({key:e})=>e??null,or=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?je(e)||Ee(e)||Ce(e)?{i:st,r:e,k:t,f:!!n}:e:null);function Ui(e,t=null,n=null,f=0,g=null,m=e===Re?0:1,y=!1,u=!1){const i={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Eu(t),ref:t&&or(t),scopeId:qc,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:m,patchFlag:f,dynamicProps:g,dynamicChildren:null,appContext:null,ctx:st};return u?(Fa(i,n),m&128&&e.normalize(i)):n&&(i.shapeFlag|=je(n)?8:16),Li>0&&!y&&ht&&(i.patchFlag>0||m&6)&&i.patchFlag!==32&&ht.push(i),i}const F=Mg;function Mg(e,t=null,n=null,f=0,g=null,m=!1){if((!e||e===Zd)&&(e=ot),br(e)){const u=qt(e,t,!0);return n&&Fa(u,n),Li>0&&!m&&ht&&(u.shapeFlag&6?ht[ht.indexOf(e)]=u:ht.push(u)),u.patchFlag=-2,u}if(Wg(e)&&(e=e.__vccOpts),t){t=Dg(t);let{class:u,style:i}=t;u&&!je(u)&&(t.class=Br(u)),Le(i)&&(wa(i)&&!be(i)&&(i=ze({},i)),t.style=ma(i))}const y=je(e)?1:ku(e)?128:Zc(e)?64:Le(e)?4:Ce(e)?2:0;return Ui(e,t,n,f,g,y,m,!0)}function Dg(e){return e?wa(e)||pu(e)?ze({},e):e:null}function qt(e,t,n=!1,f=!1){const{props:g,ref:m,patchFlag:y,children:u,transition:i}=e,h=t?Me(g||{},t):g,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:h,key:h&&Eu(h),ref:t&&t.ref?n&&m?be(m)?m.concat(or(t)):[m,or(t)]:or(t):m,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Re?y===-1?16:y|16:y,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:i,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&qt(e.ssContent),ssFallback:e.ssFallback&&qt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return i&&f&&Vn(c,i.clone(c)),c}function Et(e=" ",t=0){return F(Xi,null,e,t)}function Fg(e="",t=!1){return t?(ut(),Kt(ot,null,e)):F(ot,null,e)}function Vt(e){return e==null||typeof e=="boolean"?F(ot):be(e)?F(Re,null,e.slice()):br(e)?cn(e):F(Xi,null,String(e))}function cn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:qt(e)}function Fa(e,t){let n=0;const{shapeFlag:f}=e;if(t==null)t=null;else if(be(t))n=16;else if(typeof t=="object")if(f&65){const g=t.default;g&&(g._c&&(g._d=!1),Fa(e,g()),g._c&&(g._d=!0));return}else{n=32;const g=t._;!g&&!pu(t)?t._ctx=st:g===3&&st&&(st.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ce(t)?(t={default:t,_ctx:st},n=32):(t=String(t),f&64?(n=16,t=[Et(t)]):n=8);e.children=t,e.shapeFlag|=n}function Me(...e){const t={};for(let n=0;n<e.length;n++){const f=e[n];for(const g in f)if(g==="class")t.class!==f.class&&(t.class=Br([t.class,f.class]));else if(g==="style")t.style=ma([t.style,f.style]);else if(Fr(g)){const m=t[g],y=f[g];y&&m!==y&&!(be(m)&&m.includes(y))&&(t[g]=m?[].concat(m,y):y)}else g!==""&&(t[g]=f[g])}return t}function Rt(e,t,n,f=null){Dt(e,t,7,[n,f])}const Lg=gu();let Ig=0;function Rg(e,t,n){const f=e.type,g=(t?t.appContext:e.appContext)||Lg,m={uid:Ig++,vnode:e,type:f,parent:t,appContext:g,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Oc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(g.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:bu(f,g),emitsOptions:Ou(f,g),emit:null,emitted:null,propsDefaults:Ae,inheritAttrs:f.inheritAttrs,ctx:Ae,data:Ae,props:Ae,attrs:Ae,slots:Ae,refs:Ae,setupState:Ae,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return m.ctx={_:m},m.root=t?t.root:m,m.emit=xg.bind(null,m),e.ce&&e.ce(m),m}let Ye=null;const La=()=>Ye||st;let _r,Hs;{const e=Rr(),t=(n,f)=>{let g;return(g=e[n])||(g=e[n]=[]),g.push(f),m=>{g.length>1?g.forEach(y=>y(m)):g[0](m)}};_r=t("__VUE_INSTANCE_SETTERS__",n=>Ye=n),Hs=t("__VUE_SSR_SETTERS__",n=>Ii=n)}const Gi=e=>{const t=Ye;return _r(e),e.scope.on(),()=>{e.scope.off(),_r(t)}},Ao=()=>{Ye&&Ye.scope.off(),_r(null)};function Au(e){return e.vnode.shapeFlag&4}let Ii=!1;function Bg(e,t=!1,n=!1){t&&Hs(t);const{props:f,children:g}=e.vnode,m=Au(e);ug(e,f,m,t),gg(e,g,n);const y=m?jg(e,t):void 0;return t&&Hs(!1),y}function jg(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,tg);const{setup:f}=n;if(f){vn();const g=e.setupContext=f.length>1?Ng(e):null,m=Gi(e),y=zi(f,e,0,[e.props,g]),u=yc(y);if(mn(),m(),(u||e.sp)&&!wi(e)&&au(e),u){if(y.then(Ao,Ao),t)return y.then(i=>{Mo(e,i)}).catch(i=>{Nr(i,e,0)});e.asyncDep=y}else Mo(e,y)}else Mu(e)}function Mo(e,t,n){Ce(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Le(t)&&(e.setupState=Yc(t)),Mu(e)}function Mu(e,t,n){const f=e.type;e.render||(e.render=f.render||Nt);{const g=Gi(e);vn();try{ng(e)}finally{mn(),g()}}}const Vg={get(e,t){return qe(e,"get",""),e[t]}};function Ng(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Vg),slots:e.slots,emit:e.emit,expose:t}}function Yr(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Yc(xa(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in xi)return xi[n](e)},has(t,n){return n in t||n in xi}})):e.proxy}function Hg(e,t=!0){return Ce(e)?e.displayName||e.name:e.name||t&&e.__name}function Wg(e){return Ce(e)&&"__vccOpts"in e}const H=(e,t)=>Id(e,t,Ii);function Wt(e,t,n){const f=arguments.length;return f===2?Le(t)&&!be(t)?br(t)?F(e,null,[t]):F(e,t):F(e,null,t):(f>3?n=Array.prototype.slice.call(arguments,2):f===3&&br(n)&&(n=[n]),F(e,t,n))}const zg="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ws;const Do=typeof window<"u"&&window.trustedTypes;if(Do)try{Ws=Do.createPolicy("vue",{createHTML:e=>e})}catch{}const Du=Ws?e=>Ws.createHTML(e):e=>e,Yg="http://www.w3.org/2000/svg",Xg="http://www.w3.org/1998/Math/MathML",Ut=typeof document<"u"?document:null,Fo=Ut&&Ut.createElement("template"),Ug={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,f)=>{const g=t==="svg"?Ut.createElementNS(Yg,e):t==="mathml"?Ut.createElementNS(Xg,e):n?Ut.createElement(e,{is:n}):Ut.createElement(e);return e==="select"&&f&&f.multiple!=null&&g.setAttribute("multiple",f.multiple),g},createText:e=>Ut.createTextNode(e),createComment:e=>Ut.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ut.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,f,g,m){const y=n?n.previousSibling:t.lastChild;if(g&&(g===m||g.nextSibling))for(;t.insertBefore(g.cloneNode(!0),n),!(g===m||!(g=g.nextSibling)););else{Fo.innerHTML=Du(f==="svg"?`<svg>${e}</svg>`:f==="mathml"?`<math>${e}</math>`:e);const u=Fo.content;if(f==="svg"||f==="mathml"){const i=u.firstChild;for(;i.firstChild;)u.appendChild(i.firstChild);u.removeChild(i)}t.insertBefore(u,n)}return[y?y.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},nn="transition",di="animation",ti=Symbol("_vtc"),Fu={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Lu=ze({},nu,Fu),Gg=e=>(e.displayName="Transition",e.props=Lu,e),ai=Gg((e,{slots:t})=>Wt(Yd,Iu(e),t)),On=(e,t=[])=>{be(e)?e.forEach(n=>n(...t)):e&&e(...t)},Lo=e=>e?be(e)?e.some(t=>t.length>1):e.length>1:!1;function Iu(e){const t={};for(const R in e)R in Fu||(t[R]=e[R]);if(e.css===!1)return t;const{name:n="v",type:f,duration:g,enterFromClass:m=`${n}-enter-from`,enterActiveClass:y=`${n}-enter-active`,enterToClass:u=`${n}-enter-to`,appearFromClass:i=m,appearActiveClass:h=y,appearToClass:c=u,leaveFromClass:r=`${n}-leave-from`,leaveActiveClass:a=`${n}-leave-active`,leaveToClass:s=`${n}-leave-to`}=e,o=$g(g),d=o&&o[0],l=o&&o[1],{onBeforeEnter:v,onEnter:p,onEnterCancelled:b,onLeave:_,onLeaveCancelled:C,onBeforeAppear:S=v,onAppear:w=p,onAppearCancelled:x=b}=t,A=(R,G,$,ee)=>{R._enterCancelled=ee,sn(R,G?c:u),sn(R,G?h:y),$&&$()},V=(R,G)=>{R._isLeaving=!1,sn(R,r),sn(R,s),sn(R,a),G&&G()},z=R=>(G,$)=>{const ee=R?w:p,ne=()=>A(G,R,$);On(ee,[G,ne]),Io(()=>{sn(G,R?i:m),Bt(G,R?c:u),Lo(ee)||Ro(G,f,d,ne)})};return ze(t,{onBeforeEnter(R){On(v,[R]),Bt(R,m),Bt(R,y)},onBeforeAppear(R){On(S,[R]),Bt(R,i),Bt(R,h)},onEnter:z(!1),onAppear:z(!0),onLeave(R,G){R._isLeaving=!0;const $=()=>V(R,G);Bt(R,r),R._enterCancelled?(Bt(R,a),zs()):(zs(),Bt(R,a)),Io(()=>{R._isLeaving&&(sn(R,r),Bt(R,s),Lo(_)||Ro(R,f,l,$))}),On(_,[R,$])},onEnterCancelled(R){A(R,!1,void 0,!0),On(b,[R])},onAppearCancelled(R){A(R,!0,void 0,!0),On(x,[R])},onLeaveCancelled(R){V(R),On(C,[R])}})}function $g(e){if(e==null)return null;if(Le(e))return[vs(e.enter),vs(e.leave)];{const t=vs(e);return[t,t]}}function vs(e){return rd(e)}function Bt(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[ti]||(e[ti]=new Set)).add(t)}function sn(e,t){t.split(/\s+/).forEach(f=>f&&e.classList.remove(f));const n=e[ti];n&&(n.delete(t),n.size||(e[ti]=void 0))}function Io(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Kg=0;function Ro(e,t,n,f){const g=e._endId=++Kg,m=()=>{g===e._endId&&f()};if(n!=null)return setTimeout(m,n);const{type:y,timeout:u,propCount:i}=Ru(e,t);if(!y)return f();const h=y+"end";let c=0;const r=()=>{e.removeEventListener(h,a),m()},a=s=>{s.target===e&&++c>=i&&r()};setTimeout(()=>{c<i&&r()},u+1),e.addEventListener(h,a)}function Ru(e,t){const n=window.getComputedStyle(e),f=o=>(n[o]||"").split(", "),g=f(`${nn}Delay`),m=f(`${nn}Duration`),y=Bo(g,m),u=f(`${di}Delay`),i=f(`${di}Duration`),h=Bo(u,i);let c=null,r=0,a=0;t===nn?y>0&&(c=nn,r=y,a=m.length):t===di?h>0&&(c=di,r=h,a=i.length):(r=Math.max(y,h),c=r>0?y>h?nn:di:null,a=c?c===nn?m.length:i.length:0);const s=c===nn&&/\b(transform|all)(,|$)/.test(f(`${nn}Property`).toString());return{type:c,timeout:r,propCount:a,hasTransform:s}}function Bo(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,f)=>jo(n)+jo(e[f])))}function jo(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function zs(){return document.body.offsetHeight}function qg(e,t,n){const f=e[ti];f&&(t=(t?[t,...f]:[...f]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Cr=Symbol("_vod"),Bu=Symbol("_vsh"),oi={beforeMount(e,{value:t},{transition:n}){e[Cr]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):gi(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:f}){!t!=!n&&(f?t?(f.beforeEnter(e),gi(e,!0),f.enter(e)):f.leave(e,()=>{gi(e,!1)}):gi(e,t))},beforeUnmount(e,{value:t}){gi(e,t)}};function gi(e,t){e.style.display=t?e[Cr]:"none",e[Bu]=!t}const Jg=Symbol(""),Zg=/(^|;)\s*display\s*:/;function Qg(e,t,n){const f=e.style,g=je(n);let m=!1;if(n&&!g){if(t)if(je(t))for(const y of t.split(";")){const u=y.slice(0,y.indexOf(":")).trim();n[u]==null&&lr(f,u,"")}else for(const y in t)n[y]==null&&lr(f,y,"");for(const y in n)y==="display"&&(m=!0),lr(f,y,n[y])}else if(g){if(t!==n){const y=f[Jg];y&&(n+=";"+y),f.cssText=n,m=Zg.test(n)}}else t&&e.removeAttribute("style");Cr in e&&(e[Cr]=m?f.display:"",e[Bu]&&(f.display="none"))}const Vo=/\s*!important$/;function lr(e,t,n){if(be(n))n.forEach(f=>lr(e,t,f));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const f=ev(e,t);Vo.test(n)?e.setProperty(Hn(f),n.replace(Vo,""),"important"):e[f]=n}}const No=["Webkit","Moz","ms"],ms={};function ev(e,t){const n=ms[t];if(n)return n;let f=lt(t);if(f!=="filter"&&f in e)return ms[t]=f;f=Qt(f);for(let g=0;g<No.length;g++){const m=No[g]+f;if(m in e)return ms[t]=m}return t}const Ho="http://www.w3.org/1999/xlink";function Wo(e,t,n,f,g,m=ud(t)){f&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Ho,t.slice(6,t.length)):e.setAttributeNS(Ho,t,n):n==null||m&&!Sc(n)?e.removeAttribute(t):e.setAttribute(t,m?"":gn(n)?String(n):n)}function zo(e,t,n,f,g){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Du(n):n);return}const m=e.tagName;if(t==="value"&&m!=="PROGRESS"&&!m.includes("-")){const u=m==="OPTION"?e.getAttribute("value")||"":e.value,i=n==null?e.type==="checkbox"?"on":"":String(n);(u!==i||!("_value"in e))&&(e.value=i),n==null&&e.removeAttribute(t),e._value=n;return}let y=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=Sc(n):n==null&&u==="string"?(n="",y=!0):u==="number"&&(n=0,y=!0)}try{e[t]=n}catch{}y&&e.removeAttribute(g||t)}function tv(e,t,n,f){e.addEventListener(t,n,f)}function nv(e,t,n,f){e.removeEventListener(t,n,f)}const Yo=Symbol("_vei");function iv(e,t,n,f,g=null){const m=e[Yo]||(e[Yo]={}),y=m[t];if(f&&y)y.value=f;else{const[u,i]=rv(t);if(f){const h=m[t]=ov(f,g);tv(e,u,h,i)}else y&&(nv(e,u,y,i),m[t]=void 0)}}const Xo=/(?:Once|Passive|Capture)$/;function rv(e){let t;if(Xo.test(e)){t={};let f;for(;f=e.match(Xo);)e=e.slice(0,e.length-f[0].length),t[f[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Hn(e.slice(2)),t]}let ps=0;const sv=Promise.resolve(),av=()=>ps||(sv.then(()=>ps=0),ps=Date.now());function ov(e,t){const n=f=>{if(!f._vts)f._vts=Date.now();else if(f._vts<=n.attached)return;Dt(lv(f,n.value),t,5,[f])};return n.value=e,n.attached=av(),n}function lv(e,t){if(be(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(f=>g=>!g._stopped&&f&&f(g))}else return t}const Uo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,cv=(e,t,n,f,g,m)=>{const y=g==="svg";t==="class"?qg(e,f,y):t==="style"?Qg(e,n,f):Fr(t)?da(t)||iv(e,t,n,f,m):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):uv(e,t,f,y))?(zo(e,t,f),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Wo(e,t,f,y,m,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!je(f))?zo(e,lt(t),f,m,t):(t==="true-value"?e._trueValue=f:t==="false-value"&&(e._falseValue=f),Wo(e,t,f,y))};function uv(e,t,n,f){if(f)return!!(t==="innerHTML"||t==="textContent"||t in e&&Uo(t)&&Ce(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const g=e.tagName;if(g==="IMG"||g==="VIDEO"||g==="CANVAS"||g==="SOURCE")return!1}return Uo(t)&&je(n)?!1:t in e}const ju=new WeakMap,Vu=new WeakMap,Sr=Symbol("_moveCb"),Go=Symbol("_enterCb"),fv=e=>(delete e.props.mode,e),hv=fv({name:"TransitionGroup",props:ze({},Lu,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=La(),f=tu();let g,m;return Pa(()=>{if(!g.length)return;const y=e.moveClass||`${e.name||"v"}-move`;if(!mv(g[0].el,n.vnode.el,y))return;g.forEach(dv),g.forEach(gv);const u=g.filter(vv);zs(),u.forEach(i=>{const h=i.el,c=h.style;Bt(h,y),c.transform=c.webkitTransform=c.transitionDuration="";const r=h[Sr]=a=>{a&&a.target!==h||(!a||/transform$/.test(a.propertyName))&&(h.removeEventListener("transitionend",r),h[Sr]=null,sn(h,y))};h.addEventListener("transitionend",r)})}),()=>{const y=ve(e),u=Iu(y);let i=y.tag||Re;if(g=[],m)for(let h=0;h<m.length;h++){const c=m[h];c.el&&c.el instanceof Element&&(g.push(c),Vn(c,Fi(c,u,f,n)),ju.set(c,c.el.getBoundingClientRect()))}m=t.default?Oa(t.default()):[];for(let h=0;h<m.length;h++){const c=m[h];c.key!=null&&Vn(c,Fi(c,u,f,n))}return F(i,null,m)}}}),Ia=hv;function dv(e){const t=e.el;t[Sr]&&t[Sr](),t[Go]&&t[Go]()}function gv(e){Vu.set(e,e.el.getBoundingClientRect())}function vv(e){const t=ju.get(e),n=Vu.get(e),f=t.left-n.left,g=t.top-n.top;if(f||g){const m=e.el.style;return m.transform=m.webkitTransform=`translate(${f}px,${g}px)`,m.transitionDuration="0s",e}}function mv(e,t,n){const f=e.cloneNode(),g=e[ti];g&&g.forEach(u=>{u.split(/\s+/).forEach(i=>i&&f.classList.remove(i))}),n.split(/\s+/).forEach(u=>u&&f.classList.add(u)),f.style.display="none";const m=t.nodeType===1?t:t.parentNode;m.appendChild(f);const{hasTransform:y}=Ru(f);return m.removeChild(f),y}const pv=ze({patchProp:cv},Ug);let $o;function yv(){return $o||($o=mg(pv))}const bv=(...e)=>{const t=yv().createApp(...e),{mount:n}=t;return t.mount=f=>{const g=Cv(f);if(!g)return;const m=t._component;!Ce(m)&&!m.render&&!m.template&&(m.template=g.innerHTML),g.nodeType===1&&(g.textContent="");const y=n(g,!1,_v(g));return g instanceof Element&&(g.removeAttribute("v-cloak"),g.setAttribute("data-v-app","")),y},t};function _v(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Cv(e){return je(e)?document.querySelector(e):e}var Sv=!1;/*!
 * pinia v2.3.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let Nu;const Xr=e=>Nu=e,Hu=Symbol();function Ys(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Oi;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Oi||(Oi={}));function wv(){const e=Hi(!0),t=e.run(()=>ge({}));let n=[],f=[];const g=xa({install(m){Xr(g),g._a=m,m.provide(Hu,g),m.config.globalProperties.$pinia=g,f.forEach(y=>n.push(y)),f=[]},use(m){return!this._a&&!Sv?f.push(m):n.push(m),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return g}const Wu=()=>{};function Ko(e,t,n,f=Wu){e.push(t);const g=()=>{const m=e.indexOf(t);m>-1&&(e.splice(m,1),f())};return!n&&kc()&&mt(g),g}function zn(e,...t){e.slice().forEach(n=>{n(...t)})}const xv=e=>e(),qo=Symbol(),ys=Symbol();function Xs(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,f)=>e.set(f,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const f=t[n],g=e[n];Ys(g)&&Ys(f)&&e.hasOwnProperty(n)&&!Ee(f)&&!dn(f)?e[n]=Xs(g,f):e[n]=f}return e}const Tv=Symbol();function Ov(e){return!Ys(e)||!e.hasOwnProperty(Tv)}const{assign:an}=Object;function kv(e){return!!(Ee(e)&&e.effect)}function Pv(e,t,n,f){const{state:g,actions:m,getters:y}=t,u=n.state.value[e];let i;function h(){u||(n.state.value[e]=g?g():{});const c=Vr(n.state.value[e]);return an(c,m,Object.keys(y||{}).reduce((r,a)=>(r[a]=xa(H(()=>{Xr(n);const s=n._s.get(e);return y[a].call(s,s)})),r),{}))}return i=zu(e,h,t,n,f,!0),i}function zu(e,t,n={},f,g,m){let y;const u=an({actions:{}},n),i={deep:!0};let h,c,r=[],a=[],s;const o=f.state.value[e];!m&&!o&&(f.state.value[e]={}),ge({});let d;function l(x){let A;h=c=!1,typeof x=="function"?(x(f.state.value[e]),A={type:Oi.patchFunction,storeId:e,events:s}):(Xs(f.state.value[e],x),A={type:Oi.patchObject,payload:x,storeId:e,events:s});const V=d=Symbol();ct().then(()=>{d===V&&(h=!0)}),c=!0,zn(r,A,f.state.value[e])}const v=m?function(){const{state:A}=n,V=A?A():{};this.$patch(z=>{an(z,V)})}:Wu;function p(){y.stop(),r=[],a=[],f._s.delete(e)}const b=(x,A="")=>{if(qo in x)return x[ys]=A,x;const V=function(){Xr(f);const z=Array.from(arguments),R=[],G=[];function $(re){R.push(re)}function ee(re){G.push(re)}zn(a,{args:z,name:V[ys],store:C,after:$,onError:ee});let ne;try{ne=x.apply(this&&this.$id===e?this:C,z)}catch(re){throw zn(G,re),re}return ne instanceof Promise?ne.then(re=>(zn(R,re),re)).catch(re=>(zn(G,re),Promise.reject(re))):(zn(R,ne),ne)};return V[qo]=!0,V[ys]=A,V},_={_p:f,$id:e,$onAction:Ko.bind(null,a),$patch:l,$reset:v,$subscribe(x,A={}){const V=Ko(r,x,A.detached,()=>z()),z=y.run(()=>me(()=>f.state.value[e],R=>{(A.flush==="sync"?c:h)&&x({storeId:e,type:Oi.direct,events:s},R)},an({},i,A)));return V},$dispose:p},C=We(_);f._s.set(e,C);const w=(f._a&&f._a.runWithContext||xv)(()=>f._e.run(()=>(y=Hi()).run(()=>t({action:b}))));for(const x in w){const A=w[x];if(Ee(A)&&!kv(A)||dn(A))m||(o&&Ov(A)&&(Ee(A)?A.value=o[x]:Xs(A,o[x])),f.state.value[e][x]=A);else if(typeof A=="function"){const V=b(A,x);w[x]=V,u.actions[x]=A}}return an(C,w),an(ve(C),w),Object.defineProperty(C,"$state",{get:()=>f.state.value[e],set:x=>{l(A=>{an(A,x)})}}),f._p.forEach(x=>{an(C,y.run(()=>x({store:C,app:f._a,pinia:f,options:u})))}),o&&m&&n.hydrate&&n.hydrate(C.$state,o),h=!0,c=!0,C}/*! #__NO_SIDE_EFFECTS__ */function Ev(e,t,n){let f,g;const m=typeof t=="function";f=e,g=m?n:t;function y(u,i){const h=cg();return u=u||(h?Pe(Hu,null):null),u&&Xr(u),u=Nu,u._s.has(f)||(m?zu(f,t,g,u):Pv(f,g,u)),u._s.get(f)}return y.$id=f,y}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Kn=typeof document<"u";function Yu(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Av(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Yu(e.default)}const Oe=Object.assign;function bs(e,t){const n={};for(const f in t){const g=t[f];n[f]=Lt(g)?g.map(e):e(g)}return n}const ki=()=>{},Lt=Array.isArray,Xu=/#/g,Mv=/&/g,Dv=/\//g,Fv=/=/g,Lv=/\?/g,Uu=/\+/g,Iv=/%5B/g,Rv=/%5D/g,Gu=/%5E/g,Bv=/%60/g,$u=/%7B/g,jv=/%7C/g,Ku=/%7D/g,Vv=/%20/g;function Ra(e){return encodeURI(""+e).replace(jv,"|").replace(Iv,"[").replace(Rv,"]")}function Nv(e){return Ra(e).replace($u,"{").replace(Ku,"}").replace(Gu,"^")}function Us(e){return Ra(e).replace(Uu,"%2B").replace(Vv,"+").replace(Xu,"%23").replace(Mv,"%26").replace(Bv,"`").replace($u,"{").replace(Ku,"}").replace(Gu,"^")}function Hv(e){return Us(e).replace(Fv,"%3D")}function Wv(e){return Ra(e).replace(Xu,"%23").replace(Lv,"%3F")}function zv(e){return e==null?"":Wv(e).replace(Dv,"%2F")}function Ri(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Yv=/\/$/,Xv=e=>e.replace(Yv,"");function _s(e,t,n="/"){let f,g={},m="",y="";const u=t.indexOf("#");let i=t.indexOf("?");return u<i&&u>=0&&(i=-1),i>-1&&(f=t.slice(0,i),m=t.slice(i+1,u>-1?u:t.length),g=e(m)),u>-1&&(f=f||t.slice(0,u),y=t.slice(u,t.length)),f=Kv(f??t,n),{fullPath:f+(m&&"?")+m+y,path:f,query:g,hash:Ri(y)}}function Uv(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Jo(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Gv(e,t,n){const f=t.matched.length-1,g=n.matched.length-1;return f>-1&&f===g&&ni(t.matched[f],n.matched[g])&&qu(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function ni(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function qu(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!$v(e[n],t[n]))return!1;return!0}function $v(e,t){return Lt(e)?Zo(e,t):Lt(t)?Zo(t,e):e===t}function Zo(e,t){return Lt(t)?e.length===t.length&&e.every((n,f)=>n===t[f]):e.length===1&&e[0]===t}function Kv(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),f=e.split("/"),g=f[f.length-1];(g===".."||g===".")&&f.push("");let m=n.length-1,y,u;for(y=0;y<f.length;y++)if(u=f[y],u!==".")if(u==="..")m>1&&m--;else break;return n.slice(0,m).join("/")+"/"+f.slice(y).join("/")}const rn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Bi;(function(e){e.pop="pop",e.push="push"})(Bi||(Bi={}));var Pi;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Pi||(Pi={}));function qv(e){if(!e)if(Kn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Xv(e)}const Jv=/^[^#]+#/;function Zv(e,t){return e.replace(Jv,"#")+t}function Qv(e,t){const n=document.documentElement.getBoundingClientRect(),f=e.getBoundingClientRect();return{behavior:t.behavior,left:f.left-n.left-(t.left||0),top:f.top-n.top-(t.top||0)}}const Ur=()=>({left:window.scrollX,top:window.scrollY});function em(e){let t;if("el"in e){const n=e.el,f=typeof n=="string"&&n.startsWith("#"),g=typeof n=="string"?f?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!g)return;t=Qv(g,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Qo(e,t){return(history.state?history.state.position-t:-1)+e}const Gs=new Map;function tm(e,t){Gs.set(e,t)}function nm(e){const t=Gs.get(e);return Gs.delete(e),t}let im=()=>location.protocol+"//"+location.host;function Ju(e,t){const{pathname:n,search:f,hash:g}=t,m=e.indexOf("#");if(m>-1){let u=g.includes(e.slice(m))?e.slice(m).length:1,i=g.slice(u);return i[0]!=="/"&&(i="/"+i),Jo(i,"")}return Jo(n,e)+f+g}function rm(e,t,n,f){let g=[],m=[],y=null;const u=({state:a})=>{const s=Ju(e,location),o=n.value,d=t.value;let l=0;if(a){if(n.value=s,t.value=a,y&&y===o){y=null;return}l=d?a.position-d.position:0}else f(s);g.forEach(v=>{v(n.value,o,{delta:l,type:Bi.pop,direction:l?l>0?Pi.forward:Pi.back:Pi.unknown})})};function i(){y=n.value}function h(a){g.push(a);const s=()=>{const o=g.indexOf(a);o>-1&&g.splice(o,1)};return m.push(s),s}function c(){const{history:a}=window;a.state&&a.replaceState(Oe({},a.state,{scroll:Ur()}),"")}function r(){for(const a of m)a();m=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:i,listen:h,destroy:r}}function el(e,t,n,f=!1,g=!1){return{back:e,current:t,forward:n,replaced:f,position:window.history.length,scroll:g?Ur():null}}function sm(e){const{history:t,location:n}=window,f={value:Ju(e,n)},g={value:t.state};g.value||m(f.value,{back:null,current:f.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function m(i,h,c){const r=e.indexOf("#"),a=r>-1?(n.host&&document.querySelector("base")?e:e.slice(r))+i:im()+e+i;try{t[c?"replaceState":"pushState"](h,"",a),g.value=h}catch(s){console.error(s),n[c?"replace":"assign"](a)}}function y(i,h){const c=Oe({},t.state,el(g.value.back,i,g.value.forward,!0),h,{position:g.value.position});m(i,c,!0),f.value=i}function u(i,h){const c=Oe({},g.value,t.state,{forward:i,scroll:Ur()});m(c.current,c,!0);const r=Oe({},el(f.value,i,null),{position:c.position+1},h);m(i,r,!1),f.value=i}return{location:f,state:g,push:u,replace:y}}function am(e){e=qv(e);const t=sm(e),n=rm(e,t.state,t.location,t.replace);function f(m,y=!0){y||n.pauseListeners(),history.go(m)}const g=Oe({location:"",base:e,go:f,createHref:Zv.bind(null,e)},t,n);return Object.defineProperty(g,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(g,"state",{enumerable:!0,get:()=>t.state.value}),g}function om(e){return typeof e=="string"||e&&typeof e=="object"}function Zu(e){return typeof e=="string"||typeof e=="symbol"}const Qu=Symbol("");var tl;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(tl||(tl={}));function ii(e,t){return Oe(new Error,{type:e,[Qu]:!0},t)}function Xt(e,t){return e instanceof Error&&Qu in e&&(t==null||!!(e.type&t))}const nl="[^/]+?",lm={sensitive:!1,strict:!1,start:!0,end:!0},cm=/[.+*?^${}()[\]/\\]/g;function um(e,t){const n=Oe({},lm,t),f=[];let g=n.start?"^":"";const m=[];for(const h of e){const c=h.length?[]:[90];n.strict&&!h.length&&(g+="/");for(let r=0;r<h.length;r++){const a=h[r];let s=40+(n.sensitive?.25:0);if(a.type===0)r||(g+="/"),g+=a.value.replace(cm,"\\$&"),s+=40;else if(a.type===1){const{value:o,repeatable:d,optional:l,regexp:v}=a;m.push({name:o,repeatable:d,optional:l});const p=v||nl;if(p!==nl){s+=10;try{new RegExp(`(${p})`)}catch(_){throw new Error(`Invalid custom RegExp for param "${o}" (${p}): `+_.message)}}let b=d?`((?:${p})(?:/(?:${p}))*)`:`(${p})`;r||(b=l&&h.length<2?`(?:/${b})`:"/"+b),l&&(b+="?"),g+=b,s+=20,l&&(s+=-8),d&&(s+=-20),p===".*"&&(s+=-50)}c.push(s)}f.push(c)}if(n.strict&&n.end){const h=f.length-1;f[h][f[h].length-1]+=.7000000000000001}n.strict||(g+="/?"),n.end?g+="$":n.strict&&!g.endsWith("/")&&(g+="(?:/|$)");const y=new RegExp(g,n.sensitive?"":"i");function u(h){const c=h.match(y),r={};if(!c)return null;for(let a=1;a<c.length;a++){const s=c[a]||"",o=m[a-1];r[o.name]=s&&o.repeatable?s.split("/"):s}return r}function i(h){let c="",r=!1;for(const a of e){(!r||!c.endsWith("/"))&&(c+="/"),r=!1;for(const s of a)if(s.type===0)c+=s.value;else if(s.type===1){const{value:o,repeatable:d,optional:l}=s,v=o in h?h[o]:"";if(Lt(v)&&!d)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);const p=Lt(v)?v.join("/"):v;if(!p)if(l)a.length<2&&(c.endsWith("/")?c=c.slice(0,-1):r=!0);else throw new Error(`Missing required param "${o}"`);c+=p}}return c||"/"}return{re:y,score:f,keys:m,parse:u,stringify:i}}function fm(e,t){let n=0;for(;n<e.length&&n<t.length;){const f=t[n]-e[n];if(f)return f;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function ef(e,t){let n=0;const f=e.score,g=t.score;for(;n<f.length&&n<g.length;){const m=fm(f[n],g[n]);if(m)return m;n++}if(Math.abs(g.length-f.length)===1){if(il(f))return 1;if(il(g))return-1}return g.length-f.length}function il(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const hm={type:0,value:""},dm=/[a-zA-Z0-9_]/;function gm(e){if(!e)return[[]];if(e==="/")return[[hm]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(s){throw new Error(`ERR (${n})/"${h}": ${s}`)}let n=0,f=n;const g=[];let m;function y(){m&&g.push(m),m=[]}let u=0,i,h="",c="";function r(){h&&(n===0?m.push({type:0,value:h}):n===1||n===2||n===3?(m.length>1&&(i==="*"||i==="+")&&t(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),m.push({type:1,value:h,regexp:c,repeatable:i==="*"||i==="+",optional:i==="*"||i==="?"})):t("Invalid state to consume buffer"),h="")}function a(){h+=i}for(;u<e.length;){if(i=e[u++],i==="\\"&&n!==2){f=n,n=4;continue}switch(n){case 0:i==="/"?(h&&r(),y()):i===":"?(r(),n=1):a();break;case 4:a(),n=f;break;case 1:i==="("?n=2:dm.test(i)?a():(r(),n=0,i!=="*"&&i!=="?"&&i!=="+"&&u--);break;case 2:i===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+i:n=3:c+=i;break;case 3:r(),n=0,i!=="*"&&i!=="?"&&i!=="+"&&u--,c="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${h}"`),r(),y(),g}function vm(e,t,n){const f=um(gm(e.path),n),g=Oe(f,{record:e,parent:t,children:[],alias:[]});return t&&!g.record.aliasOf==!t.record.aliasOf&&t.children.push(g),g}function mm(e,t){const n=[],f=new Map;t=ol({strict:!1,end:!0,sensitive:!1},t);function g(r){return f.get(r)}function m(r,a,s){const o=!s,d=sl(r);d.aliasOf=s&&s.record;const l=ol(t,r),v=[d];if("alias"in r){const _=typeof r.alias=="string"?[r.alias]:r.alias;for(const C of _)v.push(sl(Oe({},d,{components:s?s.record.components:d.components,path:C,aliasOf:s?s.record:d})))}let p,b;for(const _ of v){const{path:C}=_;if(a&&C[0]!=="/"){const S=a.record.path,w=S[S.length-1]==="/"?"":"/";_.path=a.record.path+(C&&w+C)}if(p=vm(_,a,l),s?s.alias.push(p):(b=b||p,b!==p&&b.alias.push(p),o&&r.name&&!al(p)&&y(r.name)),tf(p)&&i(p),d.children){const S=d.children;for(let w=0;w<S.length;w++)m(S[w],p,s&&s.children[w])}s=s||p}return b?()=>{y(b)}:ki}function y(r){if(Zu(r)){const a=f.get(r);a&&(f.delete(r),n.splice(n.indexOf(a),1),a.children.forEach(y),a.alias.forEach(y))}else{const a=n.indexOf(r);a>-1&&(n.splice(a,1),r.record.name&&f.delete(r.record.name),r.children.forEach(y),r.alias.forEach(y))}}function u(){return n}function i(r){const a=bm(r,n);n.splice(a,0,r),r.record.name&&!al(r)&&f.set(r.record.name,r)}function h(r,a){let s,o={},d,l;if("name"in r&&r.name){if(s=f.get(r.name),!s)throw ii(1,{location:r});l=s.record.name,o=Oe(rl(a.params,s.keys.filter(b=>!b.optional).concat(s.parent?s.parent.keys.filter(b=>b.optional):[]).map(b=>b.name)),r.params&&rl(r.params,s.keys.map(b=>b.name))),d=s.stringify(o)}else if(r.path!=null)d=r.path,s=n.find(b=>b.re.test(d)),s&&(o=s.parse(d),l=s.record.name);else{if(s=a.name?f.get(a.name):n.find(b=>b.re.test(a.path)),!s)throw ii(1,{location:r,currentLocation:a});l=s.record.name,o=Oe({},a.params,r.params),d=s.stringify(o)}const v=[];let p=s;for(;p;)v.unshift(p.record),p=p.parent;return{name:l,path:d,params:o,matched:v,meta:ym(v)}}e.forEach(r=>m(r));function c(){n.length=0,f.clear()}return{addRoute:m,resolve:h,removeRoute:y,clearRoutes:c,getRoutes:u,getRecordMatcher:g}}function rl(e,t){const n={};for(const f of t)f in e&&(n[f]=e[f]);return n}function sl(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:pm(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function pm(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const f in e.components)t[f]=typeof n=="object"?n[f]:n;return t}function al(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function ym(e){return e.reduce((t,n)=>Oe(t,n.meta),{})}function ol(e,t){const n={};for(const f in e)n[f]=f in t?t[f]:e[f];return n}function bm(e,t){let n=0,f=t.length;for(;n!==f;){const m=n+f>>1;ef(e,t[m])<0?f=m:n=m+1}const g=_m(e);return g&&(f=t.lastIndexOf(g,f-1)),f}function _m(e){let t=e;for(;t=t.parent;)if(tf(t)&&ef(e,t)===0)return t}function tf({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Cm(e){const t={};if(e===""||e==="?")return t;const f=(e[0]==="?"?e.slice(1):e).split("&");for(let g=0;g<f.length;++g){const m=f[g].replace(Uu," "),y=m.indexOf("="),u=Ri(y<0?m:m.slice(0,y)),i=y<0?null:Ri(m.slice(y+1));if(u in t){let h=t[u];Lt(h)||(h=t[u]=[h]),h.push(i)}else t[u]=i}return t}function ll(e){let t="";for(let n in e){const f=e[n];if(n=Hv(n),f==null){f!==void 0&&(t+=(t.length?"&":"")+n);continue}(Lt(f)?f.map(m=>m&&Us(m)):[f&&Us(f)]).forEach(m=>{m!==void 0&&(t+=(t.length?"&":"")+n,m!=null&&(t+="="+m))})}return t}function Sm(e){const t={};for(const n in e){const f=e[n];f!==void 0&&(t[n]=Lt(f)?f.map(g=>g==null?null:""+g):f==null?f:""+f)}return t}const wm=Symbol(""),cl=Symbol(""),Ba=Symbol(""),nf=Symbol(""),$s=Symbol("");function vi(){let e=[];function t(f){return e.push(f),()=>{const g=e.indexOf(f);g>-1&&e.splice(g,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function un(e,t,n,f,g,m=y=>y()){const y=f&&(f.enterCallbacks[g]=f.enterCallbacks[g]||[]);return()=>new Promise((u,i)=>{const h=a=>{a===!1?i(ii(4,{from:n,to:t})):a instanceof Error?i(a):om(a)?i(ii(2,{from:t,to:a})):(y&&f.enterCallbacks[g]===y&&typeof a=="function"&&y.push(a),u())},c=m(()=>e.call(f&&f.instances[g],t,n,h));let r=Promise.resolve(c);e.length<3&&(r=r.then(h)),r.catch(a=>i(a))})}function Cs(e,t,n,f,g=m=>m()){const m=[];for(const y of e)for(const u in y.components){let i=y.components[u];if(!(t!=="beforeRouteEnter"&&!y.instances[u]))if(Yu(i)){const c=(i.__vccOpts||i)[t];c&&m.push(un(c,n,f,y,u,g))}else{let h=i();m.push(()=>h.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${u}" at "${y.path}"`);const r=Av(c)?c.default:c;y.mods[u]=c,y.components[u]=r;const s=(r.__vccOpts||r)[t];return s&&un(s,n,f,y,u,g)()}))}}return m}function ul(e){const t=Pe(Ba),n=Pe(nf),f=H(()=>{const i=Ie(e.to);return t.resolve(i)}),g=H(()=>{const{matched:i}=f.value,{length:h}=i,c=i[h-1],r=n.matched;if(!c||!r.length)return-1;const a=r.findIndex(ni.bind(null,c));if(a>-1)return a;const s=fl(i[h-2]);return h>1&&fl(c)===s&&r[r.length-1].path!==s?r.findIndex(ni.bind(null,i[h-2])):a}),m=H(()=>g.value>-1&&Pm(n.params,f.value.params)),y=H(()=>g.value>-1&&g.value===n.matched.length-1&&qu(n.params,f.value.params));function u(i={}){if(km(i)){const h=t[Ie(e.replace)?"replace":"push"](Ie(e.to)).catch(ki);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>h),h}return Promise.resolve()}return{route:f,href:H(()=>f.value.href),isActive:m,isExactActive:y,navigate:u}}function xm(e){return e.length===1?e[0]:e}const Tm=ka({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:ul,setup(e,{slots:t}){const n=We(ul(e)),{options:f}=Pe(Ba),g=H(()=>({[hl(e.activeClass,f.linkActiveClass,"router-link-active")]:n.isActive,[hl(e.exactActiveClass,f.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const m=t.default&&xm(t.default(n));return e.custom?m:Wt("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:g.value},m)}}}),Om=Tm;function km(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Pm(e,t){for(const n in t){const f=t[n],g=e[n];if(typeof f=="string"){if(f!==g)return!1}else if(!Lt(g)||g.length!==f.length||f.some((m,y)=>m!==g[y]))return!1}return!0}function fl(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const hl=(e,t,n)=>e??t??n,Em=ka({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const f=Pe($s),g=H(()=>e.route||f.value),m=Pe(cl,0),y=H(()=>{let h=Ie(m);const{matched:c}=g.value;let r;for(;(r=c[h])&&!r.components;)h++;return h}),u=H(()=>g.value.matched[y.value]);Ge(cl,H(()=>y.value+1)),Ge(wm,u),Ge($s,g);const i=ge();return me(()=>[i.value,u.value,e.name],([h,c,r],[a,s,o])=>{c&&(c.instances[r]=h,s&&s!==c&&h&&h===a&&(c.leaveGuards.size||(c.leaveGuards=s.leaveGuards),c.updateGuards.size||(c.updateGuards=s.updateGuards))),h&&c&&(!s||!ni(c,s)||!a)&&(c.enterCallbacks[r]||[]).forEach(d=>d(h))},{flush:"post"}),()=>{const h=g.value,c=e.name,r=u.value,a=r&&r.components[c];if(!a)return dl(n.default,{Component:a,route:h});const s=r.props[c],o=s?s===!0?h.params:typeof s=="function"?s(h):s:null,l=Wt(a,Oe({},o,t,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(r.instances[c]=null)},ref:i}));return dl(n.default,{Component:l,route:h})||l}}});function dl(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const rf=Em;function Am(e){const t=mm(e.routes,e),n=e.parseQuery||Cm,f=e.stringifyQuery||ll,g=e.history,m=vi(),y=vi(),u=vi(),i=ye(rn);let h=rn;Kn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=bs.bind(null,M=>""+M),r=bs.bind(null,zv),a=bs.bind(null,Ri);function s(M,U){let Y,q;return Zu(M)?(Y=t.getRecordMatcher(M),q=U):q=M,t.addRoute(q,Y)}function o(M){const U=t.getRecordMatcher(M);U&&t.removeRoute(U)}function d(){return t.getRoutes().map(M=>M.record)}function l(M){return!!t.getRecordMatcher(M)}function v(M,U){if(U=Oe({},U||i.value),typeof M=="string"){const k=_s(n,M,U.path),W=t.resolve({path:k.path},U),X=g.createHref(k.fullPath);return Oe(k,W,{params:a(W.params),hash:Ri(k.hash),redirectedFrom:void 0,href:X})}let Y;if(M.path!=null)Y=Oe({},M,{path:_s(n,M.path,U.path).path});else{const k=Oe({},M.params);for(const W in k)k[W]==null&&delete k[W];Y=Oe({},M,{params:r(k)}),U.params=r(U.params)}const q=t.resolve(Y,U),se=M.hash||"";q.params=c(a(q.params));const P=Uv(f,Oe({},M,{hash:Nv(se),path:q.path})),T=g.createHref(P);return Oe({fullPath:P,hash:se,query:f===ll?Sm(M.query):M.query||{}},q,{redirectedFrom:void 0,href:T})}function p(M){return typeof M=="string"?_s(n,M,i.value.path):Oe({},M)}function b(M,U){if(h!==M)return ii(8,{from:U,to:M})}function _(M){return w(M)}function C(M){return _(Oe(p(M),{replace:!0}))}function S(M){const U=M.matched[M.matched.length-1];if(U&&U.redirect){const{redirect:Y}=U;let q=typeof Y=="function"?Y(M):Y;return typeof q=="string"&&(q=q.includes("?")||q.includes("#")?q=p(q):{path:q},q.params={}),Oe({query:M.query,hash:M.hash,params:q.path!=null?{}:M.params},q)}}function w(M,U){const Y=h=v(M),q=i.value,se=M.state,P=M.force,T=M.replace===!0,k=S(Y);if(k)return w(Oe(p(k),{state:typeof k=="object"?Oe({},se,k.state):se,force:P,replace:T}),U||Y);const W=Y;W.redirectedFrom=U;let X;return!P&&Gv(f,q,Y)&&(X=ii(16,{to:W,from:q}),L(q,q,!0,!1)),(X?Promise.resolve(X):V(W,q)).catch(N=>Xt(N)?Xt(N,2)?N:B(N):ie(N,W,q)).then(N=>{if(N){if(Xt(N,2))return w(Oe({replace:T},p(N.to),{state:typeof N.to=="object"?Oe({},se,N.to.state):se,force:P}),U||W)}else N=R(W,q,!0,T,se);return z(W,q,N),N})}function x(M,U){const Y=b(M,U);return Y?Promise.reject(Y):Promise.resolve()}function A(M){const U=D.values().next().value;return U&&typeof U.runWithContext=="function"?U.runWithContext(M):M()}function V(M,U){let Y;const[q,se,P]=Mm(M,U);Y=Cs(q.reverse(),"beforeRouteLeave",M,U);for(const k of q)k.leaveGuards.forEach(W=>{Y.push(un(W,M,U))});const T=x.bind(null,M,U);return Y.push(T),I(Y).then(()=>{Y=[];for(const k of m.list())Y.push(un(k,M,U));return Y.push(T),I(Y)}).then(()=>{Y=Cs(se,"beforeRouteUpdate",M,U);for(const k of se)k.updateGuards.forEach(W=>{Y.push(un(W,M,U))});return Y.push(T),I(Y)}).then(()=>{Y=[];for(const k of P)if(k.beforeEnter)if(Lt(k.beforeEnter))for(const W of k.beforeEnter)Y.push(un(W,M,U));else Y.push(un(k.beforeEnter,M,U));return Y.push(T),I(Y)}).then(()=>(M.matched.forEach(k=>k.enterCallbacks={}),Y=Cs(P,"beforeRouteEnter",M,U,A),Y.push(T),I(Y))).then(()=>{Y=[];for(const k of y.list())Y.push(un(k,M,U));return Y.push(T),I(Y)}).catch(k=>Xt(k,8)?k:Promise.reject(k))}function z(M,U,Y){u.list().forEach(q=>A(()=>q(M,U,Y)))}function R(M,U,Y,q,se){const P=b(M,U);if(P)return P;const T=U===rn,k=Kn?history.state:{};Y&&(q||T?g.replace(M.fullPath,Oe({scroll:T&&k&&k.scroll},se)):g.push(M.fullPath,se)),i.value=M,L(M,U,Y,T),B()}let G;function $(){G||(G=g.listen((M,U,Y)=>{if(!E.listening)return;const q=v(M),se=S(q);if(se){w(Oe(se,{replace:!0,force:!0}),q).catch(ki);return}h=q;const P=i.value;Kn&&tm(Qo(P.fullPath,Y.delta),Ur()),V(q,P).catch(T=>Xt(T,12)?T:Xt(T,2)?(w(Oe(p(T.to),{force:!0}),q).then(k=>{Xt(k,20)&&!Y.delta&&Y.type===Bi.pop&&g.go(-1,!1)}).catch(ki),Promise.reject()):(Y.delta&&g.go(-Y.delta,!1),ie(T,q,P))).then(T=>{T=T||R(q,P,!1),T&&(Y.delta&&!Xt(T,8)?g.go(-Y.delta,!1):Y.type===Bi.pop&&Xt(T,20)&&g.go(-1,!1)),z(q,P,T)}).catch(ki)}))}let ee=vi(),ne=vi(),re;function ie(M,U,Y){B(M);const q=ne.list();return q.length?q.forEach(se=>se(M,U,Y)):console.error(M),Promise.reject(M)}function O(){return re&&i.value!==rn?Promise.resolve():new Promise((M,U)=>{ee.add([M,U])})}function B(M){return re||(re=!M,$(),ee.list().forEach(([U,Y])=>M?Y(M):U()),ee.reset()),M}function L(M,U,Y,q){const{scrollBehavior:se}=e;if(!Kn||!se)return Promise.resolve();const P=!Y&&nm(Qo(M.fullPath,0))||(q||!Y)&&history.state&&history.state.scroll||null;return ct().then(()=>se(M,U,P)).then(T=>T&&em(T)).catch(T=>ie(T,M,U))}const j=M=>g.go(M);let J;const D=new Set,E={currentRoute:i,listening:!0,addRoute:s,removeRoute:o,clearRoutes:t.clearRoutes,hasRoute:l,getRoutes:d,resolve:v,options:e,push:_,replace:C,go:j,back:()=>j(-1),forward:()=>j(1),beforeEach:m.add,beforeResolve:y.add,afterEach:u.add,onError:ne.add,isReady:O,install(M){const U=this;M.component("RouterLink",Om),M.component("RouterView",rf),M.config.globalProperties.$router=U,Object.defineProperty(M.config.globalProperties,"$route",{enumerable:!0,get:()=>Ie(i)}),Kn&&!J&&i.value===rn&&(J=!0,_(g.location).catch(se=>{}));const Y={};for(const se in rn)Object.defineProperty(Y,se,{get:()=>i.value[se],enumerable:!0});M.provide(Ba,U),M.provide(nf,Wc(Y)),M.provide($s,i);const q=M.unmount;D.add(M),M.unmount=function(){D.delete(M),D.size<1&&(h=rn,G&&G(),G=null,i.value=rn,J=!1,re=!1),q()}}};function I(M){return M.reduce((U,Y)=>U.then(()=>A(Y)),Promise.resolve())}return E}function Mm(e,t){const n=[],f=[],g=[],m=Math.max(t.matched.length,e.matched.length);for(let y=0;y<m;y++){const u=t.matched[y];u&&(e.matched.find(h=>ni(h,u))?f.push(u):n.push(u));const i=e.matched[y];i&&(t.matched.find(h=>ni(h,i))||g.push(i))}return[n,f,g]}function ue(e,t){return n=>Object.keys(e).reduce((f,g)=>{const y=typeof e[g]=="object"&&e[g]!=null&&!Array.isArray(e[g])?e[g]:{type:e[g]};return n&&g in n?f[g]={...y,default:n[g]}:f[g]=y,t&&!f[g].source&&(f[g].source=t),f},{})}const xe=ue({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component"),Be=typeof window<"u",ja=Be&&"IntersectionObserver"in window,Dm=Be&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),gl=Be&&"EyeDropper"in window;function vl(e,t,n){Fm(e,t),t.set(e,n)}function Fm(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Lm(e,t,n){return e.set(sf(e,t),n),n}function kn(e,t){return e.get(sf(e,t))}function sf(e,t,n){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function af(e,t,n){const f=t.length-1;if(f<0)return e===void 0?n:e;for(let g=0;g<f;g++){if(e==null)return n;e=e[t[g]]}return e==null||e[t[f]]===void 0?n:e[t[f]]}function $i(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date&&e.getTime()!==t.getTime()||e!==Object(e)||t!==Object(t))return!1;const n=Object.keys(e);return n.length!==Object.keys(t).length?!1:n.every(f=>$i(e[f],t[f]))}function Ks(e,t,n){return e==null||!t||typeof t!="string"?n:e[t]!==void 0?e[t]:(t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,""),af(e,t.split("."),n))}function mi(e,t,n){if(t===!0)return e===void 0?n:e;if(t==null||typeof t=="boolean")return n;if(e!==Object(e)){if(typeof t!="function")return n;const g=t(e,n);return typeof g>"u"?n:g}if(typeof t=="string")return Ks(e,t,n);if(Array.isArray(t))return af(e,t,n);if(typeof t!="function")return n;const f=t(e,n);return typeof f>"u"?n:f}function Va(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:e},(n,f)=>t+f)}function de(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(e==null||e===""))return isNaN(+e)?String(e):isFinite(+e)?`${Number(e)}${t}`:void 0}function Im(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function ml(e){let t;return e!==null&&typeof e=="object"&&((t=Object.getPrototypeOf(e))===Object.prototype||t===null)}function Rm(e){if(e&&"$el"in e){const t=e.$el;return(t==null?void 0:t.nodeType)===Node.TEXT_NODE?t.nextElementSibling:t}return e}const pl=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),Bm=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function Mn(e,t){return t.every(n=>e.hasOwnProperty(n))}function of(e,t){const n={},f=new Set(Object.keys(e));for(const g of t)f.has(g)&&(n[g]=e[g]);return n}function yl(e,t,n){const f=Object.create(null),g=Object.create(null);for(const m in e)t.some(y=>y instanceof RegExp?y.test(m):y===m)&&!(n!=null&&n.some(y=>y===m))?f[m]=e[m]:g[m]=e[m];return[f,g]}function Gr(e,t){const n={...e};return t.forEach(f=>delete n[f]),n}function jm(e,t){const n={};return t.forEach(f=>n[f]=e[f]),n}const lf=/^on[^a-z]/,Na=e=>lf.test(e),Vm=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"];function Nm(e){const[t,n]=yl(e,[lf]),f=Gr(t,Vm),[g,m]=yl(n,["class","style","id",/^data-/]);return Object.assign(g,t),Object.assign(m,f),[g,m]}function Ln(e){return e==null?[]:Array.isArray(e)?e:[e]}function _t(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(t,Math.min(n,e))}function bl(e){const t=e.toString().trim();return t.includes(".")?t.length-t.indexOf(".")-1:0}function _l(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return e+n.repeat(Math.max(0,t-e.length))}function Cl(e,t){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,t-e.length))+e}function Hm(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let f=0;for(;f<e.length;)n.push(e.substr(f,t)),f+=t;return n}function dt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const f={};for(const g in e)f[g]=e[g];for(const g in t){const m=e[g],y=t[g];if(ml(m)&&ml(y)){f[g]=dt(m,y,n);continue}if(n&&Array.isArray(m)&&Array.isArray(y)){f[g]=n(m,y);continue}f[g]=y}return f}function cf(e){return e.map(t=>t.type===Re?cf(t.children):t).flat()}function In(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(In.cache.has(e))return In.cache.get(e);const t=e.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return In.cache.set(e,t),t}In.cache=new Map;function qn(e,t){if(!t||typeof t!="object")return[];if(Array.isArray(t))return t.map(n=>qn(e,n)).flat(1);if(t.suspense)return qn(e,t.ssContent);if(Array.isArray(t.children))return t.children.map(n=>qn(e,n)).flat(1);if(t.component){if(Object.getOwnPropertySymbols(t.component.provides).includes(e))return[t.component];if(t.component.subTree)return qn(e,t.component.subTree).flat(1)}return[]}var tr=new WeakMap,Yn=new WeakMap;class Wm{constructor(t){vl(this,tr,[]),vl(this,Yn,0),this.size=t}push(t){kn(tr,this)[kn(Yn,this)]=t,Lm(Yn,this,(kn(Yn,this)+1)%this.size)}values(){return kn(tr,this).slice(kn(Yn,this)).concat(kn(tr,this).slice(0,kn(Yn,this)))}}function zm(e){return"touches"in e?{clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}:{clientX:e.clientX,clientY:e.clientY}}function Ha(e){const t=We({}),n=H(e);return Ht(()=>{for(const f in n.value)t[f]=n.value[f]},{flush:"sync"}),Vr(t)}function wr(e,t){return e.includes(t)}function uf(e){return e[2].toLowerCase()+e.slice(3)}const wt=()=>[Function,Array];function Sl(e,t){return t="on"+Qt(t),!!(e[t]||e[`${t}Once`]||e[`${t}Capture`]||e[`${t}OnceCapture`]||e[`${t}CaptureOnce`])}function Ym(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),f=1;f<t;f++)n[f-1]=arguments[f];if(Array.isArray(e))for(const g of e)g(...n);else typeof e=="function"&&e(...n)}function Xm(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(f=>`${f}${t?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...e.querySelectorAll(n)]}function Um(e,t,n){let f,g=e.indexOf(document.activeElement);const m=t==="next"?1:-1;do g+=m,f=e[g];while((!f||f.offsetParent==null)&&g<e.length&&g>=0);return f}function ff(e,t){var f,g,m,y;const n=Xm(e);if(!t)(e===document.activeElement||!e.contains(document.activeElement))&&((f=n[0])==null||f.focus());else if(t==="first")(g=n[0])==null||g.focus();else if(t==="last")(m=n.at(-1))==null||m.focus();else if(typeof t=="number")(y=n[t])==null||y.focus();else{const u=Um(n,t);u?u.focus():ff(e,t==="next"?"first":"last")}}function Gm(e,t){if(!(Be&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${t})`)))return null;try{return!!e&&e.matches(t)}catch{return null}}function $m(e,t){if(!Be||e===0)return t(),()=>{};const n=window.setTimeout(t,e);return()=>window.clearTimeout(n)}function qs(){const e=ye(),t=n=>{e.value=n};return Object.defineProperty(t,"value",{enumerable:!0,get:()=>e.value,set:n=>e.value=n}),Object.defineProperty(t,"el",{enumerable:!0,get:()=>Rm(e.value)}),t}const hf=["top","bottom"],Km=["start","end","left","right"];function Js(e,t){let[n,f]=e.split(" ");return f||(f=wr(hf,n)?"start":wr(Km,n)?"top":"center"),{side:Zs(n,t),align:Zs(f,t)}}function Zs(e,t){return e==="start"?t?"right":"left":e==="end"?t?"left":"right":e}function Ss(e){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.side],align:e.align}}function ws(e){return{side:e.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.align]}}function wl(e){return{side:e.align,align:e.side}}function xl(e){return wr(hf,e.side)?"y":"x"}class Rn{constructor(t){let{x:n,y:f,width:g,height:m}=t;this.x=n,this.y=f,this.width=g,this.height=m}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function Tl(e,t){return{x:{before:Math.max(0,t.left-e.left),after:Math.max(0,e.right-t.right)},y:{before:Math.max(0,t.top-e.top),after:Math.max(0,e.bottom-t.bottom)}}}function qm(e){return Array.isArray(e)?new Rn({x:e[0],y:e[1],width:0,height:0}):e.getBoundingClientRect()}function df(e){const t=e.getBoundingClientRect(),n=getComputedStyle(e),f=n.transform;if(f){let g,m,y,u,i;if(f.startsWith("matrix3d("))g=f.slice(9,-1).split(/, /),m=+g[0],y=+g[5],u=+g[12],i=+g[13];else if(f.startsWith("matrix("))g=f.slice(7,-1).split(/, /),m=+g[0],y=+g[3],u=+g[4],i=+g[5];else return new Rn(t);const h=n.transformOrigin,c=t.x-u-(1-m)*parseFloat(h),r=t.y-i-(1-y)*parseFloat(h.slice(h.indexOf(" ")+1)),a=m?t.width/m:e.offsetWidth+1,s=y?t.height/y:e.offsetHeight+1;return new Rn({x:c,y:r,width:a,height:s})}else return new Rn(t)}function gf(e,t,n){if(typeof e.animate>"u")return{finished:Promise.resolve()};let f;try{f=e.animate(t,n)}catch{return{finished:Promise.resolve()}}return typeof f.finished>"u"&&(f.finished=new Promise(g=>{f.onfinish=()=>{g(f)}})),f}const cr=new WeakMap;function Jm(e,t){Object.keys(t).forEach(n=>{if(Na(n)){const f=uf(n),g=cr.get(e);if(t[n]==null)g==null||g.forEach(m=>{const[y,u]=m;y===f&&(e.removeEventListener(f,u),g.delete(m))});else if(!g||![...g].some(m=>m[0]===f&&m[1]===t[n])){e.addEventListener(f,t[n]);const m=g||new Set;m.add([f,t[n]]),cr.has(e)||cr.set(e,m)}}else t[n]==null?e.removeAttribute(n):e.setAttribute(n,t[n])})}function Zm(e,t){Object.keys(t).forEach(n=>{if(Na(n)){const f=uf(n),g=cr.get(e);g==null||g.forEach(m=>{const[y,u]=m;y===f&&(e.removeEventListener(f,u),g.delete(m))})}else e.removeAttribute(n)})}const Xn=2.4,Ol=.2126729,kl=.7151522,Pl=.072175,Qm=.55,ep=.58,tp=.57,np=.62,nr=.03,El=1.45,ip=5e-4,rp=1.25,sp=1.25,Al=.078,Ml=12.82051282051282,ir=.06,Dl=.001;function Fl(e,t){const n=(e.r/255)**Xn,f=(e.g/255)**Xn,g=(e.b/255)**Xn,m=(t.r/255)**Xn,y=(t.g/255)**Xn,u=(t.b/255)**Xn;let i=n*Ol+f*kl+g*Pl,h=m*Ol+y*kl+u*Pl;if(i<=nr&&(i+=(nr-i)**El),h<=nr&&(h+=(nr-h)**El),Math.abs(h-i)<ip)return 0;let c;if(h>i){const r=(h**Qm-i**ep)*rp;c=r<Dl?0:r<Al?r-r*Ml*ir:r-ir}else{const r=(h**np-i**tp)*sp;c=r>-Dl?0:r>-Al?r-r*Ml*ir:r+ir}return c*100}function ap(e,t){t=Array.isArray(t)?t.slice(0,-1).map(n=>`'${n}'`).join(", ")+` or '${t.at(-1)}'`:`'${t}'`}const xr=.20689655172413793,op=e=>e>xr**3?Math.cbrt(e):e/(3*xr**2)+4/29,lp=e=>e>xr?e**3:3*xr**2*(e-4/29);function vf(e){const t=op,n=t(e[1]);return[116*n-16,500*(t(e[0]/.95047)-n),200*(n-t(e[2]/1.08883))]}function mf(e){const t=lp,n=(e[0]+16)/116;return[t(n+e[1]/500)*.95047,t(n),t(n-e[2]/200)*1.08883]}const cp=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],up=e=>e<=.0031308?e*12.92:1.055*e**(1/2.4)-.055,fp=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],hp=e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4;function pf(e){const t=Array(3),n=up,f=cp;for(let g=0;g<3;++g)t[g]=Math.round(_t(n(f[g][0]*e[0]+f[g][1]*e[1]+f[g][2]*e[2]))*255);return{r:t[0],g:t[1],b:t[2]}}function Wa(e){let{r:t,g:n,b:f}=e;const g=[0,0,0],m=hp,y=fp;t=m(t/255),n=m(n/255),f=m(f/255);for(let u=0;u<3;++u)g[u]=y[u][0]*t+y[u][1]*n+y[u][2]*f;return g}function Qs(e){return!!e&&/^(#|var\(--|(rgb|hsl)a?\()/.test(e)}function dp(e){return Qs(e)&&!/^((rgb|hsl)a?\()?var\(--/.test(e)}const Ll=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,gp={rgb:(e,t,n,f)=>({r:e,g:t,b:n,a:f}),rgba:(e,t,n,f)=>({r:e,g:t,b:n,a:f}),hsl:(e,t,n,f)=>Il({h:e,s:t,l:n,a:f}),hsla:(e,t,n,f)=>Il({h:e,s:t,l:n,a:f}),hsv:(e,t,n,f)=>Jt({h:e,s:t,v:n,a:f}),hsva:(e,t,n,f)=>Jt({h:e,s:t,v:n,a:f})};function Ct(e){if(typeof e=="number")return{r:(e&16711680)>>16,g:(e&65280)>>8,b:e&255};if(typeof e=="string"&&Ll.test(e)){const{groups:t}=e.match(Ll),{fn:n,values:f}=t,g=f.split(/,\s*/).map(m=>m.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(n)?parseFloat(m)/100:parseFloat(m));return gp[n](...g)}else if(typeof e=="string"){let t=e.startsWith("#")?e.slice(1):e;return[3,4].includes(t.length)?t=t.split("").map(n=>n+n).join(""):[6,8].includes(t.length),Sf(t)}else if(typeof e=="object"){if(Mn(e,["r","g","b"]))return e;if(Mn(e,["h","s","l"]))return Jt(za(e));if(Mn(e,["h","s","v"]))return Jt(e)}throw new TypeError(`Invalid color: ${e==null?e:String(e)||e.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function Jt(e){const{h:t,s:n,v:f,a:g}=e,m=u=>{const i=(u+t/60)%6;return f-f*n*Math.max(Math.min(i,4-i,1),0)},y=[m(5),m(3),m(1)].map(u=>Math.round(u*255));return{r:y[0],g:y[1],b:y[2],a:g}}function Il(e){return Jt(za(e))}function $r(e){if(!e)return{h:0,s:1,v:1,a:1};const t=e.r/255,n=e.g/255,f=e.b/255,g=Math.max(t,n,f),m=Math.min(t,n,f);let y=0;g!==m&&(g===t?y=60*(0+(n-f)/(g-m)):g===n?y=60*(2+(f-t)/(g-m)):g===f&&(y=60*(4+(t-n)/(g-m)))),y<0&&(y=y+360);const u=g===0?0:(g-m)/g,i=[y,u,g];return{h:i[0],s:i[1],v:i[2],a:e.a}}function yf(e){const{h:t,s:n,v:f,a:g}=e,m=f-f*n/2,y=m===1||m===0?0:(f-m)/Math.min(m,1-m);return{h:t,s:y,l:m,a:g}}function za(e){const{h:t,s:n,l:f,a:g}=e,m=f+n*Math.min(f,1-f),y=m===0?0:2-2*f/m;return{h:t,s:y,v:m,a:g}}function bf(e){let{r:t,g:n,b:f,a:g}=e;return g===void 0?`rgb(${t}, ${n}, ${f})`:`rgba(${t}, ${n}, ${f}, ${g})`}function _f(e){return bf(Jt(e))}function rr(e){const t=Math.round(e).toString(16);return("00".substr(0,2-t.length)+t).toUpperCase()}function Cf(e){let{r:t,g:n,b:f,a:g}=e;return`#${[rr(t),rr(n),rr(f),g!==void 0?rr(Math.round(g*255)):""].join("")}`}function Sf(e){e=vp(e);let[t,n,f,g]=Hm(e,2).map(m=>parseInt(m,16));return g=g===void 0?g:g/255,{r:t,g:n,b:f,a:g}}function wf(e){const t=Sf(e);return $r(t)}function xf(e){return Cf(Jt(e))}function vp(e){return e.startsWith("#")&&(e=e.slice(1)),e=e.replace(/([^0-9a-f])/gi,"F"),(e.length===3||e.length===4)&&(e=e.split("").map(t=>t+t).join("")),e.length!==6&&(e=_l(_l(e,6),8,"F")),e}function mp(e,t){const n=vf(Wa(e));return n[0]=n[0]+t*10,pf(mf(n))}function pp(e,t){const n=vf(Wa(e));return n[0]=n[0]-t*10,pf(mf(n))}function ea(e){const t=Ct(e);return Wa(t)[1]}function yp(e,t){const n=ea(e),f=ea(t),g=Math.max(n,f),m=Math.min(n,f);return(g+.05)/(m+.05)}function Tf(e){const t=Math.abs(Fl(Ct(0),Ct(e)));return Math.abs(Fl(Ct(16777215),Ct(e)))>Math.min(t,50)?"#fff":"#000"}function He(e,t){const n=La();if(!n)throw new Error(`[Vuetify] ${e} must be called from inside a setup function`);return n}function zt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const t=He(e).type;return In((t==null?void 0:t.aliasName)||(t==null?void 0:t.name))}let Of=0,ur=new WeakMap;function tn(){const e=He("getUid");if(ur.has(e))return ur.get(e);{const t=Of++;return ur.set(e,t),t}}tn.reset=()=>{Of=0,ur=new WeakMap};function bp(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:He("injectSelf");const{provides:n}=t;if(n&&e in n)return n[e]}const ri=Symbol.for("vuetify:defaults");function _p(e){return ge(e)}function Ya(){const e=Pe(ri);if(!e)throw new Error("[Vuetify] Could not find defaults instance");return e}function li(e,t){const n=Ya(),f=ge(e),g=H(()=>{if(Ie(t==null?void 0:t.disabled))return n.value;const y=Ie(t==null?void 0:t.scoped),u=Ie(t==null?void 0:t.reset),i=Ie(t==null?void 0:t.root);if(f.value==null&&!(y||u||i))return n.value;let h=dt(f.value,{prev:n.value});if(y)return h;if(u||i){const c=Number(u||1/0);for(let r=0;r<=c&&!(!h||!("prev"in h));r++)h=h.prev;return h&&typeof i=="string"&&i in h&&(h=dt(dt(h,{prev:h}),h[i])),h}return h.prev?dt(h.prev,h):h});return Ge(ri,g),g}function Cp(e,t){var n,f;return typeof((n=e.props)==null?void 0:n[t])<"u"||typeof((f=e.props)==null?void 0:f[In(t)])<"u"}function Sp(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ya();const f=He("useDefaults");if(t=t??f.type.name??f.type.__name,!t)throw new Error("[Vuetify] Could not determine component name");const g=H(()=>{var i;return(i=n.value)==null?void 0:i[e._as??t]}),m=new Proxy(e,{get(i,h){var r,a,s,o,d,l,v;const c=Reflect.get(i,h);return h==="class"||h==="style"?[(r=g.value)==null?void 0:r[h],c].filter(p=>p!=null):typeof h=="string"&&!Cp(f.vnode,h)?((a=g.value)==null?void 0:a[h])!==void 0?(s=g.value)==null?void 0:s[h]:((d=(o=n.value)==null?void 0:o.global)==null?void 0:d[h])!==void 0?(v=(l=n.value)==null?void 0:l.global)==null?void 0:v[h]:c:c}}),y=ye();Ht(()=>{if(g.value){const i=Object.entries(g.value).filter(h=>{let[c]=h;return c.startsWith(c[0].toUpperCase())});y.value=i.length?Object.fromEntries(i):void 0}else y.value=void 0});function u(){const i=bp(ri,f);Ge(ri,H(()=>y.value?dt((i==null?void 0:i.value)??{},y.value):i==null?void 0:i.value))}return{props:m,provideSubDefaults:u}}function It(e){if(e._setup=e._setup??e.setup,!e.name)return e;if(e._setup){e.props=ue(e.props??{},e.name)();const t=Object.keys(e.props).filter(n=>n!=="class"&&n!=="style");e.filterProps=function(f){return of(f,t)},e.props._as=String,e.setup=function(f,g){const m=Ya();if(!m.value)return e._setup(f,g);const{props:y,provideSubDefaults:u}=Sp(f,f._as??e.name,m),i=e._setup(y,g);return u(),i}}return e}function Se(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t=>(e?It:ka)(t)}function wp(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return Se()({name:n??Qt(lt(e.replace(/__/g,"-"))),props:{tag:{type:String,default:t},...xe()},setup(f,g){let{slots:m}=g;return()=>{var y;return Wt(f.tag,{class:[e,f.class],style:f.style},(y=m.default)==null?void 0:y.call(m))}}})}function kf(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}const Pf="cubic-bezier(0.4, 0, 0.2, 1)";function xp(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;e;){if(t?Tp(e):Xa(e))return e;e=e.parentElement}return document.scrollingElement}function Tr(e,t){const n=[];if(t&&e&&!t.contains(e))return n;for(;e&&(Xa(e)&&n.push(e),e!==t);)e=e.parentElement;return n}function Xa(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return t.overflowY==="scroll"||t.overflowY==="auto"&&e.scrollHeight>e.clientHeight}function Tp(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return["scroll","auto"].includes(t.overflowY)}function Op(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}function we(e){const t=He("useRender");t.render=e}function Ua(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const n=qs(),f=ge();if(Be){const g=new ResizeObserver(m=>{e==null||e(m,g),m.length&&(t==="content"?f.value=m[0].contentRect:f.value=m[0].target.getBoundingClientRect())});at(()=>{g.disconnect()}),me(()=>n.el,(m,y)=>{y&&(g.unobserve(y),f.value=void 0),m&&g.observe(m)},{flush:"post"})}return{resizeRef:n,contentRect:Wi(f)}}const Or=Symbol.for("vuetify:layout"),Ef=Symbol.for("vuetify:layout-item"),Rl=1e3,kp=ue({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),Af=ue({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function Pp(){const e=Pe(Or);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function Mf(e){const t=Pe(Or);if(!t)throw new Error("[Vuetify] Could not find injected layout");const n=e.id??`layout-item-${tn()}`,f=He("useLayoutItem");Ge(Ef,{id:n});const g=ye(!1);lu(()=>g.value=!0),ou(()=>g.value=!1);const{layoutItemStyles:m,layoutItemScrimStyles:y}=t.register(f,{...e,active:H(()=>g.value?!1:e.active.value),id:n});return at(()=>t.unregister(n)),{layoutItemStyles:m,layoutRect:t.layoutRect,layoutItemScrimStyles:y}}const Ep=(e,t,n,f)=>{let g={top:0,left:0,right:0,bottom:0};const m=[{id:"",layer:{...g}}];for(const y of e){const u=t.get(y),i=n.get(y),h=f.get(y);if(!u||!i||!h)continue;const c={...g,[u.value]:parseInt(g[u.value],10)+(h.value?parseInt(i.value,10):0)};m.push({id:y,layer:c}),g=c}return m};function Ap(e){const t=Pe(Or,null),n=H(()=>t?t.rootZIndex.value-100:Rl),f=ge([]),g=We(new Map),m=We(new Map),y=We(new Map),u=We(new Map),i=We(new Map),{resizeRef:h,contentRect:c}=Ua(),r=H(()=>{const S=new Map,w=e.overlaps??[];for(const x of w.filter(A=>A.includes(":"))){const[A,V]=x.split(":");if(!f.value.includes(A)||!f.value.includes(V))continue;const z=g.get(A),R=g.get(V),G=m.get(A),$=m.get(V);!z||!R||!G||!$||(S.set(V,{position:z.value,amount:parseInt(G.value,10)}),S.set(A,{position:R.value,amount:-parseInt($.value,10)}))}return S}),a=H(()=>{const S=[...new Set([...y.values()].map(x=>x.value))].sort((x,A)=>x-A),w=[];for(const x of S){const A=f.value.filter(V=>{var z;return((z=y.get(V))==null?void 0:z.value)===x});w.push(...A)}return Ep(w,g,m,u)}),s=H(()=>!Array.from(i.values()).some(S=>S.value)),o=H(()=>a.value[a.value.length-1].layer),d=H(()=>({"--v-layout-left":de(o.value.left),"--v-layout-right":de(o.value.right),"--v-layout-top":de(o.value.top),"--v-layout-bottom":de(o.value.bottom),...s.value?void 0:{transition:"none"}})),l=H(()=>a.value.slice(1).map((S,w)=>{let{id:x}=S;const{layer:A}=a.value[w],V=m.get(x),z=g.get(x);return{id:x,...A,size:Number(V.value),position:z.value}})),v=S=>l.value.find(w=>w.id===S),p=He("createLayout"),b=ye(!1);Tt(()=>{b.value=!0}),Ge(Or,{register:(S,w)=>{let{id:x,order:A,position:V,layoutSize:z,elementSize:R,active:G,disableTransitions:$,absolute:ee}=w;y.set(x,A),g.set(x,V),m.set(x,z),u.set(x,G),$&&i.set(x,$);const re=qn(Ef,p==null?void 0:p.vnode).indexOf(S);re>-1?f.value.splice(re,0,x):f.value.push(x);const ie=H(()=>l.value.findIndex(j=>j.id===x)),O=H(()=>n.value+a.value.length*2-ie.value*2),B=H(()=>{const j=V.value==="left"||V.value==="right",J=V.value==="right",D=V.value==="bottom",E=R.value??z.value,I=E===0?"%":"px",M={[V.value]:0,zIndex:O.value,transform:`translate${j?"X":"Y"}(${(G.value?0:-(E===0?100:E))*(J||D?-1:1)}${I})`,position:ee.value||n.value!==Rl?"absolute":"fixed",...s.value?void 0:{transition:"none"}};if(!b.value)return M;const U=l.value[ie.value];if(!U)throw new Error(`[Vuetify] Could not find layout item "${x}"`);const Y=r.value.get(x);return Y&&(U[Y.position]+=Y.amount),{...M,height:j?`calc(100% - ${U.top}px - ${U.bottom}px)`:R.value?`${R.value}px`:void 0,left:J?void 0:`${U.left}px`,right:J?`${U.right}px`:void 0,top:V.value!=="bottom"?`${U.top}px`:void 0,bottom:V.value!=="top"?`${U.bottom}px`:void 0,width:j?R.value?`${R.value}px`:void 0:`calc(100% - ${U.left}px - ${U.right}px)`}}),L=H(()=>({zIndex:O.value-1}));return{layoutItemStyles:B,layoutItemScrimStyles:L,zIndex:O}},unregister:S=>{y.delete(S),g.delete(S),m.delete(S),u.delete(S),i.delete(S),f.value=f.value.filter(w=>w!==S)},mainRect:o,mainStyles:d,getLayoutItem:v,items:l,layoutRect:c,rootZIndex:n});const _=H(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),C=H(()=>({zIndex:t?n.value:void 0,position:t?"relative":void 0,overflow:t?"hidden":void 0}));return{layoutClasses:_,layoutStyles:C,getLayoutItem:v,items:l,layoutRect:c,layoutRef:h}}function Mt(e,t){let n;function f(){n=Hi(),n.run(()=>t.length?t(()=>{n==null||n.stop(),f()}):t())}me(e,g=>{g&&!n?f():g||(n==null||n.stop(),n=void 0)},{immediate:!0}),mt(()=>{n==null||n.stop()})}function Ze(e,t,n){let f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:r=>r,g=arguments.length>4&&arguments[4]!==void 0?arguments[4]:r=>r;const m=He("useProxiedModel"),y=ge(e[t]!==void 0?e[t]:n),u=In(t),h=H(u!==t?()=>{var r,a,s,o;return e[t],!!(((r=m.vnode.props)!=null&&r.hasOwnProperty(t)||(a=m.vnode.props)!=null&&a.hasOwnProperty(u))&&((s=m.vnode.props)!=null&&s.hasOwnProperty(`onUpdate:${t}`)||(o=m.vnode.props)!=null&&o.hasOwnProperty(`onUpdate:${u}`)))}:()=>{var r,a;return e[t],!!((r=m.vnode.props)!=null&&r.hasOwnProperty(t)&&((a=m.vnode.props)!=null&&a.hasOwnProperty(`onUpdate:${t}`)))});Mt(()=>!h.value,()=>{me(()=>e[t],r=>{y.value=r})});const c=H({get(){const r=e[t];return f(h.value?r:y.value)},set(r){const a=g(r),s=ve(h.value?e[t]:y.value);s===a||f(s)===r||(y.value=a,m==null||m.emit(`update:${t}`,a))}});return Object.defineProperty(c,"externalValue",{get:()=>h.value?e[t]:y.value}),c}const Mp={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},fileUpload:{title:"Drag and drop files here",divider:"or",browse:"Browse Files"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},Bl="$vuetify.",jl=(e,t)=>e.replace(/\{(\d+)\}/g,(n,f)=>String(t[+f])),Df=(e,t,n)=>function(f){for(var g=arguments.length,m=new Array(g>1?g-1:0),y=1;y<g;y++)m[y-1]=arguments[y];if(!f.startsWith(Bl))return jl(f,m);const u=f.replace(Bl,""),i=e.value&&n.value[e.value],h=t.value&&n.value[t.value];let c=Ks(i,u,null);return c||(`${f}${e.value}`,c=Ks(h,u,null)),c||(c=f),typeof c!="string"&&(c=f),jl(c,m)};function Ff(e,t){return(n,f)=>new Intl.NumberFormat([e.value,t.value],f).format(n)}function xs(e,t,n){const f=Ze(e,t,e[t]??n.value);return f.value=e[t]??n.value,me(n,g=>{e[t]==null&&(f.value=n.value)}),f}function Lf(e){return t=>{const n=xs(t,"locale",e.current),f=xs(t,"fallback",e.fallback),g=xs(t,"messages",e.messages);return{name:"vuetify",current:n,fallback:f,messages:g,t:Df(n,f,g),n:Ff(n,f),provide:Lf({current:n,fallback:f,messages:g})}}}function Dp(e){const t=ye((e==null?void 0:e.locale)??"en"),n=ye((e==null?void 0:e.fallback)??"en"),f=ge({en:Mp,...e==null?void 0:e.messages});return{name:"vuetify",current:t,fallback:n,messages:f,t:Df(t,n,f),n:Ff(t,n),provide:Lf({current:t,fallback:n,messages:f})}}const kr=Symbol.for("vuetify:locale");function Fp(e){return e.name!=null}function Lp(e){const t=e!=null&&e.adapter&&Fp(e==null?void 0:e.adapter)?e==null?void 0:e.adapter:Dp(e),n=Bp(t,e);return{...t,...n}}function Ip(){const e=Pe(kr);if(!e)throw new Error("[Vuetify] Could not find injected locale instance");return e}function Rp(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function Bp(e,t){const n=ge((t==null?void 0:t.rtl)??Rp()),f=H(()=>n.value[e.current.value]??!1);return{isRtl:f,rtl:n,rtlClasses:H(()=>`v-locale--is-${f.value?"rtl":"ltr"}`)}}function Ot(){const e=Pe(kr);if(!e)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:e.isRtl,rtlClasses:e.rtlClasses}}const Pr=Symbol.for("vuetify:theme"),$e=ue({theme:String},"theme");function Vl(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}}}function jp(){var f,g;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Vl();const t=Vl();if(!e)return{...t,isDisabled:!0};const n={};for(const[m,y]of Object.entries(e.themes??{})){const u=y.dark||m==="dark"?(f=t.themes)==null?void 0:f.dark:(g=t.themes)==null?void 0:g.light;n[m]=dt(u,y)}return dt(t,{...e,themes:n})}function Vp(e){const t=jp(e),n=ge(t.defaultTheme),f=ge(t.themes),g=H(()=>{const c={};for(const[r,a]of Object.entries(f.value)){const s=c[r]={...a,colors:{...a.colors}};if(t.variations)for(const o of t.variations.colors){const d=s.colors[o];if(d)for(const l of["lighten","darken"]){const v=l==="lighten"?mp:pp;for(const p of Va(t.variations[l],1))s.colors[`${o}-${l}-${p}`]=Cf(v(Ct(d),p))}}for(const o of Object.keys(s.colors)){if(/^on-[a-z]/.test(o)||s.colors[`on-${o}`])continue;const d=`on-${o}`,l=Ct(s.colors[o]);s.colors[d]=Tf(l)}}return c}),m=H(()=>g.value[n.value]),y=H(()=>{var o;const c=[];(o=m.value)!=null&&o.dark&&Pn(c,":root",["color-scheme: dark"]),Pn(c,":root",Nl(m.value));for(const[d,l]of Object.entries(g.value))Pn(c,`.v-theme--${d}`,[`color-scheme: ${l.dark?"dark":"normal"}`,...Nl(l)]);const r=[],a=[],s=new Set(Object.values(g.value).flatMap(d=>Object.keys(d.colors)));for(const d of s)/^on-[a-z]/.test(d)?Pn(a,`.${d}`,[`color: rgb(var(--v-theme-${d})) !important`]):(Pn(r,`.bg-${d}`,[`--v-theme-overlay-multiplier: var(--v-theme-${d}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${d})) !important`,`color: rgb(var(--v-theme-on-${d})) !important`]),Pn(a,`.text-${d}`,[`color: rgb(var(--v-theme-${d})) !important`]),Pn(a,`.border-${d}`,[`--v-border-color: var(--v-theme-${d})`]));return c.push(...r,...a),c.map((d,l)=>l===0?d:`    ${d}`).join("")});function u(){return{style:[{children:y.value,id:"vuetify-theme-stylesheet",nonce:t.cspNonce||!1}]}}function i(c){if(t.isDisabled)return;const r=c._context.provides.usehead;if(r)if(r.push){const s=r.push(u);Be&&me(y,()=>{s.patch(u)})}else Be?(r.addHeadObjs(H(u)),Ht(()=>r.updateDOM())):r.addHeadObjs(u());else{let o=function(){if(typeof document<"u"&&!s){const d=document.createElement("style");d.type="text/css",d.id="vuetify-theme-stylesheet",t.cspNonce&&d.setAttribute("nonce",t.cspNonce),s=d,document.head.appendChild(s)}s&&(s.innerHTML=y.value)};var a=o;let s=Be?document.getElementById("vuetify-theme-stylesheet"):null;Be?me(y,o,{immediate:!0}):o()}}const h=H(()=>t.isDisabled?void 0:`v-theme--${n.value}`);return{install:i,isDisabled:t.isDisabled,name:n,themes:f,current:m,computedThemes:g,themeClasses:h,styles:y,global:{name:n,current:m}}}function Qe(e){He("provideTheme");const t=Pe(Pr,null);if(!t)throw new Error("Could not find Vuetify theme injection");const n=H(()=>e.theme??t.name.value),f=H(()=>t.themes.value[n.value]),g=H(()=>t.isDisabled?void 0:`v-theme--${n.value}`),m={...t,name:n,current:f,themeClasses:g};return Ge(Pr,m),m}function Pn(e,t,n){e.push(`${t} {
`,...n.map(f=>`  ${f};
`),`}
`)}function Nl(e){const t=e.dark?2:1,n=e.dark?1:2,f=[];for(const[g,m]of Object.entries(e.colors)){const y=Ct(m);f.push(`--v-theme-${g}: ${y.r},${y.g},${y.b}`),g.startsWith("on-")||f.push(`--v-theme-${g}-overlay-multiplier: ${ea(m)>.18?t:n}`)}for(const[g,m]of Object.entries(e.variables)){const y=typeof m=="string"&&m.startsWith("#")?Ct(m):void 0,u=y?`${y.r}, ${y.g}, ${y.b}`:void 0;f.push(`--v-${g}: ${u??m}`)}return f}const Np=ue({...xe(),...kp({fullHeight:!0}),...$e()},"VApp"),Hp=Se()({name:"VApp",props:Np(),setup(e,t){let{slots:n}=t;const f=Qe(e),{layoutClasses:g,getLayoutItem:m,items:y,layoutRef:u}=Ap(e),{rtlClasses:i}=Ot();return we(()=>{var h;return F("div",{ref:u,class:["v-application",f.themeClasses.value,g.value,i.value,e.class],style:[e.style]},[F("div",{class:"v-application__wrap"},[(h=n.default)==null?void 0:h.call(n)])])}),{getLayoutItem:m,items:y,theme:f}}}),pn=ue({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function yn(e){return{dimensionStyles:H(()=>{const n={},f=de(e.height),g=de(e.maxHeight),m=de(e.maxWidth),y=de(e.minHeight),u=de(e.minWidth),i=de(e.width);return f!=null&&(n.height=f),g!=null&&(n.maxHeight=g),m!=null&&(n.maxWidth=m),y!=null&&(n.minHeight=y),u!=null&&(n.minWidth=u),i!=null&&(n.width=i),n})}}function Kr(){const e=ye(!1);return Tt(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:H(()=>e.value?void 0:{transition:"none !important"}),isBooted:Wi(e)}}const Ue=ue({tag:{type:String,default:"div"}},"tag"),Wp=ue({scrollable:Boolean,...xe(),...pn(),...Ue({tag:"main"})},"VMain"),zp=Se()({name:"VMain",props:Wp(),setup(e,t){let{slots:n}=t;const{dimensionStyles:f}=yn(e),{mainStyles:g}=Pp(),{ssrBootStyles:m}=Kr();return we(()=>F(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[g.value,m.value,f.value,e.style]},{default:()=>{var y,u;return[e.scrollable?F("div",{class:"v-main__scroller"},[(y=n.default)==null?void 0:y.call(n)]):(u=n.default)==null?void 0:u.call(n)]}})),{}}}),Yp={__name:"App",setup(e){return(t,n)=>(ut(),Kt(Hp,null,{default:De(()=>[F(zp,null,{default:De(()=>[F(Ie(rf))]),_:1})]),_:1}))}};function Xp(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function f(){return this instanceof f?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(f){var g=Object.getOwnPropertyDescriptor(e,f);Object.defineProperty(n,f,g.get?g:{enumerable:!0,get:function(){return e[f]}})}),n}var Ts={};const Up={},Gp=Object.freeze(Object.defineProperty({__proto__:null,default:Up},Symbol.toStringTag,{value:"Module"})),Os=Xp(Gp);var Hl;function $p(){return Hl||(Hl=1,function(e){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var t=t||{version:"5.4.2"};if(e.fabric=t,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?t.document=document:t.document=document.implementation.createHTMLDocument(""),t.window=window;else{var n=Os,f=new n.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;t.document=f.document,t.jsdomImplForWrapper=Os.implForWrapper,t.nodeCanvas=Os.Canvas,t.window=f,DOMParser=t.window.DOMParser}t.isTouchSupported="ontouchstart"in t.window||"ontouchstart"in t.document||t.window&&t.window.navigator&&t.window.navigator.maxTouchPoints>0,t.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",t.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],t.DPI=96,t.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",t.commaWsp="(?:\\s+,?\\s*|,\\s*)",t.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,t.reNonWord=/[ \n\.,;!\?\-]/,t.fontPaths={},t.iMatrix=[1,0,0,1,0,0],t.svgNS="http://www.w3.org/2000/svg",t.perfLimitSizeTotal=2097152,t.maxCacheSideLimit=4096,t.minCacheSideLimit=256,t.charWidthsCache={},t.textureSize=2048,t.disableStyleCopyPaste=!1,t.enableGLFiltering=!0,t.devicePixelRatio=t.window.devicePixelRatio||t.window.webkitDevicePixelRatio||t.window.mozDevicePixelRatio||1,t.browserShadowBlurConstant=1,t.arcToSegmentsCache={},t.boundsOfCurveCache={},t.cachesBoundsOfCurve=!0,t.forceGLPutImageData=!1,t.initFilterBackend=function(){if(t.enableGLFiltering&&t.isWebglSupported&&t.isWebglSupported(t.textureSize))return console.log("max texture size: "+t.maxTextureSize),new t.WebglFilterBackend({tileSize:t.textureSize});if(t.Canvas2dFilterBackend)return new t.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=t),function(){function u(s,o){if(this.__eventListeners[s]){var d=this.__eventListeners[s];o?d[d.indexOf(o)]=!1:t.util.array.fill(d,!1)}}function i(s,o){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var d in s)this.on(d,s[d]);else this.__eventListeners[s]||(this.__eventListeners[s]=[]),this.__eventListeners[s].push(o);return this}function h(s,o){var d=(function(){o.apply(this,arguments),this.off(s,d)}).bind(this);this.on(s,d)}function c(s,o){if(arguments.length===1)for(var d in s)h.call(this,d,s[d]);else h.call(this,s,o);return this}function r(s,o){if(!this.__eventListeners)return this;if(arguments.length===0)for(s in this.__eventListeners)u.call(this,s);else if(arguments.length===1&&typeof arguments[0]=="object")for(var d in s)u.call(this,d,s[d]);else u.call(this,s,o);return this}function a(s,o){if(!this.__eventListeners)return this;var d=this.__eventListeners[s];if(!d)return this;for(var l=0,v=d.length;l<v;l++)d[l]&&d[l].call(this,o||{});return this.__eventListeners[s]=d.filter(function(p){return p!==!1}),this}t.Observable={fire:a,on:i,once:c,off:r}}(),t.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var u=0,i=arguments.length;u<i;u++)this._onObjectAdded(arguments[u]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(u,i,h){var c=this._objects;return h?c[i]=u:c.splice(i,0,u),this._onObjectAdded&&this._onObjectAdded(u),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var u=this._objects,i,h=!1,c=0,r=arguments.length;c<r;c++)i=u.indexOf(arguments[c]),i!==-1&&(h=!0,u.splice(i,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[c]));return this.renderOnAddRemove&&h&&this.requestRenderAll(),this},forEachObject:function(u,i){for(var h=this.getObjects(),c=0,r=h.length;c<r;c++)u.call(i,h[c],c,h);return this},getObjects:function(u){return typeof u>"u"?this._objects.concat():this._objects.filter(function(i){return i.type===u})},item:function(u){return this._objects[u]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(u,i){return this._objects.indexOf(u)>-1?!0:i?this._objects.some(function(h){return typeof h.contains=="function"&&h.contains(u,!0)}):!1},complexity:function(){return this._objects.reduce(function(u,i){return u+=i.complexity?i.complexity():0,u},0)}},t.CommonMethods={_setOptions:function(u){for(var i in u)this.set(i,u[i])},_initGradient:function(u,i){u&&u.colorStops&&!(u instanceof t.Gradient)&&this.set(i,new t.Gradient(u))},_initPattern:function(u,i,h){u&&u.source&&!(u instanceof t.Pattern)?this.set(i,new t.Pattern(u,h)):h&&h()},_setObject:function(u){for(var i in u)this._set(i,u[i])},set:function(u,i){return typeof u=="object"?this._setObject(u):this._set(u,i),this},_set:function(u,i){this[u]=i},toggle:function(u){var i=this.get(u);return typeof i=="boolean"&&this.set(u,!i),this},get:function(u){return this[u]}},function(u){var i=Math.sqrt,h=Math.atan2,c=Math.pow,r=Math.PI/180,a=Math.PI/2;t.util={cos:function(s){if(s===0)return 1;s<0&&(s=-s);var o=s/a;switch(o){case 1:case 3:return 0;case 2:return-1}return Math.cos(s)},sin:function(s){if(s===0)return 0;var o=s/a,d=1;switch(s<0&&(d=-1),o){case 1:return d;case 2:return 0;case 3:return-d}return Math.sin(s)},removeFromArray:function(s,o){var d=s.indexOf(o);return d!==-1&&s.splice(d,1),s},getRandomInt:function(s,o){return Math.floor(Math.random()*(o-s+1))+s},degreesToRadians:function(s){return s*r},radiansToDegrees:function(s){return s/r},rotatePoint:function(s,o,d){var l=new t.Point(s.x-o.x,s.y-o.y),v=t.util.rotateVector(l,d);return new t.Point(v.x,v.y).addEquals(o)},rotateVector:function(s,o){var d=t.util.sin(o),l=t.util.cos(o),v=s.x*l-s.y*d,p=s.x*d+s.y*l;return{x:v,y:p}},createVector:function(s,o){return new t.Point(o.x-s.x,o.y-s.y)},calcAngleBetweenVectors:function(s,o){return Math.acos((s.x*o.x+s.y*o.y)/(Math.hypot(s.x,s.y)*Math.hypot(o.x,o.y)))},getHatVector:function(s){return new t.Point(s.x,s.y).multiply(1/Math.hypot(s.x,s.y))},getBisector:function(s,o,d){var l=t.util.createVector(s,o),v=t.util.createVector(s,d),p=t.util.calcAngleBetweenVectors(l,v),b=t.util.calcAngleBetweenVectors(t.util.rotateVector(l,p),v),_=p*(b===0?1:-1)/2;return{vector:t.util.getHatVector(t.util.rotateVector(l,_)),angle:p}},projectStrokeOnPoints:function(s,o,d){var l=[],v=o.strokeWidth/2,p=o.strokeUniform?new t.Point(1/o.scaleX,1/o.scaleY):new t.Point(1,1),b=function(_){var C=v/Math.hypot(_.x,_.y);return new t.Point(_.x*C*p.x,_.y*C*p.y)};return s.length<=1||s.forEach(function(_,C){var S=new t.Point(_.x,_.y),w,x;C===0?(x=s[C+1],w=d?b(t.util.createVector(x,S)).addEquals(S):s[s.length-1]):C===s.length-1?(w=s[C-1],x=d?b(t.util.createVector(w,S)).addEquals(S):s[0]):(w=s[C-1],x=s[C+1]);var A=t.util.getBisector(S,w,x),V=A.vector,z=A.angle,R,G;if(o.strokeLineJoin==="miter"&&(R=-v/Math.sin(z/2),G=new t.Point(V.x*R*p.x,V.y*R*p.y),Math.hypot(G.x,G.y)/v<=o.strokeMiterLimit)){l.push(S.add(G)),l.push(S.subtract(G));return}R=-v*Math.SQRT2,G=new t.Point(V.x*R*p.x,V.y*R*p.y),l.push(S.add(G)),l.push(S.subtract(G))}),l},transformPoint:function(s,o,d){return d?new t.Point(o[0]*s.x+o[2]*s.y,o[1]*s.x+o[3]*s.y):new t.Point(o[0]*s.x+o[2]*s.y+o[4],o[1]*s.x+o[3]*s.y+o[5])},makeBoundingBoxFromPoints:function(s,o){if(o)for(var d=0;d<s.length;d++)s[d]=t.util.transformPoint(s[d],o);var l=[s[0].x,s[1].x,s[2].x,s[3].x],v=t.util.array.min(l),p=t.util.array.max(l),b=p-v,_=[s[0].y,s[1].y,s[2].y,s[3].y],C=t.util.array.min(_),S=t.util.array.max(_),w=S-C;return{left:v,top:C,width:b,height:w}},invertTransform:function(s){var o=1/(s[0]*s[3]-s[1]*s[2]),d=[o*s[3],-o*s[1],-o*s[2],o*s[0]],l=t.util.transformPoint({x:s[4],y:s[5]},d,!0);return d[4]=-l.x,d[5]=-l.y,d},toFixed:function(s,o){return parseFloat(Number(s).toFixed(o))},parseUnit:function(s,o){var d=/\D{0,2}$/.exec(s),l=parseFloat(s);switch(o||(o=t.Text.DEFAULT_SVG_FONT_SIZE),d[0]){case"mm":return l*t.DPI/25.4;case"cm":return l*t.DPI/2.54;case"in":return l*t.DPI;case"pt":return l*t.DPI/72;case"pc":return l*t.DPI/72*12;case"em":return l*o;default:return l}},falseFunction:function(){return!1},getKlass:function(s,o){return s=t.util.string.camelize(s.charAt(0).toUpperCase()+s.slice(1)),t.util.resolveNamespace(o)[s]},getSvgAttributes:function(s){var o=["instantiated_by_use","style","id","class"];switch(s){case"linearGradient":o=o.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":o=o.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":o=o.concat(["offset","stop-color","stop-opacity"]);break}return o},resolveNamespace:function(s){if(!s)return t;var o=s.split("."),d=o.length,l,v=u;for(l=0;l<d;++l)v=v[o[l]];return v},loadImage:function(s,o,d,l){if(!s){o&&o.call(d,s);return}var v=t.util.createImage(),p=function(){o&&o.call(d,v,!1),v=v.onload=v.onerror=null};v.onload=p,v.onerror=function(){t.log("Error loading "+v.src),o&&o.call(d,null,!0),v=v.onload=v.onerror=null},s.indexOf("data")!==0&&l!==void 0&&l!==null&&(v.crossOrigin=l),s.substring(0,14)==="data:image/svg"&&(v.onload=null,t.util.loadImageInDom(v,p)),v.src=s},loadImageInDom:function(s,o){var d=t.document.createElement("div");d.style.width=d.style.height="1px",d.style.left=d.style.top="-100%",d.style.position="absolute",d.appendChild(s),t.document.querySelector("body").appendChild(d),s.onload=function(){o(),d.parentNode.removeChild(d),d=null}},enlivenObjects:function(s,o,d,l){s=s||[];var v=[],p=0,b=s.length;function _(){++p===b&&o&&o(v.filter(function(C){return C}))}if(!b){o&&o(v);return}s.forEach(function(C,S){if(!C||!C.type){_();return}var w=t.util.getKlass(C.type,d);w.fromObject(C,function(x,A){A||(v[S]=x),l&&l(C,x,A),_()})})},enlivenObjectEnlivables:function(s,o,d){var l=t.Object.ENLIVEN_PROPS.filter(function(v){return!!s[v]});t.util.enlivenObjects(l.map(function(v){return s[v]}),function(v){var p={};l.forEach(function(b,_){p[b]=v[_],o&&(o[b]=v[_])}),d&&d(p)})},enlivenPatterns:function(s,o){s=s||[];function d(){++v===p&&o&&o(l)}var l=[],v=0,p=s.length;if(!p){o&&o(l);return}s.forEach(function(b,_){b&&b.source?new t.Pattern(b,function(C){l[_]=C,d()}):(l[_]=b,d())})},groupSVGElements:function(s,o,d){var l;return s&&s.length===1?(typeof d<"u"&&(s[0].sourcePath=d),s[0]):(o&&(o.width&&o.height?o.centerPoint={x:o.width/2,y:o.height/2}:(delete o.width,delete o.height)),l=new t.Group(s,o),typeof d<"u"&&(l.sourcePath=d),l)},populateWithProperties:function(s,o,d){if(d&&Array.isArray(d))for(var l=0,v=d.length;l<v;l++)d[l]in s&&(o[d[l]]=s[d[l]])},createCanvasElement:function(){return t.document.createElement("canvas")},copyCanvasElement:function(s){var o=t.util.createCanvasElement();return o.width=s.width,o.height=s.height,o.getContext("2d").drawImage(s,0,0),o},toDataURL:function(s,o,d){return s.toDataURL("image/"+o,d)},createImage:function(){return t.document.createElement("img")},multiplyTransformMatrices:function(s,o,d){return[s[0]*o[0]+s[2]*o[1],s[1]*o[0]+s[3]*o[1],s[0]*o[2]+s[2]*o[3],s[1]*o[2]+s[3]*o[3],d?0:s[0]*o[4]+s[2]*o[5]+s[4],d?0:s[1]*o[4]+s[3]*o[5]+s[5]]},qrDecompose:function(s){var o=h(s[1],s[0]),d=c(s[0],2)+c(s[1],2),l=i(d),v=(s[0]*s[3]-s[2]*s[1])/l,p=h(s[0]*s[2]+s[1]*s[3],d);return{angle:o/r,scaleX:l,scaleY:v,skewX:p/r,skewY:0,translateX:s[4],translateY:s[5]}},calcRotateMatrix:function(s){if(!s.angle)return t.iMatrix.concat();var o=t.util.degreesToRadians(s.angle),d=t.util.cos(o),l=t.util.sin(o);return[d,l,-l,d,0,0]},calcDimensionsMatrix:function(s){var o=typeof s.scaleX>"u"?1:s.scaleX,d=typeof s.scaleY>"u"?1:s.scaleY,l=[s.flipX?-o:o,0,0,s.flipY?-d:d,0,0],v=t.util.multiplyTransformMatrices,p=t.util.degreesToRadians;return s.skewX&&(l=v(l,[1,0,Math.tan(p(s.skewX)),1],!0)),s.skewY&&(l=v(l,[1,Math.tan(p(s.skewY)),0,1],!0)),l},composeMatrix:function(s){var o=[1,0,0,1,s.translateX||0,s.translateY||0],d=t.util.multiplyTransformMatrices;return s.angle&&(o=d(o,t.util.calcRotateMatrix(s))),(s.scaleX!==1||s.scaleY!==1||s.skewX||s.skewY||s.flipX||s.flipY)&&(o=d(o,t.util.calcDimensionsMatrix(s))),o},resetObjectTransform:function(s){s.scaleX=1,s.scaleY=1,s.skewX=0,s.skewY=0,s.flipX=!1,s.flipY=!1,s.rotate(0)},saveObjectTransform:function(s){return{scaleX:s.scaleX,scaleY:s.scaleY,skewX:s.skewX,skewY:s.skewY,angle:s.angle,left:s.left,flipX:s.flipX,flipY:s.flipY,top:s.top}},isTransparent:function(s,o,d,l){l>0&&(o>l?o-=l:o=0,d>l?d-=l:d=0);var v=!0,p,b,_=s.getImageData(o,d,l*2||1,l*2||1),C=_.data.length;for(p=3;p<C&&(b=_.data[p],v=b<=0,v!==!1);p+=4);return _=null,v},parsePreserveAspectRatioAttribute:function(s){var o="meet",d="Mid",l="Mid",v=s.split(" "),p;return v&&v.length&&(o=v.pop(),o!=="meet"&&o!=="slice"?(p=o,o="meet"):v.length&&(p=v.pop())),d=p!=="none"?p.slice(1,4):"none",l=p!=="none"?p.slice(5,8):"none",{meetOrSlice:o,alignX:d,alignY:l}},clearFabricFontCache:function(s){s=(s||"").toLowerCase(),s?t.charWidthsCache[s]&&delete t.charWidthsCache[s]:t.charWidthsCache={}},limitDimsByArea:function(s,o){var d=Math.sqrt(o*s),l=Math.floor(o/d);return{x:Math.floor(d),y:l}},capValue:function(s,o,d){return Math.max(s,Math.min(o,d))},findScaleToFit:function(s,o){return Math.min(o.width/s.width,o.height/s.height)},findScaleToCover:function(s,o){return Math.max(o.width/s.width,o.height/s.height)},matrixToSVG:function(s){return"matrix("+s.map(function(o){return t.util.toFixed(o,t.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(s,o){var d=t.util.invertTransform(o),l=t.util.multiplyTransformMatrices(d,s.calcOwnMatrix());t.util.applyTransformToObject(s,l)},addTransformToObject:function(s,o){t.util.applyTransformToObject(s,t.util.multiplyTransformMatrices(o,s.calcOwnMatrix()))},applyTransformToObject:function(s,o){var d=t.util.qrDecompose(o),l=new t.Point(d.translateX,d.translateY);s.flipX=!1,s.flipY=!1,s.set("scaleX",d.scaleX),s.set("scaleY",d.scaleY),s.skewX=d.skewX,s.skewY=d.skewY,s.angle=d.angle,s.setPositionByOrigin(l,"center","center")},sizeAfterTransform:function(s,o,d){var l=s/2,v=o/2,p=[{x:-l,y:-v},{x:l,y:-v},{x:-l,y:v},{x:l,y:v}],b=t.util.calcDimensionsMatrix(d),_=t.util.makeBoundingBoxFromPoints(p,b);return{x:_.width,y:_.height}},mergeClipPaths:function(s,o){var d=s,l=o;d.inverted&&!l.inverted&&(d=o,l=s),t.util.applyTransformToObject(l,t.util.multiplyTransformMatrices(t.util.invertTransform(d.calcTransformMatrix()),l.calcTransformMatrix()));var v=d.inverted&&l.inverted;return v&&(d.inverted=l.inverted=!1),new t.Group([d],{clipPath:l,inverted:v})},hasStyleChanged:function(s,o,d){return d=d||!1,s.fill!==o.fill||s.stroke!==o.stroke||s.strokeWidth!==o.strokeWidth||s.fontSize!==o.fontSize||s.fontFamily!==o.fontFamily||s.fontWeight!==o.fontWeight||s.fontStyle!==o.fontStyle||s.textBackgroundColor!==o.textBackgroundColor||s.deltaY!==o.deltaY||d&&(s.overline!==o.overline||s.underline!==o.underline||s.linethrough!==o.linethrough)},stylesToArray:function(d,o){for(var d=t.util.object.clone(d,!0),l=o.split(`
`),v=-1,p={},b=[],_=0;_<l.length;_++){if(!d[_]){v+=l[_].length;continue}for(var C=0;C<l[_].length;C++){v++;var S=d[_][C];if(S&&Object.keys(S).length>0){var w=t.util.hasStyleChanged(p,S,!0);w?b.push({start:v,end:v+1,style:S}):b[b.length-1].end++}p=S||{}}}return b},stylesFromArray:function(s,o){if(!Array.isArray(s))return s;for(var d=o.split(`
`),l=-1,v=0,p={},b=0;b<d.length;b++)for(var _=0;_<d[b].length;_++)l++,s[v]&&s[v].start<=l&&l<s[v].end&&(p[b]=p[b]||{},p[b][_]=Object.assign({},s[v].style),l===s[v].end-1&&v++);return p}}}(e),function(){var u=Array.prototype.join,i={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},h={m:"l",M:"L"};function c(O,B,L,j,J,D,E,I,M,U,Y){var q=t.util.cos(O),se=t.util.sin(O),P=t.util.cos(B),T=t.util.sin(B),k=L*J*P-j*D*T+E,W=j*J*P+L*D*T+I,X=U+M*(-L*J*se-j*D*q),N=Y+M*(-j*J*se+L*D*q),K=k+M*(L*J*T+j*D*P),Q=W+M*(j*J*T-L*D*P);return["C",X,N,K,Q,k,W]}function r(O,B,L,j,J,D,E){var I=Math.PI,M=E*I/180,U=t.util.sin(M),Y=t.util.cos(M),q=0,se=0;L=Math.abs(L),j=Math.abs(j);var P=-Y*O*.5-U*B*.5,T=-Y*B*.5+U*O*.5,k=L*L,W=j*j,X=T*T,N=P*P,K=k*W-k*X-W*N,Q=0;if(K<0){var ae=Math.sqrt(1-K/(k*W));L*=ae,j*=ae}else Q=(J===D?-1:1)*Math.sqrt(K/(k*X+W*N));var te=Q*L*T/j,Z=-Q*j*P/L,oe=Y*te-U*Z+O*.5,le=U*te+Y*Z+B*.5,ce=a(1,0,(P-te)/L,(T-Z)/j),fe=a((P-te)/L,(T-Z)/j,(-P-te)/L,(-T-Z)/j);D===0&&fe>0?fe-=2*I:D===1&&fe<0&&(fe+=2*I);for(var he=Math.ceil(Math.abs(fe/I*2)),_e=[],Te=fe/he,Ve=8/3*Math.sin(Te/4)*Math.sin(Te/4)/Math.sin(Te/2),Ke=ce+Te,Ne=0;Ne<he;Ne++)_e[Ne]=c(ce,Ke,Y,U,L,j,oe,le,Ve,q,se),q=_e[Ne][5],se=_e[Ne][6],ce=Ke,Ke+=Te;return _e}function a(O,B,L,j){var J=Math.atan2(B,O),D=Math.atan2(j,L);return D>=J?D-J:2*Math.PI-(J-D)}function s(O,B,L,j,J,D,E,I){var M;if(t.cachesBoundsOfCurve&&(M=u.call(arguments),t.boundsOfCurveCache[M]))return t.boundsOfCurveCache[M];var U=Math.sqrt,Y=Math.min,q=Math.max,se=Math.abs,P=[],T=[[],[]],k,W,X,N,K,Q,ae,te;W=6*O-12*L+6*J,k=-3*O+9*L-9*J+3*E,X=3*L-3*O;for(var Z=0;Z<2;++Z){if(Z>0&&(W=6*B-12*j+6*D,k=-3*B+9*j-9*D+3*I,X=3*j-3*B),se(k)<1e-12){if(se(W)<1e-12)continue;N=-X/W,0<N&&N<1&&P.push(N);continue}ae=W*W-4*X*k,!(ae<0)&&(te=U(ae),K=(-W+te)/(2*k),0<K&&K<1&&P.push(K),Q=(-W-te)/(2*k),0<Q&&Q<1&&P.push(Q))}for(var oe,le,ce=P.length,fe=ce,he;ce--;)N=P[ce],he=1-N,oe=he*he*he*O+3*he*he*N*L+3*he*N*N*J+N*N*N*E,T[0][ce]=oe,le=he*he*he*B+3*he*he*N*j+3*he*N*N*D+N*N*N*I,T[1][ce]=le;T[0][fe]=O,T[1][fe]=B,T[0][fe+1]=E,T[1][fe+1]=I;var _e=[{x:Y.apply(null,T[0]),y:Y.apply(null,T[1])},{x:q.apply(null,T[0]),y:q.apply(null,T[1])}];return t.cachesBoundsOfCurve&&(t.boundsOfCurveCache[M]=_e),_e}function o(O,B,L){for(var j=L[1],J=L[2],D=L[3],E=L[4],I=L[5],M=L[6],U=L[7],Y=r(M-O,U-B,j,J,E,I,D),q=0,se=Y.length;q<se;q++)Y[q][1]+=O,Y[q][2]+=B,Y[q][3]+=O,Y[q][4]+=B,Y[q][5]+=O,Y[q][6]+=B;return Y}function d(O){var B=0,L=0,j=O.length,J=0,D=0,E,I,M,U=[],Y,q,se;for(I=0;I<j;++I){switch(M=!1,E=O[I].slice(0),E[0]){case"l":E[0]="L",E[1]+=B,E[2]+=L;case"L":B=E[1],L=E[2];break;case"h":E[1]+=B;case"H":E[0]="L",E[2]=L,B=E[1];break;case"v":E[1]+=L;case"V":E[0]="L",L=E[1],E[1]=B,E[2]=L;break;case"m":E[0]="M",E[1]+=B,E[2]+=L;case"M":B=E[1],L=E[2],J=E[1],D=E[2];break;case"c":E[0]="C",E[1]+=B,E[2]+=L,E[3]+=B,E[4]+=L,E[5]+=B,E[6]+=L;case"C":q=E[3],se=E[4],B=E[5],L=E[6];break;case"s":E[0]="S",E[1]+=B,E[2]+=L,E[3]+=B,E[4]+=L;case"S":Y==="C"?(q=2*B-q,se=2*L-se):(q=B,se=L),B=E[3],L=E[4],E[0]="C",E[5]=E[3],E[6]=E[4],E[3]=E[1],E[4]=E[2],E[1]=q,E[2]=se,q=E[3],se=E[4];break;case"q":E[0]="Q",E[1]+=B,E[2]+=L,E[3]+=B,E[4]+=L;case"Q":q=E[1],se=E[2],B=E[3],L=E[4];break;case"t":E[0]="T",E[1]+=B,E[2]+=L;case"T":Y==="Q"?(q=2*B-q,se=2*L-se):(q=B,se=L),E[0]="Q",B=E[1],L=E[2],E[1]=q,E[2]=se,E[3]=B,E[4]=L;break;case"a":E[0]="A",E[6]+=B,E[7]+=L;case"A":M=!0,U=U.concat(o(B,L,E)),B=E[6],L=E[7];break;case"z":case"Z":B=J,L=D;break}M||U.push(E),Y=E[0]}return U}function l(O,B,L,j){return Math.sqrt((L-O)*(L-O)+(j-B)*(j-B))}function v(O){return O*O*O}function p(O){return 3*O*O*(1-O)}function b(O){return 3*O*(1-O)*(1-O)}function _(O){return(1-O)*(1-O)*(1-O)}function C(O,B,L,j,J,D,E,I){return function(M){var U=v(M),Y=p(M),q=b(M),se=_(M);return{x:E*U+J*Y+L*q+O*se,y:I*U+D*Y+j*q+B*se}}}function S(O,B,L,j,J,D,E,I){return function(M){var U=1-M,Y=3*U*U*(L-O)+6*U*M*(J-L)+3*M*M*(E-J),q=3*U*U*(j-B)+6*U*M*(D-j)+3*M*M*(I-D);return Math.atan2(q,Y)}}function w(O){return O*O}function x(O){return 2*O*(1-O)}function A(O){return(1-O)*(1-O)}function V(O,B,L,j,J,D){return function(E){var I=w(E),M=x(E),U=A(E);return{x:J*I+L*M+O*U,y:D*I+j*M+B*U}}}function z(O,B,L,j,J,D){return function(E){var I=1-E,M=2*I*(L-O)+2*E*(J-L),U=2*I*(j-B)+2*E*(D-j);return Math.atan2(U,M)}}function R(O,B,L){var j={x:B,y:L},J,D=0,E;for(E=1;E<=100;E+=1)J=O(E/100),D+=l(j.x,j.y,J.x,J.y),j=J;return D}function G(O,B){for(var L=0,j=0,J=O.iterator,D={x:O.x,y:O.y},E,I,M=.01,U=O.angleFinder,Y;j<B&&M>1e-4;)E=J(L),Y=L,I=l(D.x,D.y,E.x,E.y),I+j>B?(L-=M,M/=2):(D=E,L+=M,j+=I);return E.angle=U(Y),E}function $(O){for(var B=0,L=O.length,j,J=0,D=0,E=0,I=0,M=[],U,Y,q,se=0;se<L;se++){switch(j=O[se],Y={x:J,y:D,command:j[0]},j[0]){case"M":Y.length=0,E=J=j[1],I=D=j[2];break;case"L":Y.length=l(J,D,j[1],j[2]),J=j[1],D=j[2];break;case"C":U=C(J,D,j[1],j[2],j[3],j[4],j[5],j[6]),q=S(J,D,j[1],j[2],j[3],j[4],j[5],j[6]),Y.iterator=U,Y.angleFinder=q,Y.length=R(U,J,D),J=j[5],D=j[6];break;case"Q":U=V(J,D,j[1],j[2],j[3],j[4]),q=z(J,D,j[1],j[2],j[3],j[4]),Y.iterator=U,Y.angleFinder=q,Y.length=R(U,J,D),J=j[3],D=j[4];break;case"Z":case"z":Y.destX=E,Y.destY=I,Y.length=l(J,D,E,I),J=E,D=I;break}B+=Y.length,M.push(Y)}return M.push({length:B,x:J,y:D}),M}function ee(O,B,L){L||(L=$(O));for(var j=0;B-L[j].length>0&&j<L.length-2;)B-=L[j].length,j++;var J=L[j],D=B/J.length,E=J.command,I=O[j],M;switch(E){case"M":return{x:J.x,y:J.y,angle:0};case"Z":case"z":return M=new t.Point(J.x,J.y).lerp(new t.Point(J.destX,J.destY),D),M.angle=Math.atan2(J.destY-J.y,J.destX-J.x),M;case"L":return M=new t.Point(J.x,J.y).lerp(new t.Point(I[1],I[2]),D),M.angle=Math.atan2(I[2]-J.y,I[1]-J.x),M;case"C":return G(J,B);case"Q":return G(J,B)}}function ne(O){var B=[],L=[],j,J,D=t.rePathCommand,E="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",I="("+E+")"+t.commaWsp,M="([01])"+t.commaWsp+"?",U=I+"?"+I+"?"+I+M+M+I+"?("+E+")",Y=new RegExp(U,"g"),q,se,P;if(!O||!O.match)return B;P=O.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var T=0,k,W=P.length;T<W;T++){j=P[T],se=j.slice(1).trim(),L.length=0;var X=j.charAt(0);if(k=[X],X.toLowerCase()==="a")for(var N;N=Y.exec(se);)for(var K=1;K<N.length;K++)L.push(N[K]);else for(;q=D.exec(se);)L.push(q[0]);for(var K=0,Q=L.length;K<Q;K++)J=parseFloat(L[K]),isNaN(J)||k.push(J);var ae=i[X.toLowerCase()],te=h[X]||X;if(k.length-1>ae)for(var Z=1,oe=k.length;Z<oe;Z+=ae)B.push([X].concat(k.slice(Z,Z+ae))),X=te;else B.push(k)}return B}function re(O,B){var L=[],j,J=new t.Point(O[0].x,O[0].y),D=new t.Point(O[1].x,O[1].y),E=O.length,I=1,M=0,U=E>2;for(B=B||0,U&&(I=O[2].x<D.x?-1:O[2].x===D.x?0:1,M=O[2].y<D.y?-1:O[2].y===D.y?0:1),L.push(["M",J.x-I*B,J.y-M*B]),j=1;j<E;j++){if(!J.eq(D)){var Y=J.midPointFrom(D);L.push(["Q",J.x,J.y,Y.x,Y.y])}J=O[j],j+1<O.length&&(D=O[j+1])}return U&&(I=J.x>O[j-2].x?1:J.x===O[j-2].x?0:-1,M=J.y>O[j-2].y?1:J.y===O[j-2].y?0:-1),L.push(["L",J.x+I*B,J.y+M*B]),L}function ie(O,B,L){return L&&(B=t.util.multiplyTransformMatrices(B,[1,0,0,1,-L.x,-L.y])),O.map(function(j){for(var J=j.slice(0),D={},E=1;E<j.length-1;E+=2)D.x=j[E],D.y=j[E+1],D=t.util.transformPoint(D,B),J[E]=D.x,J[E+1]=D.y;return J})}t.util.joinPath=function(O){return O.map(function(B){return B.join(" ")}).join(" ")},t.util.parsePath=ne,t.util.makePathSimpler=d,t.util.getSmoothPathFromPoints=re,t.util.getPathSegmentsInfo=$,t.util.getBoundsOfCurve=s,t.util.getPointOnPath=ee,t.util.transformPath=ie}(),function(){var u=Array.prototype.slice;function i(s,o){for(var d=u.call(arguments,2),l=[],v=0,p=s.length;v<p;v++)l[v]=d.length?s[v][o].apply(s[v],d):s[v][o].call(s[v]);return l}function h(s,o){return a(s,o,function(d,l){return d>=l})}function c(s,o){return a(s,o,function(d,l){return d<l})}function r(s,o){for(var d=s.length;d--;)s[d]=o;return s}function a(s,o,d){if(!(!s||s.length===0)){var l=s.length-1,v=o?s[l][o]:s[l];if(o)for(;l--;)d(s[l][o],v)&&(v=s[l][o]);else for(;l--;)d(s[l],v)&&(v=s[l]);return v}}t.util.array={fill:r,invoke:i,min:c,max:h}}(),function(){function u(h,c,r){if(r)if(!t.isLikelyNode&&c instanceof Element)h=c;else if(c instanceof Array){h=[];for(var a=0,s=c.length;a<s;a++)h[a]=u({},c[a],r)}else if(c&&typeof c=="object")for(var o in c)o==="canvas"||o==="group"?h[o]=null:c.hasOwnProperty(o)&&(h[o]=u({},c[o],r));else h=c;else for(var o in c)h[o]=c[o];return h}function i(h,c){return u({},h,c)}t.util.object={extend:u,clone:i},t.util.object.extend(t.util,t.Observable)}(),function(){function u(a){return a.replace(/-+(.)?/g,function(s,o){return o?o.toUpperCase():""})}function i(a,s){return a.charAt(0).toUpperCase()+(s?a.slice(1):a.slice(1).toLowerCase())}function h(a){return a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function c(a){var s=0,o,d=[];for(s=0,o;s<a.length;s++)(o=r(a,s))!==!1&&d.push(o);return d}function r(a,s){var o=a.charCodeAt(s);if(isNaN(o))return"";if(o<55296||o>57343)return a.charAt(s);if(55296<=o&&o<=56319){if(a.length<=s+1)throw"High surrogate without following low surrogate";var d=a.charCodeAt(s+1);if(56320>d||d>57343)throw"High surrogate without following low surrogate";return a.charAt(s)+a.charAt(s+1)}if(s===0)throw"Low surrogate without preceding high surrogate";var l=a.charCodeAt(s-1);if(55296>l||l>56319)throw"Low surrogate without preceding high surrogate";return!1}t.util.string={camelize:u,capitalize:i,escapeXml:h,graphemeSplit:c}}(),function(){var u=Array.prototype.slice,i=function(){},h=function(){for(var o in{toString:1})if(o==="toString")return!1;return!0}(),c=function(o,d,l){for(var v in d)v in o.prototype&&typeof o.prototype[v]=="function"&&(d[v]+"").indexOf("callSuper")>-1?o.prototype[v]=function(p){return function(){var b=this.constructor.superclass;this.constructor.superclass=l;var _=d[p].apply(this,arguments);if(this.constructor.superclass=b,p!=="initialize")return _}}(v):o.prototype[v]=d[v],h&&(d.toString!==Object.prototype.toString&&(o.prototype.toString=d.toString),d.valueOf!==Object.prototype.valueOf&&(o.prototype.valueOf=d.valueOf))};function r(){}function a(o){for(var d=null,l=this;l.constructor.superclass;){var v=l.constructor.superclass.prototype[o];if(l[o]!==v){d=v;break}l=l.constructor.superclass.prototype}return d?arguments.length>1?d.apply(this,u.call(arguments,1)):d.call(this):console.log("tried to callSuper "+o+", method not found in prototype chain",this)}function s(){var o=null,d=u.call(arguments,0);typeof d[0]=="function"&&(o=d.shift());function l(){this.initialize.apply(this,arguments)}l.superclass=o,l.subclasses=[],o&&(r.prototype=o.prototype,l.prototype=new r,o.subclasses.push(l));for(var v=0,p=d.length;v<p;v++)c(l,d[v],o);return l.prototype.initialize||(l.prototype.initialize=i),l.prototype.constructor=l,l.prototype.callSuper=a,l}t.util.createClass=s}(),function(){var u=!!t.document.createElement("div").attachEvent,i=["touchstart","touchmove","touchend"];t.util.addListener=function(c,r,a,s){c&&c.addEventListener(r,a,u?!1:s)},t.util.removeListener=function(c,r,a,s){c&&c.removeEventListener(r,a,u?!1:s)};function h(c){var r=c.changedTouches;return r&&r[0]?r[0]:c}t.util.getPointer=function(c){var r=c.target,a=t.util.getScrollLeftTop(r),s=h(c);return{x:s.clientX+a.left,y:s.clientY+a.top}},t.util.isTouchEvent=function(c){return i.indexOf(c.type)>-1||c.pointerType==="touch"}}(),function(){function u(s,o){var d=s.style;if(!d)return s;if(typeof o=="string")return s.style.cssText+=";"+o,o.indexOf("opacity")>-1?a(s,o.match(/opacity:\s*(\d?\.?\d*)/)[1]):s;for(var l in o)if(l==="opacity")a(s,o[l]);else{var v=l==="float"||l==="cssFloat"?typeof d.styleFloat>"u"?"cssFloat":"styleFloat":l;d.setProperty(v,o[l])}return s}var i=t.document.createElement("div"),h=typeof i.style.opacity=="string",c=typeof i.style.filter=="string",r=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,a=function(s){return s};h?a=function(s,o){return s.style.opacity=o,s}:c&&(a=function(s,o){var d=s.style;return s.currentStyle&&!s.currentStyle.hasLayout&&(d.zoom=1),r.test(d.filter)?(o=o>=.9999?"":"alpha(opacity="+o*100+")",d.filter=d.filter.replace(r,o)):d.filter+=" alpha(opacity="+o*100+")",s}),t.util.setStyle=u}(),function(){var u=Array.prototype.slice;function i(_){return typeof _=="string"?t.document.getElementById(_):_}var h,c=function(_){return u.call(_,0)};try{h=c(t.document.childNodes)instanceof Array}catch{}h||(c=function(_){for(var C=new Array(_.length),S=_.length;S--;)C[S]=_[S];return C});function r(_,C){var S=t.document.createElement(_);for(var w in C)w==="class"?S.className=C[w]:w==="for"?S.htmlFor=C[w]:S.setAttribute(w,C[w]);return S}function a(_,C){_&&(" "+_.className+" ").indexOf(" "+C+" ")===-1&&(_.className+=(_.className?" ":"")+C)}function s(_,C,S){return typeof C=="string"&&(C=r(C,S)),_.parentNode&&_.parentNode.replaceChild(C,_),C.appendChild(_),C}function o(_){for(var C=0,S=0,w=t.document.documentElement,x=t.document.body||{scrollLeft:0,scrollTop:0};_&&(_.parentNode||_.host)&&(_=_.parentNode||_.host,_===t.document?(C=x.scrollLeft||w.scrollLeft||0,S=x.scrollTop||w.scrollTop||0):(C+=_.scrollLeft||0,S+=_.scrollTop||0),!(_.nodeType===1&&_.style.position==="fixed")););return{left:C,top:S}}function d(_){var C,S=_&&_.ownerDocument,w={left:0,top:0},x={left:0,top:0},A,V={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!S)return x;for(var z in V)x[V[z]]+=parseInt(l(_,z),10)||0;return C=S.documentElement,typeof _.getBoundingClientRect<"u"&&(w=_.getBoundingClientRect()),A=o(_),{left:w.left+A.left-(C.clientLeft||0)+x.left,top:w.top+A.top-(C.clientTop||0)+x.top}}var l;t.document.defaultView&&t.document.defaultView.getComputedStyle?l=function(_,C){var S=t.document.defaultView.getComputedStyle(_,null);return S?S[C]:void 0}:l=function(_,C){var S=_.style[C];return!S&&_.currentStyle&&(S=_.currentStyle[C]),S},function(){var _=t.document.documentElement.style,C="userSelect"in _?"userSelect":"MozUserSelect"in _?"MozUserSelect":"WebkitUserSelect"in _?"WebkitUserSelect":"KhtmlUserSelect"in _?"KhtmlUserSelect":"";function S(x){return typeof x.onselectstart<"u"&&(x.onselectstart=t.util.falseFunction),C?x.style[C]="none":typeof x.unselectable=="string"&&(x.unselectable="on"),x}function w(x){return typeof x.onselectstart<"u"&&(x.onselectstart=null),C?x.style[C]="":typeof x.unselectable=="string"&&(x.unselectable=""),x}t.util.makeElementUnselectable=S,t.util.makeElementSelectable=w}();function v(_){var C=t.jsdomImplForWrapper(_);return C._canvas||C._image}function p(_){if(t.isLikelyNode){var C=t.jsdomImplForWrapper(_);C&&(C._image=null,C._canvas=null,C._currentSrc=null,C._attributes=null,C._classList=null)}}function b(_,C){_.imageSmoothingEnabled=_.imageSmoothingEnabled||_.webkitImageSmoothingEnabled||_.mozImageSmoothingEnabled||_.msImageSmoothingEnabled||_.oImageSmoothingEnabled,_.imageSmoothingEnabled=C}t.util.setImageSmoothing=b,t.util.getById=i,t.util.toArray=c,t.util.addClass=a,t.util.makeElement=r,t.util.wrapElement=s,t.util.getScrollLeftTop=o,t.util.getElementOffset=d,t.util.getNodeCanvas=v,t.util.cleanUpJsdomNode=p}(),function(){function u(c,r){return c+(/\?/.test(c)?"&":"?")+r}function i(){}function h(c,r){r||(r={});var a=r.method?r.method.toUpperCase():"GET",s=r.onComplete||function(){},o=new t.window.XMLHttpRequest,d=r.body||r.parameters;return o.onreadystatechange=function(){o.readyState===4&&(s(o),o.onreadystatechange=i)},a==="GET"&&(d=null,typeof r.parameters=="string"&&(c=u(c,r.parameters))),o.open(a,c,!0),(a==="POST"||a==="PUT")&&o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(d),o}t.util.request=h}(),t.log=console.log,t.warn=console.warn,function(){var u=t.util.object.extend,i=t.util.object.clone,h=[];t.util.object.extend(h,{cancelAll:function(){var v=this.splice(0);return v.forEach(function(p){p.cancel()}),v},cancelByCanvas:function(v){if(!v)return[];var p=this.filter(function(b){return typeof b.target=="object"&&b.target.canvas===v});return p.forEach(function(b){b.cancel()}),p},cancelByTarget:function(v){var p=this.findAnimationsByTarget(v);return p.forEach(function(b){b.cancel()}),p},findAnimationIndex:function(v){return this.indexOf(this.findAnimation(v))},findAnimation:function(v){return this.find(function(p){return p.cancel===v})},findAnimationsByTarget:function(v){return v?this.filter(function(p){return p.target===v}):[]}});function c(){return!1}function r(v,p,b,_){return-b*Math.cos(v/_*(Math.PI/2))+b+p}function a(v){v||(v={});var p=!1,b,_=function(){var C=t.runningAnimations.indexOf(b);return C>-1&&t.runningAnimations.splice(C,1)[0]};return b=u(i(v),{cancel:function(){return p=!0,_()},currentValue:"startValue"in v?v.startValue:0,completionRate:0,durationRate:0}),t.runningAnimations.push(b),d(function(C){var S=C||+new Date,w=v.duration||500,x=S+w,A,V=v.onChange||c,z=v.abort||c,R=v.onComplete||c,G=v.easing||r,$="startValue"in v?v.startValue.length>0:!1,ee="startValue"in v?v.startValue:0,ne="endValue"in v?v.endValue:100,re=v.byValue||($?ee.map(function(ie,O){return ne[O]-ee[O]}):ne-ee);v.onStart&&v.onStart(),function ie(O){A=O||+new Date;var B=A>x?w:A-S,L=B/w,j=$?ee.map(function(D,E){return G(B,ee[E],re[E],w)}):G(B,ee,re,w),J=Math.abs($?(j[0]-ee[0])/re[0]:(j-ee)/re);if(b.currentValue=$?j.slice():j,b.completionRate=J,b.durationRate=L,!p){if(z(j,J,L)){_();return}if(A>x){b.currentValue=$?ne.slice():ne,b.completionRate=1,b.durationRate=1,V($?ne.slice():ne,1,1),R(ne,1,1),_();return}else V(j,J,L),d(ie)}}(S)}),b.cancel}var s=t.window.requestAnimationFrame||t.window.webkitRequestAnimationFrame||t.window.mozRequestAnimationFrame||t.window.oRequestAnimationFrame||t.window.msRequestAnimationFrame||function(v){return t.window.setTimeout(v,1e3/60)},o=t.window.cancelAnimationFrame||t.window.clearTimeout;function d(){return s.apply(t.window,arguments)}function l(){return o.apply(t.window,arguments)}t.util.animate=a,t.util.requestAnimFrame=d,t.util.cancelAnimFrame=l,t.runningAnimations=h}(),function(){function u(h,c,r){var a="rgba("+parseInt(h[0]+r*(c[0]-h[0]),10)+","+parseInt(h[1]+r*(c[1]-h[1]),10)+","+parseInt(h[2]+r*(c[2]-h[2]),10);return a+=","+(h&&c?parseFloat(h[3]+r*(c[3]-h[3])):1),a+=")",a}function i(h,c,r,a){var s=new t.Color(h).getSource(),o=new t.Color(c).getSource(),d=a.onComplete,l=a.onChange;return a=a||{},t.util.animate(t.util.object.extend(a,{duration:r||500,startValue:s,endValue:o,byValue:o,easing:function(v,p,b,_){var C=a.colorEasing?a.colorEasing(v,_):1-Math.cos(v/_*(Math.PI/2));return u(p,b,C)},onComplete:function(v,p,b){if(d)return d(u(o,o,0),p,b)},onChange:function(v,p,b){if(l){if(Array.isArray(v))return l(u(v,v,0),p,b);l(v,p,b)}}}))}t.util.animateColor=i}(),function(){function u(O,B,L,j){return O<Math.abs(B)?(O=B,j=L/4):B===0&&O===0?j=L/(2*Math.PI)*Math.asin(1):j=L/(2*Math.PI)*Math.asin(B/O),{a:O,c:B,p:L,s:j}}function i(O,B,L){return O.a*Math.pow(2,10*(B-=1))*Math.sin((B*L-O.s)*(2*Math.PI)/O.p)}function h(O,B,L,j){return L*((O=O/j-1)*O*O+1)+B}function c(O,B,L,j){return O/=j/2,O<1?L/2*O*O*O+B:L/2*((O-=2)*O*O+2)+B}function r(O,B,L,j){return L*(O/=j)*O*O*O+B}function a(O,B,L,j){return-L*((O=O/j-1)*O*O*O-1)+B}function s(O,B,L,j){return O/=j/2,O<1?L/2*O*O*O*O+B:-L/2*((O-=2)*O*O*O-2)+B}function o(O,B,L,j){return L*(O/=j)*O*O*O*O+B}function d(O,B,L,j){return L*((O=O/j-1)*O*O*O*O+1)+B}function l(O,B,L,j){return O/=j/2,O<1?L/2*O*O*O*O*O+B:L/2*((O-=2)*O*O*O*O+2)+B}function v(O,B,L,j){return-L*Math.cos(O/j*(Math.PI/2))+L+B}function p(O,B,L,j){return L*Math.sin(O/j*(Math.PI/2))+B}function b(O,B,L,j){return-L/2*(Math.cos(Math.PI*O/j)-1)+B}function _(O,B,L,j){return O===0?B:L*Math.pow(2,10*(O/j-1))+B}function C(O,B,L,j){return O===j?B+L:L*(-Math.pow(2,-10*O/j)+1)+B}function S(O,B,L,j){return O===0?B:O===j?B+L:(O/=j/2,O<1?L/2*Math.pow(2,10*(O-1))+B:L/2*(-Math.pow(2,-10*--O)+2)+B)}function w(O,B,L,j){return-L*(Math.sqrt(1-(O/=j)*O)-1)+B}function x(O,B,L,j){return L*Math.sqrt(1-(O=O/j-1)*O)+B}function A(O,B,L,j){return O/=j/2,O<1?-L/2*(Math.sqrt(1-O*O)-1)+B:L/2*(Math.sqrt(1-(O-=2)*O)+1)+B}function V(O,B,L,j){var J=1.70158,D=0,E=L;if(O===0)return B;if(O/=j,O===1)return B+L;D||(D=j*.3);var I=u(E,L,D,J);return-i(I,O,j)+B}function z(O,B,L,j){var J=1.70158,D=0,E=L;if(O===0)return B;if(O/=j,O===1)return B+L;D||(D=j*.3);var I=u(E,L,D,J);return I.a*Math.pow(2,-10*O)*Math.sin((O*j-I.s)*(2*Math.PI)/I.p)+I.c+B}function R(O,B,L,j){var J=1.70158,D=0,E=L;if(O===0)return B;if(O/=j/2,O===2)return B+L;D||(D=j*(.3*1.5));var I=u(E,L,D,J);return O<1?-.5*i(I,O,j)+B:I.a*Math.pow(2,-10*(O-=1))*Math.sin((O*j-I.s)*(2*Math.PI)/I.p)*.5+I.c+B}function G(O,B,L,j,J){return J===void 0&&(J=1.70158),L*(O/=j)*O*((J+1)*O-J)+B}function $(O,B,L,j,J){return J===void 0&&(J=1.70158),L*((O=O/j-1)*O*((J+1)*O+J)+1)+B}function ee(O,B,L,j,J){return J===void 0&&(J=1.70158),O/=j/2,O<1?L/2*(O*O*(((J*=1.525)+1)*O-J))+B:L/2*((O-=2)*O*(((J*=1.525)+1)*O+J)+2)+B}function ne(O,B,L,j){return L-re(j-O,0,L,j)+B}function re(O,B,L,j){return(O/=j)<1/2.75?L*(7.5625*O*O)+B:O<2/2.75?L*(7.5625*(O-=1.5/2.75)*O+.75)+B:O<2.5/2.75?L*(7.5625*(O-=2.25/2.75)*O+.9375)+B:L*(7.5625*(O-=2.625/2.75)*O+.984375)+B}function ie(O,B,L,j){return O<j/2?ne(O*2,0,L,j)*.5+B:re(O*2-j,0,L,j)*.5+L*.5+B}t.util.ease={easeInQuad:function(O,B,L,j){return L*(O/=j)*O+B},easeOutQuad:function(O,B,L,j){return-L*(O/=j)*(O-2)+B},easeInOutQuad:function(O,B,L,j){return O/=j/2,O<1?L/2*O*O+B:-L/2*(--O*(O-2)-1)+B},easeInCubic:function(O,B,L,j){return L*(O/=j)*O*O+B},easeOutCubic:h,easeInOutCubic:c,easeInQuart:r,easeOutQuart:a,easeInOutQuart:s,easeInQuint:o,easeOutQuint:d,easeInOutQuint:l,easeInSine:v,easeOutSine:p,easeInOutSine:b,easeInExpo:_,easeOutExpo:C,easeInOutExpo:S,easeInCirc:w,easeOutCirc:x,easeInOutCirc:A,easeInElastic:V,easeOutElastic:z,easeInOutElastic:R,easeInBack:G,easeOutBack:$,easeInOutBack:ee,easeInBounce:ne,easeOutBounce:re,easeInOutBounce:ie}}(),function(u){var i=u.fabric||(u.fabric={}),h=i.util.object.extend,c=i.util.object.clone,r=i.util.toFixed,a=i.util.parseUnit,s=i.util.multiplyTransformMatrices,o=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],d=["symbol","image","marker","pattern","view","svg"],l=["pattern","defs","symbol","metadata","clipPath","mask","desc"],v=["symbol","g","a","svg","clipPath","defs"],p={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},b={stroke:"strokeOpacity",fill:"fillOpacity"},_="font-size",C="clip-path";i.svgValidTagNamesRegEx=x(o),i.svgViewBoxElementsRegEx=x(d),i.svgInvalidAncestorsRegEx=x(l),i.svgValidParentsRegEx=x(v),i.cssRules={},i.gradientDefs={},i.clipPaths={};function S(D){return D in p?p[D]:D}function w(D,E,I,M){var U=Array.isArray(E),Y;if((D==="fill"||D==="stroke")&&E==="none")E="";else{if(D==="strokeUniform")return E==="non-scaling-stroke";if(D==="strokeDashArray")E==="none"?E=null:E=E.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(D==="transformMatrix")I&&I.transformMatrix?E=s(I.transformMatrix,i.parseTransformAttribute(E)):E=i.parseTransformAttribute(E);else if(D==="visible")E=E!=="none"&&E!=="hidden",I&&I.visible===!1&&(E=!1);else if(D==="opacity")E=parseFloat(E),I&&typeof I.opacity<"u"&&(E*=I.opacity);else if(D==="textAnchor")E=E==="start"?"left":E==="end"?"right":"center";else if(D==="charSpacing")Y=a(E,M)/M*1e3;else if(D==="paintFirst"){var q=E.indexOf("fill"),se=E.indexOf("stroke"),E="fill";(q>-1&&se>-1&&se<q||q===-1&&se>-1)&&(E="stroke")}else{if(D==="href"||D==="xlink:href"||D==="font")return E;if(D==="imageSmoothing")return E==="optimizeQuality";Y=U?E.map(a):a(E,M)}}return!U&&isNaN(Y)?E:Y}function x(D){return new RegExp("^("+D.join("|")+")\\b","i")}function A(D){for(var E in b)if(!(typeof D[b[E]]>"u"||D[E]==="")){if(typeof D[E]>"u"){if(!i.Object.prototype[E])continue;D[E]=i.Object.prototype[E]}if(D[E].indexOf("url(")!==0){var I=new i.Color(D[E]);D[E]=I.setAlpha(r(I.getAlpha()*D[b[E]],2)).toRgba()}}return D}function V(D,E){var I,M=[],U,Y,q;for(Y=0,q=E.length;Y<q;Y++)I=E[Y],U=D.getElementsByTagName(I),M=M.concat(Array.prototype.slice.call(U));return M}i.parseTransformAttribute=function(){function D(Z,oe){var le=i.util.cos(oe[0]),ce=i.util.sin(oe[0]),fe=0,he=0;oe.length===3&&(fe=oe[1],he=oe[2]),Z[0]=le,Z[1]=ce,Z[2]=-ce,Z[3]=le,Z[4]=fe-(le*fe-ce*he),Z[5]=he-(ce*fe+le*he)}function E(Z,oe){var le=oe[0],ce=oe.length===2?oe[1]:oe[0];Z[0]=le,Z[3]=ce}function I(Z,oe,le){Z[le]=Math.tan(i.util.degreesToRadians(oe[0]))}function M(Z,oe){Z[4]=oe[0],oe.length===2&&(Z[5]=oe[1])}var U=i.iMatrix,Y=i.reNum,q=i.commaWsp,se="(?:(skewX)\\s*\\(\\s*("+Y+")\\s*\\))",P="(?:(skewY)\\s*\\(\\s*("+Y+")\\s*\\))",T="(?:(rotate)\\s*\\(\\s*("+Y+")(?:"+q+"("+Y+")"+q+"("+Y+"))?\\s*\\))",k="(?:(scale)\\s*\\(\\s*("+Y+")(?:"+q+"("+Y+"))?\\s*\\))",W="(?:(translate)\\s*\\(\\s*("+Y+")(?:"+q+"("+Y+"))?\\s*\\))",X="(?:(matrix)\\s*\\(\\s*("+Y+")"+q+"("+Y+")"+q+"("+Y+")"+q+"("+Y+")"+q+"("+Y+")"+q+"("+Y+")\\s*\\))",N="(?:"+X+"|"+W+"|"+k+"|"+T+"|"+se+"|"+P+")",K="(?:"+N+"(?:"+q+"*"+N+")*)",Q="^\\s*(?:"+K+"?)\\s*$",ae=new RegExp(Q),te=new RegExp(N,"g");return function(Z){var oe=U.concat(),le=[];if(!Z||Z&&!ae.test(Z))return oe;Z.replace(te,function(fe){var he=new RegExp(N).exec(fe).filter(function(Ve){return!!Ve}),_e=he[1],Te=he.slice(2).map(parseFloat);switch(_e){case"translate":M(oe,Te);break;case"rotate":Te[0]=i.util.degreesToRadians(Te[0]),D(oe,Te);break;case"scale":E(oe,Te);break;case"skewX":I(oe,Te,2);break;case"skewY":I(oe,Te,1);break;case"matrix":oe=Te;break}le.push(oe.concat()),oe=U.concat()});for(var ce=le[0];le.length>1;)le.shift(),ce=i.util.multiplyTransformMatrices(ce,le[0]);return ce}}();function z(D,E){var I,M;D.replace(/;\s*$/,"").split(";").forEach(function(U){var Y=U.split(":");I=Y[0].trim().toLowerCase(),M=Y[1].trim(),E[I]=M})}function R(D,E){var I,M;for(var U in D)typeof D[U]>"u"||(I=U.toLowerCase(),M=D[U],E[I]=M)}function G(D,E){var I={};for(var M in i.cssRules[E])if($(D,M.split(" ")))for(var U in i.cssRules[E][M])I[U]=i.cssRules[E][M][U];return I}function $(D,E){var I,M=!0;return I=ne(D,E.pop()),I&&E.length&&(M=ee(D,E)),I&&M&&E.length===0}function ee(D,E){for(var I,M=!0;D.parentNode&&D.parentNode.nodeType===1&&E.length;)M&&(I=E.pop()),D=D.parentNode,M=ne(D,I);return E.length===0}function ne(D,E){var I=D.nodeName,M=D.getAttribute("class"),U=D.getAttribute("id"),Y,q;if(Y=new RegExp("^"+I,"i"),E=E.replace(Y,""),U&&E.length&&(Y=new RegExp("#"+U+"(?![a-zA-Z\\-]+)","i"),E=E.replace(Y,"")),M&&E.length)for(M=M.split(" "),q=M.length;q--;)Y=new RegExp("\\."+M[q]+"(?![a-zA-Z\\-]+)","i"),E=E.replace(Y,"");return E.length===0}function re(D,E){var I;if(D.getElementById&&(I=D.getElementById(E)),I)return I;var M,U,Y,q=D.getElementsByTagName("*");for(U=0,Y=q.length;U<Y;U++)if(M=q[U],E===M.getAttribute("id"))return M}function ie(D){for(var E=V(D,["use","svg:use"]),I=0;E.length&&I<E.length;){var M=E[I],U=M.getAttribute("xlink:href")||M.getAttribute("href");if(U===null)return;var Y=U.slice(1),q=M.getAttribute("x")||0,se=M.getAttribute("y")||0,P=re(D,Y).cloneNode(!0),T=(P.getAttribute("transform")||"")+" translate("+q+", "+se+")",k,W=E.length,X,N,K,Q,ae=i.svgNS;if(B(P),/^svg$/i.test(P.nodeName)){var te=P.ownerDocument.createElementNS(ae,"g");for(N=0,K=P.attributes,Q=K.length;N<Q;N++)X=K.item(N),te.setAttributeNS(ae,X.nodeName,X.nodeValue);for(;P.firstChild;)te.appendChild(P.firstChild);P=te}for(N=0,K=M.attributes,Q=K.length;N<Q;N++)X=K.item(N),!(X.nodeName==="x"||X.nodeName==="y"||X.nodeName==="xlink:href"||X.nodeName==="href")&&(X.nodeName==="transform"?T=X.nodeValue+" "+T:P.setAttribute(X.nodeName,X.nodeValue));P.setAttribute("transform",T),P.setAttribute("instantiated_by_use","1"),P.removeAttribute("id"),k=M.parentNode,k.replaceChild(P,M),E.length===W&&I++}}var O=new RegExp("^\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*$");function B(D){if(!i.svgViewBoxElementsRegEx.test(D.nodeName))return{};var E=D.getAttribute("viewBox"),I=1,M=1,U=0,Y=0,q,se,P,T,k=D.getAttribute("width"),W=D.getAttribute("height"),X=D.getAttribute("x")||0,N=D.getAttribute("y")||0,K=D.getAttribute("preserveAspectRatio")||"",Q=!E||!(E=E.match(O)),ae=!k||!W||k==="100%"||W==="100%",te=Q&&ae,Z={},oe="",le=0,ce=0;if(Z.width=0,Z.height=0,Z.toBeParsed=te,Q&&(X||N)&&D.parentNode&&D.parentNode.nodeName!=="#document"&&(oe=" translate("+a(X)+" "+a(N)+") ",P=(D.getAttribute("transform")||"")+oe,D.setAttribute("transform",P),D.removeAttribute("x"),D.removeAttribute("y")),te)return Z;if(Q)return Z.width=a(k),Z.height=a(W),Z;if(U=-parseFloat(E[1]),Y=-parseFloat(E[2]),q=parseFloat(E[3]),se=parseFloat(E[4]),Z.minX=U,Z.minY=Y,Z.viewBoxWidth=q,Z.viewBoxHeight=se,ae?(Z.width=q,Z.height=se):(Z.width=a(k),Z.height=a(W),I=Z.width/q,M=Z.height/se),K=i.util.parsePreserveAspectRatioAttribute(K),K.alignX!=="none"&&(K.meetOrSlice==="meet"&&(M=I=I>M?M:I),K.meetOrSlice==="slice"&&(M=I=I>M?I:M),le=Z.width-q*I,ce=Z.height-se*I,K.alignX==="Mid"&&(le/=2),K.alignY==="Mid"&&(ce/=2),K.alignX==="Min"&&(le=0),K.alignY==="Min"&&(ce=0)),I===1&&M===1&&U===0&&Y===0&&X===0&&N===0)return Z;if((X||N)&&D.parentNode.nodeName!=="#document"&&(oe=" translate("+a(X)+" "+a(N)+") "),P=oe+" matrix("+I+" 0 0 "+M+" "+(U*I+le)+" "+(Y*M+ce)+") ",D.nodeName==="svg"){for(T=D.ownerDocument.createElementNS(i.svgNS,"g");D.firstChild;)T.appendChild(D.firstChild);D.appendChild(T)}else T=D,T.removeAttribute("x"),T.removeAttribute("y"),P=T.getAttribute("transform")+P;return T.setAttribute("transform",P),Z}function L(D,E){for(;D&&(D=D.parentNode);)if(D.nodeName&&E.test(D.nodeName.replace("svg:",""))&&!D.getAttribute("instantiated_by_use"))return!0;return!1}i.parseSVGDocument=function(D,E,I,M){if(D){ie(D);var U=i.Object.__uid++,Y,q,se=B(D),P=i.util.toArray(D.getElementsByTagName("*"));if(se.crossOrigin=M&&M.crossOrigin,se.svgUid=U,P.length===0&&i.isLikelyNode){P=D.selectNodes('//*[name(.)!="svg"]');var T=[];for(Y=0,q=P.length;Y<q;Y++)T[Y]=P[Y];P=T}var k=P.filter(function(X){return B(X),i.svgValidTagNamesRegEx.test(X.nodeName.replace("svg:",""))&&!L(X,i.svgInvalidAncestorsRegEx)});if(!k||k&&!k.length){E&&E([],{});return}var W={};P.filter(function(X){return X.nodeName.replace("svg:","")==="clipPath"}).forEach(function(X){var N=X.getAttribute("id");W[N]=i.util.toArray(X.getElementsByTagName("*")).filter(function(K){return i.svgValidTagNamesRegEx.test(K.nodeName.replace("svg:",""))})}),i.gradientDefs[U]=i.getGradientDefs(D),i.cssRules[U]=i.getCSSRules(D),i.clipPaths[U]=W,i.parseElements(k,function(X,N){E&&(E(X,se,N,P),delete i.gradientDefs[U],delete i.cssRules[U],delete i.clipPaths[U])},c(se),I,M)}};function j(D,E){var I=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],M="xlink:href",U=E.getAttribute(M).slice(1),Y=re(D,U);if(Y&&Y.getAttribute(M)&&j(D,Y),I.forEach(function(se){Y&&!E.hasAttribute(se)&&Y.hasAttribute(se)&&E.setAttribute(se,Y.getAttribute(se))}),!E.children.length)for(var q=Y.cloneNode(!0);q.firstChild;)E.appendChild(q.firstChild);E.removeAttribute(M)}var J=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+i.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+i.reNum+"))?\\s+(.*)");h(i,{parseFontDeclaration:function(D,E){var I=D.match(J);if(I){var M=I[1],U=I[3],Y=I[4],q=I[5],se=I[6];M&&(E.fontStyle=M),U&&(E.fontWeight=isNaN(parseFloat(U))?U:parseFloat(U)),Y&&(E.fontSize=a(Y)),se&&(E.fontFamily=se),q&&(E.lineHeight=q==="normal"?1:q)}},getGradientDefs:function(D){var E=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],I=V(D,E),M,U=0,Y={};for(U=I.length;U--;)M=I[U],M.getAttribute("xlink:href")&&j(D,M),Y[M.getAttribute("id")]=M;return Y},parseAttributes:function(D,E,I){if(D){var M,U={},Y,q;typeof I>"u"&&(I=D.getAttribute("svgUid")),D.parentNode&&i.svgValidParentsRegEx.test(D.parentNode.nodeName)&&(U=i.parseAttributes(D.parentNode,E,I));var se=E.reduce(function(K,Q){return M=D.getAttribute(Q),M&&(K[Q]=M),K},{}),P=h(G(D,I),i.parseStyleAttribute(D));se=h(se,P),P[C]&&D.setAttribute(C,P[C]),Y=q=U.fontSize||i.Text.DEFAULT_SVG_FONT_SIZE,se[_]&&(se[_]=Y=a(se[_],q));var T,k,W={};for(var X in se)T=S(X),k=w(T,se[X],U,Y),W[T]=k;W.font&&i.parseFontDeclaration(W.font,W);var N=h(U,W);return i.svgValidParentsRegEx.test(D.nodeName)?N:A(N)}},parseElements:function(D,E,I,M,U){new i.ElementsParser(D,E,I,M,U).parse()},parseStyleAttribute:function(D){var E={},I=D.getAttribute("style");return I&&(typeof I=="string"?z(I,E):R(I,E)),E},parsePointsAttribute:function(D){if(!D)return null;D=D.replace(/,/g," ").trim(),D=D.split(/\s+/);var E=[],I,M;for(I=0,M=D.length;I<M;I+=2)E.push({x:parseFloat(D[I]),y:parseFloat(D[I+1])});return E},getCSSRules:function(D){var E=D.getElementsByTagName("style"),I,M,U={},Y;for(I=0,M=E.length;I<M;I++){var q=E[I].textContent;q=q.replace(/\/\*[\s\S]*?\*\//g,""),q.trim()!==""&&(Y=q.split("}"),Y=Y.filter(function(se){return se.trim()}),Y.forEach(function(se){var P=se.split("{"),T={},k=P[1].trim(),W=k.split(";").filter(function(Q){return Q.trim()});for(I=0,M=W.length;I<M;I++){var X=W[I].split(":"),N=X[0].trim(),K=X[1].trim();T[N]=K}se=P[0].trim(),se.split(",").forEach(function(Q){Q=Q.replace(/^svg/i,"").trim(),Q!==""&&(U[Q]?i.util.object.extend(U[Q],T):U[Q]=i.util.object.clone(T))})}))}return U},loadSVGFromURL:function(D,E,I,M){D=D.replace(/^\n\s*/,"").trim(),new i.util.request(D,{method:"get",onComplete:U});function U(Y){var q=Y.responseXML;if(!q||!q.documentElement)return E&&E(null),!1;i.parseSVGDocument(q.documentElement,function(se,P,T,k){E&&E(se,P,T,k)},I,M)}},loadSVGFromString:function(D,E,I,M){var U=new i.window.DOMParser,Y=U.parseFromString(D.trim(),"text/xml");i.parseSVGDocument(Y.documentElement,function(q,se,P,T){E(q,se,P,T)},I,M)}})}(e),t.ElementsParser=function(u,i,h,c,r,a){this.elements=u,this.callback=i,this.options=h,this.reviver=c,this.svgUid=h&&h.svgUid||0,this.parsingOptions=r,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=a},function(u){u.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},u.createObjects=function(){var i=this;this.elements.forEach(function(h,c){h.setAttribute("svgUid",i.svgUid),i.createObject(h,c)})},u.findTag=function(i){return t[t.util.string.capitalize(i.tagName.replace("svg:",""))]},u.createObject=function(i,h){var c=this.findTag(i);if(c&&c.fromElement)try{c.fromElement(i,this.createCallback(h,i),this.options)}catch(r){t.log(r)}else this.checkIfDone()},u.createCallback=function(i,h){var c=this;return function(r){var a;c.resolveGradient(r,h,"fill"),c.resolveGradient(r,h,"stroke"),r instanceof t.Image&&r._originalElement&&(a=r.parsePreserveAspectRatioAttribute(h)),r._removeTransformMatrix(a),c.resolveClipPath(r,h),c.reviver&&c.reviver(h,r),c.instances[i]=r,c.checkIfDone()}},u.extractPropertyDefinition=function(i,h,c){var r=i[h],a=this.regexUrl;if(a.test(r)){a.lastIndex=0;var s=a.exec(r)[1];return a.lastIndex=0,t[c][this.svgUid][s]}},u.resolveGradient=function(i,h,c){var r=this.extractPropertyDefinition(i,c,"gradientDefs");if(r){var a=h.getAttribute(c+"-opacity"),s=t.Gradient.fromElement(r,i,a,this.options);i.set(c,s)}},u.createClipPathCallback=function(i,h){return function(c){c._removeTransformMatrix(),c.fillRule=c.clipRule,h.push(c)}},u.resolveClipPath=function(i,h){var c=this.extractPropertyDefinition(i,"clipPath","clipPaths"),r,a,s,o,d,l;if(c){o=[],s=t.util.invertTransform(i.calcTransformMatrix());for(var v=c[0].parentNode,p=h;p.parentNode&&p.getAttribute("clip-path")!==i.clipPath;)p=p.parentNode;p.parentNode.appendChild(v);for(var b=0;b<c.length;b++)r=c[b],a=this.findTag(r),a.fromElement(r,this.createClipPathCallback(i,o),this.options);o.length===1?c=o[0]:c=new t.Group(o),d=t.util.multiplyTransformMatrices(s,c.calcTransformMatrix()),c.clipPath&&this.resolveClipPath(c,p);var l=t.util.qrDecompose(d);c.flipX=!1,c.flipY=!1,c.set("scaleX",l.scaleX),c.set("scaleY",l.scaleY),c.angle=l.angle,c.skewX=l.skewX,c.skewY=0,c.setPositionByOrigin({x:l.translateX,y:l.translateY},"center","center"),i.clipPath=c}else delete i.clipPath},u.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(i){return i!=null}),this.callback(this.instances,this.elements))}}(t.ElementsParser.prototype),function(u){var i=u.fabric||(u.fabric={});if(i.Point){i.warn("fabric.Point is already defined");return}i.Point=h;function h(c,r){this.x=c,this.y=r}h.prototype={type:"point",constructor:h,add:function(c){return new h(this.x+c.x,this.y+c.y)},addEquals:function(c){return this.x+=c.x,this.y+=c.y,this},scalarAdd:function(c){return new h(this.x+c,this.y+c)},scalarAddEquals:function(c){return this.x+=c,this.y+=c,this},subtract:function(c){return new h(this.x-c.x,this.y-c.y)},subtractEquals:function(c){return this.x-=c.x,this.y-=c.y,this},scalarSubtract:function(c){return new h(this.x-c,this.y-c)},scalarSubtractEquals:function(c){return this.x-=c,this.y-=c,this},multiply:function(c){return new h(this.x*c,this.y*c)},multiplyEquals:function(c){return this.x*=c,this.y*=c,this},divide:function(c){return new h(this.x/c,this.y/c)},divideEquals:function(c){return this.x/=c,this.y/=c,this},eq:function(c){return this.x===c.x&&this.y===c.y},lt:function(c){return this.x<c.x&&this.y<c.y},lte:function(c){return this.x<=c.x&&this.y<=c.y},gt:function(c){return this.x>c.x&&this.y>c.y},gte:function(c){return this.x>=c.x&&this.y>=c.y},lerp:function(c,r){return typeof r>"u"&&(r=.5),r=Math.max(Math.min(1,r),0),new h(this.x+(c.x-this.x)*r,this.y+(c.y-this.y)*r)},distanceFrom:function(c){var r=this.x-c.x,a=this.y-c.y;return Math.sqrt(r*r+a*a)},midPointFrom:function(c){return this.lerp(c)},min:function(c){return new h(Math.min(this.x,c.x),Math.min(this.y,c.y))},max:function(c){return new h(Math.max(this.x,c.x),Math.max(this.y,c.y))},toString:function(){return this.x+","+this.y},setXY:function(c,r){return this.x=c,this.y=r,this},setX:function(c){return this.x=c,this},setY:function(c){return this.y=c,this},setFromPoint:function(c){return this.x=c.x,this.y=c.y,this},swap:function(c){var r=this.x,a=this.y;this.x=c.x,this.y=c.y,c.x=r,c.y=a},clone:function(){return new h(this.x,this.y)}}}(e),function(u){var i=u.fabric||(u.fabric={});if(i.Intersection){i.warn("fabric.Intersection is already defined");return}function h(c){this.status=c,this.points=[]}i.Intersection=h,i.Intersection.prototype={constructor:h,appendPoint:function(c){return this.points.push(c),this},appendPoints:function(c){return this.points=this.points.concat(c),this}},i.Intersection.intersectLineLine=function(c,r,a,s){var o,d=(s.x-a.x)*(c.y-a.y)-(s.y-a.y)*(c.x-a.x),l=(r.x-c.x)*(c.y-a.y)-(r.y-c.y)*(c.x-a.x),v=(s.y-a.y)*(r.x-c.x)-(s.x-a.x)*(r.y-c.y);if(v!==0){var p=d/v,b=l/v;0<=p&&p<=1&&0<=b&&b<=1?(o=new h("Intersection"),o.appendPoint(new i.Point(c.x+p*(r.x-c.x),c.y+p*(r.y-c.y)))):o=new h}else d===0||l===0?o=new h("Coincident"):o=new h("Parallel");return o},i.Intersection.intersectLinePolygon=function(c,r,a){var s=new h,o=a.length,d,l,v,p;for(p=0;p<o;p++)d=a[p],l=a[(p+1)%o],v=h.intersectLineLine(c,r,d,l),s.appendPoints(v.points);return s.points.length>0&&(s.status="Intersection"),s},i.Intersection.intersectPolygonPolygon=function(c,r){var a=new h,s=c.length,o;for(o=0;o<s;o++){var d=c[o],l=c[(o+1)%s],v=h.intersectLinePolygon(d,l,r);a.appendPoints(v.points)}return a.points.length>0&&(a.status="Intersection"),a},i.Intersection.intersectPolygonRectangle=function(c,r,a){var s=r.min(a),o=r.max(a),d=new i.Point(o.x,s.y),l=new i.Point(s.x,o.y),v=h.intersectLinePolygon(s,d,c),p=h.intersectLinePolygon(d,o,c),b=h.intersectLinePolygon(o,l,c),_=h.intersectLinePolygon(l,s,c),C=new h;return C.appendPoints(v.points),C.appendPoints(p.points),C.appendPoints(b.points),C.appendPoints(_.points),C.points.length>0&&(C.status="Intersection"),C}}(e),function(u){var i=u.fabric||(u.fabric={});if(i.Color){i.warn("fabric.Color is already defined.");return}function h(r){r?this._tryParsingColor(r):this.setSource([0,0,0,1])}i.Color=h,i.Color.prototype={_tryParsingColor:function(r){var a;r in h.colorNameMap&&(r=h.colorNameMap[r]),r==="transparent"&&(a=[255,255,255,0]),a||(a=h.sourceFromHex(r)),a||(a=h.sourceFromRgb(r)),a||(a=h.sourceFromHsl(r)),a||(a=[0,0,0,1]),a&&this.setSource(a)},_rgbToHsl:function(r,a,s){r/=255,a/=255,s/=255;var o,d,l,v=i.util.array.max([r,a,s]),p=i.util.array.min([r,a,s]);if(l=(v+p)/2,v===p)o=d=0;else{var b=v-p;switch(d=l>.5?b/(2-v-p):b/(v+p),v){case r:o=(a-s)/b+(a<s?6:0);break;case a:o=(s-r)/b+2;break;case s:o=(r-a)/b+4;break}o/=6}return[Math.round(o*360),Math.round(d*100),Math.round(l*100)]},getSource:function(){return this._source},setSource:function(r){this._source=r},toRgb:function(){var r=this.getSource();return"rgb("+r[0]+","+r[1]+","+r[2]+")"},toRgba:function(){var r=this.getSource();return"rgba("+r[0]+","+r[1]+","+r[2]+","+r[3]+")"},toHsl:function(){var r=this.getSource(),a=this._rgbToHsl(r[0],r[1],r[2]);return"hsl("+a[0]+","+a[1]+"%,"+a[2]+"%)"},toHsla:function(){var r=this.getSource(),a=this._rgbToHsl(r[0],r[1],r[2]);return"hsla("+a[0]+","+a[1]+"%,"+a[2]+"%,"+r[3]+")"},toHex:function(){var r=this.getSource(),a,s,o;return a=r[0].toString(16),a=a.length===1?"0"+a:a,s=r[1].toString(16),s=s.length===1?"0"+s:s,o=r[2].toString(16),o=o.length===1?"0"+o:o,a.toUpperCase()+s.toUpperCase()+o.toUpperCase()},toHexa:function(){var r=this.getSource(),a;return a=Math.round(r[3]*255),a=a.toString(16),a=a.length===1?"0"+a:a,this.toHex()+a.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(r){var a=this.getSource();return a[3]=r,this.setSource(a),this},toGrayscale:function(){var r=this.getSource(),a=parseInt((r[0]*.3+r[1]*.59+r[2]*.11).toFixed(0),10),s=r[3];return this.setSource([a,a,a,s]),this},toBlackWhite:function(r){var a=this.getSource(),s=(a[0]*.3+a[1]*.59+a[2]*.11).toFixed(0),o=a[3];return r=r||127,s=Number(s)<Number(r)?0:255,this.setSource([s,s,s,o]),this},overlayWith:function(r){r instanceof h||(r=new h(r));var a=[],s=this.getAlpha(),o=.5,d=this.getSource(),l=r.getSource(),v;for(v=0;v<3;v++)a.push(Math.round(d[v]*(1-o)+l[v]*o));return a[3]=s,this.setSource(a),this}},i.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,i.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,i.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,i.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function c(r,a,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?r+(a-r)*6*s:s<1/2?a:s<2/3?r+(a-r)*(2/3-s)*6:r}i.Color.fromRgb=function(r){return h.fromSource(h.sourceFromRgb(r))},i.Color.sourceFromRgb=function(r){var a=r.match(h.reRGBa);if(a){var s=parseInt(a[1],10)/(/%$/.test(a[1])?100:1)*(/%$/.test(a[1])?255:1),o=parseInt(a[2],10)/(/%$/.test(a[2])?100:1)*(/%$/.test(a[2])?255:1),d=parseInt(a[3],10)/(/%$/.test(a[3])?100:1)*(/%$/.test(a[3])?255:1);return[parseInt(s,10),parseInt(o,10),parseInt(d,10),a[4]?parseFloat(a[4]):1]}},i.Color.fromRgba=h.fromRgb,i.Color.fromHsl=function(r){return h.fromSource(h.sourceFromHsl(r))},i.Color.sourceFromHsl=function(r){var a=r.match(h.reHSLa);if(a){var s=(parseFloat(a[1])%360+360)%360/360,o=parseFloat(a[2])/(/%$/.test(a[2])?100:1),d=parseFloat(a[3])/(/%$/.test(a[3])?100:1),l,v,p;if(o===0)l=v=p=d;else{var b=d<=.5?d*(o+1):d+o-d*o,_=d*2-b;l=c(_,b,s+1/3),v=c(_,b,s),p=c(_,b,s-1/3)}return[Math.round(l*255),Math.round(v*255),Math.round(p*255),a[4]?parseFloat(a[4]):1]}},i.Color.fromHsla=h.fromHsl,i.Color.fromHex=function(r){return h.fromSource(h.sourceFromHex(r))},i.Color.sourceFromHex=function(r){if(r.match(h.reHex)){var a=r.slice(r.indexOf("#")+1),s=a.length===3||a.length===4,o=a.length===8||a.length===4,d=s?a.charAt(0)+a.charAt(0):a.substring(0,2),l=s?a.charAt(1)+a.charAt(1):a.substring(2,4),v=s?a.charAt(2)+a.charAt(2):a.substring(4,6),p=o?s?a.charAt(3)+a.charAt(3):a.substring(6,8):"FF";return[parseInt(d,16),parseInt(l,16),parseInt(v,16),parseFloat((parseInt(p,16)/255).toFixed(2))]}},i.Color.fromSource=function(r){var a=new h;return a.setSource(r),a}}(e),function(u){var i=u.fabric||(u.fabric={}),h=["e","se","s","sw","w","nw","n","ne","e"],c=["ns","nesw","ew","nwse"],r={},a="left",s="top",o="right",d="bottom",l="center",v={top:d,bottom:s,left:o,right:a,center:l},p=i.util.radiansToDegrees,b=Math.sign||function(T){return(T>0)-(T<0)||+T};function _(T,k){var W=T.angle+p(Math.atan2(k.y,k.x))+360;return Math.round(W%360/45)}function C(T,k){var W=k.transform.target,X=W.canvas,N=i.util.object.clone(k);N.target=W,X&&X.fire("object:"+T,N),W.fire(T,k)}function S(T,k){var W=k.canvas,X=W.uniScaleKey,N=T[X];return W.uniformScaling&&!N||!W.uniformScaling&&N}function w(T){return T.originX===l&&T.originY===l}function x(T,k,W){var X=T.lockScalingX,N=T.lockScalingY;return!!(X&&N||!k&&(X||N)&&W||X&&k==="x"||N&&k==="y")}function A(T,k,W){var X="not-allowed",N=S(T,W),K="";if(k.x!==0&&k.y===0?K="x":k.x===0&&k.y!==0&&(K="y"),x(W,K,N))return X;var Q=_(W,k);return h[Q]+"-resize"}function V(T,k,W){var X="not-allowed";if(k.x!==0&&W.lockSkewingY||k.y!==0&&W.lockSkewingX)return X;var N=_(W,k)%4;return c[N]+"-resize"}function z(T,k,W){return T[W.canvas.altActionKey]?r.skewCursorStyleHandler(T,k,W):r.scaleCursorStyleHandler(T,k,W)}function R(T,k,W){var X=T[W.canvas.altActionKey];if(k.x===0)return X?"skewX":"scaleY";if(k.y===0)return X?"skewY":"scaleX"}function G(T,k,W){return W.lockRotation?"not-allowed":k.cursorStyle}function $(T,k,W,X){return{e:T,transform:k,pointer:{x:W,y:X}}}function ee(T){return function(k,W,X,N){var K=W.target,Q=K.getCenterPoint(),ae=K.translateToOriginPoint(Q,W.originX,W.originY),te=T(k,W,X,N);return K.setPositionByOrigin(ae,W.originX,W.originY),te}}function ne(T,k){return function(W,X,N,K){var Q=k(W,X,N,K);return Q&&C(T,$(W,X,N,K)),Q}}function re(T,k,W,X,N){var K=T.target,Q=K.controls[T.corner],ae=K.canvas.getZoom(),te=K.padding/ae,Z=K.toLocalPoint(new i.Point(X,N),k,W);return Z.x>=te&&(Z.x-=te),Z.x<=-te&&(Z.x+=te),Z.y>=te&&(Z.y-=te),Z.y<=te&&(Z.y+=te),Z.x-=Q.offsetX,Z.y-=Q.offsetY,Z}function ie(T){return T.flipX!==T.flipY}function O(T,k,W,X,N){if(T[k]!==0){var K=T._getTransformedDimensions()[X],Q=N/K*T[W];T.set(W,Q)}}function B(T,k,W,X){var N=k.target,K=N._getTransformedDimensions(0,N.skewY),Q=re(k,k.originX,k.originY,W,X),ae=Math.abs(Q.x*2)-K.x,te=N.skewX,Z;ae<2?Z=0:(Z=p(Math.atan2(ae/N.scaleX,K.y/N.scaleY)),k.originX===a&&k.originY===d&&(Z=-Z),k.originX===o&&k.originY===s&&(Z=-Z),ie(N)&&(Z=-Z));var oe=te!==Z;if(oe){var le=N._getTransformedDimensions().y;N.set("skewX",Z),O(N,"skewY","scaleY","y",le)}return oe}function L(T,k,W,X){var N=k.target,K=N._getTransformedDimensions(N.skewX,0),Q=re(k,k.originX,k.originY,W,X),ae=Math.abs(Q.y*2)-K.y,te=N.skewY,Z;ae<2?Z=0:(Z=p(Math.atan2(ae/N.scaleY,K.x/N.scaleX)),k.originX===a&&k.originY===d&&(Z=-Z),k.originX===o&&k.originY===s&&(Z=-Z),ie(N)&&(Z=-Z));var oe=te!==Z;if(oe){var le=N._getTransformedDimensions().x;N.set("skewY",Z),O(N,"skewX","scaleX","x",le)}return oe}function j(T,k,W,X){var N=k.target,K=N.skewX,Q,ae=k.originY;if(N.lockSkewingX)return!1;if(K===0){var te=re(k,l,l,W,X);te.x>0?Q=a:Q=o}else K>0&&(Q=ae===s?a:o),K<0&&(Q=ae===s?o:a),ie(N)&&(Q=Q===a?o:a);k.originX=Q;var Z=ne("skewing",ee(B));return Z(T,k,W,X)}function J(T,k,W,X){var N=k.target,K=N.skewY,Q,ae=k.originX;if(N.lockSkewingY)return!1;if(K===0){var te=re(k,l,l,W,X);te.y>0?Q=s:Q=d}else K>0&&(Q=ae===a?s:d),K<0&&(Q=ae===a?d:s),ie(N)&&(Q=Q===s?d:s);k.originY=Q;var Z=ne("skewing",ee(L));return Z(T,k,W,X)}function D(T,k,W,X){var N=k,K=N.target,Q=K.translateToOriginPoint(K.getCenterPoint(),N.originX,N.originY);if(K.lockRotation)return!1;var ae=Math.atan2(N.ey-Q.y,N.ex-Q.x),te=Math.atan2(X-Q.y,W-Q.x),Z=p(te-ae+N.theta),oe=!0;if(K.snapAngle>0){var le=K.snapAngle,ce=K.snapThreshold||le,fe=Math.ceil(Z/le)*le,he=Math.floor(Z/le)*le;Math.abs(Z-he)<ce?Z=he:Math.abs(Z-fe)<ce&&(Z=fe)}return Z<0&&(Z=360+Z),Z%=360,oe=K.angle!==Z,K.angle=Z,oe}function E(T,k,W,X,N){N=N||{};var K=k.target,Q=K.lockScalingX,ae=K.lockScalingY,te=N.by,Z,oe,le,ce,fe=S(T,K),he=x(K,te,fe),_e,Te,Ve=k.gestureScale;if(he)return!1;if(Ve)oe=k.scaleX*Ve,le=k.scaleY*Ve;else{if(Z=re(k,k.originX,k.originY,W,X),_e=te!=="y"?b(Z.x):1,Te=te!=="x"?b(Z.y):1,k.signX||(k.signX=_e),k.signY||(k.signY=Te),K.lockScalingFlip&&(k.signX!==_e||k.signY!==Te))return!1;if(ce=K._getTransformedDimensions(),fe&&!te){var Ke=Math.abs(Z.x)+Math.abs(Z.y),Ne=k.original,wn=Math.abs(ce.x*Ne.scaleX/K.scaleX)+Math.abs(ce.y*Ne.scaleY/K.scaleY),fi=Ke/wn;oe=Ne.scaleX*fi,le=Ne.scaleY*fi}else oe=Math.abs(Z.x*K.scaleX/ce.x),le=Math.abs(Z.y*K.scaleY/ce.y);w(k)&&(oe*=2,le*=2),k.signX!==_e&&te!=="y"&&(k.originX=v[k.originX],oe*=-1,k.signX=_e),k.signY!==Te&&te!=="x"&&(k.originY=v[k.originY],le*=-1,k.signY=Te)}var et=K.scaleX,yt=K.scaleY;return te?(te==="x"&&K.set("scaleX",oe),te==="y"&&K.set("scaleY",le)):(!Q&&K.set("scaleX",oe),!ae&&K.set("scaleY",le)),et!==K.scaleX||yt!==K.scaleY}function I(T,k,W,X){return E(T,k,W,X)}function M(T,k,W,X){return E(T,k,W,X,{by:"x"})}function U(T,k,W,X){return E(T,k,W,X,{by:"y"})}function Y(T,k,W,X){return T[k.target.canvas.altActionKey]?r.skewHandlerX(T,k,W,X):r.scalingY(T,k,W,X)}function q(T,k,W,X){return T[k.target.canvas.altActionKey]?r.skewHandlerY(T,k,W,X):r.scalingX(T,k,W,X)}function se(T,k,W,X){var N=k.target,K=re(k,k.originX,k.originY,W,X),Q=N.strokeWidth/(N.strokeUniform?N.scaleX:1),ae=w(k)?2:1,te=N.width,Z=Math.abs(K.x*ae/N.scaleX)-Q;return N.set("width",Math.max(Z,0)),te!==Z}function P(T,k,W,X){var N=k.target,K=W-k.offsetX,Q=X-k.offsetY,ae=!N.get("lockMovementX")&&N.left!==K,te=!N.get("lockMovementY")&&N.top!==Q;return ae&&N.set("left",K),te&&N.set("top",Q),(ae||te)&&C("moving",$(T,k,W,X)),ae||te}r.scaleCursorStyleHandler=A,r.skewCursorStyleHandler=V,r.scaleSkewCursorStyleHandler=z,r.rotationWithSnapping=ne("rotating",ee(D)),r.scalingEqually=ne("scaling",ee(I)),r.scalingX=ne("scaling",ee(M)),r.scalingY=ne("scaling",ee(U)),r.scalingYOrSkewingX=Y,r.scalingXOrSkewingY=q,r.changeWidth=ne("resizing",ee(se)),r.skewHandlerX=j,r.skewHandlerY=J,r.dragHandler=P,r.scaleOrSkewActionName=R,r.rotationStyleHandler=G,r.fireEvent=C,r.wrapWithFixedAnchor=ee,r.wrapWithFireEvent=ne,r.getLocalPoint=re,i.controlsUtils=r}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.util.degreesToRadians,c=i.controlsUtils;function r(s,o,d,l,v){l=l||{};var p=this.sizeX||l.cornerSize||v.cornerSize,b=this.sizeY||l.cornerSize||v.cornerSize,_=typeof l.transparentCorners<"u"?l.transparentCorners:v.transparentCorners,C=_?"stroke":"fill",S=!_&&(l.cornerStrokeColor||v.cornerStrokeColor),w=o,x=d,A;s.save(),s.fillStyle=l.cornerColor||v.cornerColor,s.strokeStyle=l.cornerStrokeColor||v.cornerStrokeColor,p>b?(A=p,s.scale(1,b/p),x=d*p/b):b>p?(A=b,s.scale(p/b,1),w=o*b/p):A=p,s.lineWidth=1,s.beginPath(),s.arc(w,x,A/2,0,2*Math.PI,!1),s[C](),S&&s.stroke(),s.restore()}function a(s,o,d,l,v){l=l||{};var p=this.sizeX||l.cornerSize||v.cornerSize,b=this.sizeY||l.cornerSize||v.cornerSize,_=typeof l.transparentCorners<"u"?l.transparentCorners:v.transparentCorners,C=_?"stroke":"fill",S=!_&&(l.cornerStrokeColor||v.cornerStrokeColor),w=p/2,x=b/2;s.save(),s.fillStyle=l.cornerColor||v.cornerColor,s.strokeStyle=l.cornerStrokeColor||v.cornerStrokeColor,s.lineWidth=1,s.translate(o,d),s.rotate(h(v.angle)),s[C+"Rect"](-w,-x,p,b),S&&s.strokeRect(-w,-x,p,b),s.restore()}c.renderCircleControl=r,c.renderSquareControl=a}(e),function(u){var i=u.fabric||(u.fabric={});function h(c){for(var r in c)this[r]=c[r]}i.Control=h,i.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(c,r){return r.cursorStyle},getActionName:function(c,r){return r.actionName},getVisibility:function(c,r){var a=c._controlsVisibility;return a&&typeof a[r]<"u"?a[r]:this.visible},setVisibility:function(c){this.visible=c},positionHandler:function(c,r){var a=i.util.transformPoint({x:this.x*c.x+this.offsetX,y:this.y*c.y+this.offsetY},r);return a},calcCornerCoords:function(c,r,a,s,o){var d,l,v,p,b=o?this.touchSizeX:this.sizeX,_=o?this.touchSizeY:this.sizeY;if(b&&_&&b!==_){var C=Math.atan2(_,b),S=Math.sqrt(b*b+_*_)/2,w=C-i.util.degreesToRadians(c),x=Math.PI/2-C-i.util.degreesToRadians(c);d=S*i.util.cos(w),l=S*i.util.sin(w),v=S*i.util.cos(x),p=S*i.util.sin(x)}else{var A=b&&_?b:r;S=A*.7071067812;var w=i.util.degreesToRadians(45-c);d=v=S*i.util.cos(w),l=p=S*i.util.sin(w)}return{tl:{x:a-p,y:s-v},tr:{x:a+d,y:s-l},bl:{x:a-d,y:s+l},br:{x:a+p,y:s+v}}},render:function(c,r,a,s,o){switch(s=s||{},s.cornerStyle||o.cornerStyle){case"circle":i.controlsUtils.renderCircleControl.call(this,c,r,a,s,o);break;default:i.controlsUtils.renderSquareControl.call(this,c,r,a,s,o)}}}}(e),function(){function u(a,s){var o=a.getAttribute("style"),d=a.getAttribute("offset")||0,l,v,p,b;if(d=parseFloat(d)/(/%$/.test(d)?100:1),d=d<0?0:d>1?1:d,o){var _=o.split(/\s*;\s*/);for(_[_.length-1]===""&&_.pop(),b=_.length;b--;){var C=_[b].split(/\s*:\s*/),S=C[0].trim(),w=C[1].trim();S==="stop-color"?l=w:S==="stop-opacity"&&(p=w)}}return l||(l=a.getAttribute("stop-color")||"rgb(0,0,0)"),p||(p=a.getAttribute("stop-opacity")),l=new t.Color(l),v=l.getAlpha(),p=isNaN(parseFloat(p))?1:parseFloat(p),p*=v*s,{offset:d,color:l.toRgb(),opacity:p}}function i(a){return{x1:a.getAttribute("x1")||0,y1:a.getAttribute("y1")||0,x2:a.getAttribute("x2")||"100%",y2:a.getAttribute("y2")||0}}function h(a){return{x1:a.getAttribute("fx")||a.getAttribute("cx")||"50%",y1:a.getAttribute("fy")||a.getAttribute("cy")||"50%",r1:0,x2:a.getAttribute("cx")||"50%",y2:a.getAttribute("cy")||"50%",r2:a.getAttribute("r")||"50%"}}var c=t.util.object.clone;t.Gradient=t.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(a){a||(a={}),a.coords||(a.coords={});var s,o=this;Object.keys(a).forEach(function(d){o[d]=a[d]}),this.id?this.id+="_"+t.Object.__uid++:this.id=t.Object.__uid++,s={x1:a.coords.x1||0,y1:a.coords.y1||0,x2:a.coords.x2||0,y2:a.coords.y2||0},this.type==="radial"&&(s.r1=a.coords.r1||0,s.r2=a.coords.r2||0),this.coords=s,this.colorStops=a.colorStops.slice()},addColorStop:function(a){for(var s in a){var o=new t.Color(a[s]);this.colorStops.push({offset:parseFloat(s),color:o.toRgb(),opacity:o.getAlpha()})}return this},toObject:function(a){var s={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return t.util.populateWithProperties(this,s,a),s},toSVG:function(a,v){var o=c(this.coords,!0),d,l,v=v||{},p,b,_=c(this.colorStops,!0),C=o.r1>o.r2,S=this.gradientTransform?this.gradientTransform.concat():t.iMatrix.concat(),w=-this.offsetX,x=-this.offsetY,A=!!v.additionalTransform,V=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(_.sort(function(ee,ne){return ee.offset-ne.offset}),V==="objectBoundingBox"?(w/=a.width,x/=a.height):(w+=a.width/2,x+=a.height/2),a.type==="path"&&this.gradientUnits!=="percentage"&&(w-=a.pathOffset.x,x-=a.pathOffset.y),S[4]-=w,S[5]-=x,b='id="SVGID_'+this.id+'" gradientUnits="'+V+'"',b+=' gradientTransform="'+(A?v.additionalTransform+" ":"")+t.util.matrixToSVG(S)+'" ',this.type==="linear"?p=["<linearGradient ",b,' x1="',o.x1,'" y1="',o.y1,'" x2="',o.x2,'" y2="',o.y2,`">
`]:this.type==="radial"&&(p=["<radialGradient ",b,' cx="',C?o.x1:o.x2,'" cy="',C?o.y1:o.y2,'" r="',C?o.r1:o.r2,'" fx="',C?o.x2:o.x1,'" fy="',C?o.y2:o.y1,`">
`]),this.type==="radial"){if(C)for(_=_.concat(),_.reverse(),d=0,l=_.length;d<l;d++)_[d].offset=1-_[d].offset;var z=Math.min(o.r1,o.r2);if(z>0){var R=Math.max(o.r1,o.r2),G=z/R;for(d=0,l=_.length;d<l;d++)_[d].offset+=G*(1-_[d].offset)}}for(d=0,l=_.length;d<l;d++){var $=_[d];p.push("<stop ",'offset="',$.offset*100+"%",'" style="stop-color:',$.color,typeof $.opacity<"u"?";stop-opacity: "+$.opacity:";",`"/>
`)}return p.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),p.join("")},toLive:function(a){var s,o=t.util.object.clone(this.coords),d,l;if(this.type){for(this.type==="linear"?s=a.createLinearGradient(o.x1,o.y1,o.x2,o.y2):this.type==="radial"&&(s=a.createRadialGradient(o.x1,o.y1,o.r1,o.x2,o.y2,o.r2)),d=0,l=this.colorStops.length;d<l;d++){var v=this.colorStops[d].color,p=this.colorStops[d].opacity,b=this.colorStops[d].offset;typeof p<"u"&&(v=new t.Color(v).setAlpha(p).toRgba()),s.addColorStop(b,v)}return s}}}),t.util.object.extend(t.Gradient,{fromElement:function(a,s,o,d){var l=parseFloat(o)/(/%$/.test(o)?100:1);l=l<0?0:l>1?1:l,isNaN(l)&&(l=1);var v=a.getElementsByTagName("stop"),p,b=a.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",_=a.getAttribute("gradientTransform")||"",C=[],S,w,x=0,A=0,V;for(a.nodeName==="linearGradient"||a.nodeName==="LINEARGRADIENT"?(p="linear",S=i(a)):(p="radial",S=h(a)),w=v.length;w--;)C.push(u(v[w],l));V=t.parseTransformAttribute(_),r(s,S,d,b),b==="pixels"&&(x=-s.left,A=-s.top);var z=new t.Gradient({id:a.getAttribute("id"),type:p,coords:S,colorStops:C,gradientUnits:b,gradientTransform:V,offsetX:x,offsetY:A});return z}});function r(a,s,o,d){var l,v;Object.keys(s).forEach(function(p){l=s[p],l==="Infinity"?v=1:l==="-Infinity"?v=0:(v=parseFloat(s[p],10),typeof l=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(l)&&(v*=.01,d==="pixels"&&((p==="x1"||p==="x2"||p==="r2")&&(v*=o.viewBoxWidth||o.width),(p==="y1"||p==="y2")&&(v*=o.viewBoxHeight||o.height)))),s[p]=v})}}(),function(){var u=t.util.toFixed;t.Pattern=t.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(i,h){if(i||(i={}),this.id=t.Object.__uid++,this.setOptions(i),!i.source||i.source&&typeof i.source!="string"){h&&h(this);return}else{var c=this;this.source=t.util.createImage(),t.util.loadImage(i.source,function(r,a){c.source=r,h&&h(c,a)},null,this.crossOrigin)}},toObject:function(i){var h=t.Object.NUM_FRACTION_DIGITS,c,r;return typeof this.source.src=="string"?c=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(c=this.source.toDataURL()),r={type:"pattern",source:c,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:u(this.offsetX,h),offsetY:u(this.offsetY,h),patternTransform:this.patternTransform?this.patternTransform.concat():null},t.util.populateWithProperties(this,r,i),r},toSVG:function(i){var h=typeof this.source=="function"?this.source():this.source,c=h.width/i.width,r=h.height/i.height,a=this.offsetX/i.width,s=this.offsetY/i.height,o="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(r=1,s&&(r+=Math.abs(s))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(c=1,a&&(c+=Math.abs(a))),h.src?o=h.src:h.toDataURL&&(o=h.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+a+'" y="'+s+'" width="'+c+'" height="'+r+`">
<image x="0" y="0" width="`+h.width+'" height="'+h.height+'" xlink:href="'+o+`"></image>
</pattern>
`},setOptions:function(i){for(var h in i)this[h]=i[h]},toLive:function(i){var h=this.source;return!h||typeof h.src<"u"&&(!h.complete||h.naturalWidth===0||h.naturalHeight===0)?"":i.createPattern(h,this.repeat)}})}(),function(u){var i=u.fabric||(u.fabric={}),h=i.util.toFixed;if(i.Shadow){i.warn("fabric.Shadow is already defined.");return}i.Shadow=i.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(c){typeof c=="string"&&(c=this._parseShadow(c));for(var r in c)this[r]=c[r];this.id=i.Object.__uid++},_parseShadow:function(c){var r=c.trim(),a=i.Shadow.reOffsetsAndBlur.exec(r)||[],s=r.replace(i.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:s.trim(),offsetX:parseFloat(a[1],10)||0,offsetY:parseFloat(a[2],10)||0,blur:parseFloat(a[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(c){var r=40,a=40,s=i.Object.NUM_FRACTION_DIGITS,o=i.util.rotateVector({x:this.offsetX,y:this.offsetY},i.util.degreesToRadians(-c.angle)),d=20,l=new i.Color(this.color);return c.width&&c.height&&(r=h((Math.abs(o.x)+this.blur)/c.width,s)*100+d,a=h((Math.abs(o.y)+this.blur)/c.height,s)*100+d),c.flipX&&(o.x*=-1),c.flipY&&(o.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+a+'%" height="'+(100+2*a)+'%" x="-'+r+'%" width="'+(100+2*r)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+h(this.blur?this.blur/2:0,s)+`"></feGaussianBlur>
	<feOffset dx="`+h(o.x,s)+'" dy="'+h(o.y,s)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+l.toRgb()+'" flood-opacity="'+l.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var c={},r=i.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(a){this[a]!==r[a]&&(c[a]=this[a])},this),c}}),i.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(e),function(){if(t.StaticCanvas){t.warn("fabric.StaticCanvas is already defined.");return}var u=t.util.object.extend,i=t.util.getElementOffset,h=t.util.removeFromArray,c=t.util.toFixed,r=t.util.transformPoint,a=t.util.invertTransform,s=t.util.getNodeCanvas,o=t.util.createCanvasElement,d=new Error("Could not initialize `canvas` element");t.StaticCanvas=t.util.createClass(t.CommonMethods,{initialize:function(l,v){v||(v={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(l,v)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:t.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(l,v){var p=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(l),this._initOptions(v),this.interactive||this._initRetinaScaling(),v.overlayImage&&this.setOverlayImage(v.overlayImage,p),v.backgroundImage&&this.setBackgroundImage(v.backgroundImage,p),v.backgroundColor&&this.setBackgroundColor(v.backgroundColor,p),v.overlayColor&&this.setOverlayColor(v.overlayColor,p),this.calcOffset()},_isRetinaScaling:function(){return t.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,t.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var l=t.devicePixelRatio;this.__initRetinaScaling(l,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(l,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(l,v,p){v.setAttribute("width",this.width*l),v.setAttribute("height",this.height*l),p.scale(l,l)},calcOffset:function(){return this._offset=i(this.lowerCanvasEl),this},setOverlayImage:function(l,v,p){return this.__setBgOverlayImage("overlayImage",l,v,p)},setBackgroundImage:function(l,v,p){return this.__setBgOverlayImage("backgroundImage",l,v,p)},setOverlayColor:function(l,v){return this.__setBgOverlayColor("overlayColor",l,v)},setBackgroundColor:function(l,v){return this.__setBgOverlayColor("backgroundColor",l,v)},__setBgOverlayImage:function(l,v,p,b){return typeof v=="string"?t.util.loadImage(v,function(_,C){if(_){var S=new t.Image(_,b);this[l]=S,S.canvas=this}p&&p(_,C)},this,b&&b.crossOrigin):(b&&v.setOptions(b),this[l]=v,v&&(v.canvas=this),p&&p(v,!1)),this},__setBgOverlayColor:function(l,v,p){return this[l]=v,this._initGradient(v,l),this._initPattern(v,l,p),this},_createCanvasElement:function(){var l=o();if(!l||(l.style||(l.style={}),typeof l.getContext>"u"))throw d;return l},_initOptions:function(l){var v=this.lowerCanvasEl;this._setOptions(l),this.width=this.width||parseInt(v.width,10)||0,this.height=this.height||parseInt(v.height,10)||0,this.lowerCanvasEl.style&&(v.width=this.width,v.height=this.height,v.style.width=this.width+"px",v.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(l){l&&l.getContext?this.lowerCanvasEl=l:this.lowerCanvasEl=t.util.getById(l)||this._createCanvasElement(),t.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(l,v){return this.setDimensions({width:l},v)},setHeight:function(l,v){return this.setDimensions({height:l},v)},setDimensions:function(l,v){var p;v=v||{};for(var b in l)p=l[b],v.cssOnly||(this._setBackstoreDimension(b,l[b]),p+="px",this.hasLostContext=!0),v.backstoreOnly||this._setCssDimension(b,p);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),v.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(l,v){return this.lowerCanvasEl[l]=v,this.upperCanvasEl&&(this.upperCanvasEl[l]=v),this.cacheCanvasEl&&(this.cacheCanvasEl[l]=v),this[l]=v,this},_setCssDimension:function(l,v){return this.lowerCanvasEl.style[l]=v,this.upperCanvasEl&&(this.upperCanvasEl.style[l]=v),this.wrapperEl&&(this.wrapperEl.style[l]=v),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(l){var v=this._activeObject,p=this.backgroundImage,b=this.overlayImage,_,C,S;for(this.viewportTransform=l,C=0,S=this._objects.length;C<S;C++)_=this._objects[C],_.group||_.setCoords(!0);return v&&v.setCoords(),p&&p.setCoords(!0),b&&b.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(l,v){var p=l,b=this.viewportTransform.slice(0);l=r(l,a(this.viewportTransform)),b[0]=v,b[3]=v;var _=r(l,b);return b[4]+=p.x-_.x,b[5]+=p.y-_.y,this.setViewportTransform(b)},setZoom:function(l){return this.zoomToPoint(new t.Point(0,0),l),this},absolutePan:function(l){var v=this.viewportTransform.slice(0);return v[4]=-l.x,v[5]=-l.y,this.setViewportTransform(v)},relativePan:function(l){return this.absolutePan(new t.Point(-l.x-this.viewportTransform[4],-l.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(l){this.stateful&&l.setupState(),l._set("canvas",this),l.setCoords(),this.fire("object:added",{target:l}),l.fire("added")},_onObjectRemoved:function(l){this.fire("object:removed",{target:l}),l.fire("removed"),delete l.canvas},clearContext:function(l){return l.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var l=this.contextContainer;return this.renderCanvas(l,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=t.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var l={},v=this.width,p=this.height,b=a(this.viewportTransform);return l.tl=r({x:0,y:0},b),l.br=r({x:v,y:p},b),l.tr=new t.Point(l.br.x,l.tl.y),l.bl=new t.Point(l.tl.x,l.br.y),this.vptCoords=l,l},cancelRequestedRender:function(){this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(l,v){var p=this.viewportTransform,b=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(l),t.util.setImageSmoothing(l,this.imageSmoothingEnabled),this.fire("before:render",{ctx:l}),this._renderBackground(l),l.save(),l.transform(p[0],p[1],p[2],p[3],p[4],p[5]),this._renderObjects(l,v),l.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(l),b&&(b.canvas=this,b.shouldCache(),b._transformDone=!0,b.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(l)),this._renderOverlay(l),this.controlsAboveOverlay&&this.interactive&&this.drawControls(l),this.fire("after:render",{ctx:l})},drawClipPathOnCanvas:function(l){var v=this.viewportTransform,p=this.clipPath;l.save(),l.transform(v[0],v[1],v[2],v[3],v[4],v[5]),l.globalCompositeOperation="destination-in",p.transform(l),l.scale(1/p.zoomX,1/p.zoomY),l.drawImage(p._cacheCanvas,-p.cacheTranslationX,-p.cacheTranslationY),l.restore()},_renderObjects:function(l,v){var p,b;for(p=0,b=v.length;p<b;++p)v[p]&&v[p].render(l)},_renderBackgroundOrOverlay:function(l,v){var p=this[v+"Color"],b=this[v+"Image"],_=this.viewportTransform,C=this[v+"Vpt"];if(!(!p&&!b)){if(p){l.save(),l.beginPath(),l.moveTo(0,0),l.lineTo(this.width,0),l.lineTo(this.width,this.height),l.lineTo(0,this.height),l.closePath(),l.fillStyle=p.toLive?p.toLive(l,this):p,C&&l.transform(_[0],_[1],_[2],_[3],_[4],_[5]),l.transform(1,0,0,1,p.offsetX||0,p.offsetY||0);var S=p.gradientTransform||p.patternTransform;S&&l.transform(S[0],S[1],S[2],S[3],S[4],S[5]),l.fill(),l.restore()}if(b){l.save();var w=this.skipOffscreen;this.skipOffscreen=C,C&&l.transform(_[0],_[1],_[2],_[3],_[4],_[5]),b.render(l),this.skipOffscreen=w,l.restore()}}},_renderBackground:function(l){this._renderBackgroundOrOverlay(l,"background")},_renderOverlay:function(l){this._renderBackgroundOrOverlay(l,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new t.Point(this.width/2,this.height/2)},centerObjectH:function(l){return this._centerObject(l,new t.Point(this.getCenterPoint().x,l.getCenterPoint().y))},centerObjectV:function(l){return this._centerObject(l,new t.Point(l.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(l){var v=this.getCenterPoint();return this._centerObject(l,v)},viewportCenterObject:function(l){var v=this.getVpCenter();return this._centerObject(l,v)},viewportCenterObjectH:function(l){var v=this.getVpCenter();return this._centerObject(l,new t.Point(v.x,l.getCenterPoint().y)),this},viewportCenterObjectV:function(l){var v=this.getVpCenter();return this._centerObject(l,new t.Point(l.getCenterPoint().x,v.y))},getVpCenter:function(){var l=this.getCenterPoint(),v=a(this.viewportTransform);return r(l,v)},_centerObject:function(l,v){return l.setPositionByOrigin(v,"center","center"),l.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(l){return this.toDatalessObject(l)},toObject:function(l){return this._toObjectMethod("toObject",l)},toDatalessObject:function(l){return this._toObjectMethod("toDatalessObject",l)},_toObjectMethod:function(l,v){var p=this.clipPath,b={version:t.version,objects:this._toObjects(l,v)};return p&&!p.excludeFromExport&&(b.clipPath=this._toObject(this.clipPath,l,v)),u(b,this.__serializeBgOverlay(l,v)),t.util.populateWithProperties(this,b,v),b},_toObjects:function(l,v){return this._objects.filter(function(p){return!p.excludeFromExport}).map(function(p){return this._toObject(p,l,v)},this)},_toObject:function(l,v,p){var b;this.includeDefaultValues||(b=l.includeDefaultValues,l.includeDefaultValues=!1);var _=l[v](p);return this.includeDefaultValues||(l.includeDefaultValues=b),_},__serializeBgOverlay:function(l,v){var p={},b=this.backgroundImage,_=this.overlayImage,C=this.backgroundColor,S=this.overlayColor;return C&&C.toObject?C.excludeFromExport||(p.background=C.toObject(v)):C&&(p.background=C),S&&S.toObject?S.excludeFromExport||(p.overlay=S.toObject(v)):S&&(p.overlay=S),b&&!b.excludeFromExport&&(p.backgroundImage=this._toObject(b,l,v)),_&&!_.excludeFromExport&&(p.overlayImage=this._toObject(_,l,v)),p},svgViewportTransformation:!0,toSVG:function(l,v){l||(l={}),l.reviver=v;var p=[];return this._setSVGPreamble(p,l),this._setSVGHeader(p,l),this.clipPath&&p.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(p,"background"),this._setSVGBgOverlayImage(p,"backgroundImage",v),this._setSVGObjects(p,v),this.clipPath&&p.push(`</g>
`),this._setSVGBgOverlayColor(p,"overlay"),this._setSVGBgOverlayImage(p,"overlayImage",v),p.push("</svg>"),p.join("")},_setSVGPreamble:function(l,v){v.suppressPreamble||l.push('<?xml version="1.0" encoding="',v.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(l,v){var p=v.width||this.width,b=v.height||this.height,_,C='viewBox="0 0 '+this.width+" "+this.height+'" ',S=t.Object.NUM_FRACTION_DIGITS;v.viewBox?C='viewBox="'+v.viewBox.x+" "+v.viewBox.y+" "+v.viewBox.width+" "+v.viewBox.height+'" ':this.svgViewportTransformation&&(_=this.viewportTransform,C='viewBox="'+c(-_[4]/_[0],S)+" "+c(-_[5]/_[3],S)+" "+c(this.width/_[0],S)+" "+c(this.height/_[3],S)+'" '),l.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',p,'" ','height="',b,'" ',C,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",t.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(v),`</defs>
`)},createSVGClipPathMarkup:function(l){var v=this.clipPath;return v?(v.clipPathId="CLIPPATH_"+t.Object.__uid++,'<clipPath id="'+v.clipPathId+`" >
`+this.clipPath.toClipPathSVG(l.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var l=this,v=["background","overlay"].map(function(p){var b=l[p+"Color"];if(b&&b.toLive){var _=l[p+"Vpt"],C=l.viewportTransform,S={width:l.width/(_?C[0]:1),height:l.height/(_?C[3]:1)};return b.toSVG(S,{additionalTransform:_?t.util.matrixToSVG(C):""})}});return v.join("")},createSVGFontFacesMarkup:function(){var l="",v={},p,b,_,C,S,w,x,A,V,z=t.fontPaths,R=[];for(this._objects.forEach(function $(ee){R.push(ee),ee._objects&&ee._objects.forEach($)}),A=0,V=R.length;A<V;A++)if(p=R[A],b=p.fontFamily,!(p.type.indexOf("text")===-1||v[b]||!z[b])&&(v[b]=!0,!!p.styles)){_=p.styles;for(S in _){C=_[S];for(x in C)w=C[x],b=w.fontFamily,!v[b]&&z[b]&&(v[b]=!0)}}for(var G in v)l+=[`		@font-face {
`,"			font-family: '",G,`';
`,"			src: url('",z[G],`');
`,`		}
`].join("");return l&&(l=['	<style type="text/css">',`<![CDATA[
`,l,"]]>",`</style>
`].join("")),l},_setSVGObjects:function(l,v){var p,b,_,C=this._objects;for(b=0,_=C.length;b<_;b++)p=C[b],!p.excludeFromExport&&this._setSVGObject(l,p,v)},_setSVGObject:function(l,v,p){l.push(v.toSVG(p))},_setSVGBgOverlayImage:function(l,v,p){this[v]&&!this[v].excludeFromExport&&this[v].toSVG&&l.push(this[v].toSVG(p))},_setSVGBgOverlayColor:function(l,v){var p=this[v+"Color"],b=this.viewportTransform,_=this.width,C=this.height;if(p)if(p.toLive){var S=p.repeat,w=t.util.invertTransform(b),x=this[v+"Vpt"],A=x?t.util.matrixToSVG(w):"";l.push('<rect transform="'+A+" translate(",_/2,",",C/2,')"',' x="',p.offsetX-_/2,'" y="',p.offsetY-C/2,'" ','width="',S==="repeat-y"||S==="no-repeat"?p.source.width:_,'" height="',S==="repeat-x"||S==="no-repeat"?p.source.height:C,'" fill="url(#SVGID_'+p.id+')"',`></rect>
`)}else l.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',p,'"',`></rect>
`)},sendToBack:function(l){if(!l)return this;var v=this._activeObject,p,b,_;if(l===v&&l.type==="activeSelection")for(_=v._objects,p=_.length;p--;)b=_[p],h(this._objects,b),this._objects.unshift(b);else h(this._objects,l),this._objects.unshift(l);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(l){if(!l)return this;var v=this._activeObject,p,b,_;if(l===v&&l.type==="activeSelection")for(_=v._objects,p=0;p<_.length;p++)b=_[p],h(this._objects,b),this._objects.push(b);else h(this._objects,l),this._objects.push(l);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(l,v){if(!l)return this;var p=this._activeObject,b,_,C,S,w,x=0;if(l===p&&l.type==="activeSelection")for(w=p._objects,b=0;b<w.length;b++)_=w[b],C=this._objects.indexOf(_),C>0+x&&(S=C-1,h(this._objects,_),this._objects.splice(S,0,_)),x++;else C=this._objects.indexOf(l),C!==0&&(S=this._findNewLowerIndex(l,C,v),h(this._objects,l),this._objects.splice(S,0,l));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(l,v,p){var b,_;if(p)for(b=v,_=v-1;_>=0;--_){var C=l.intersectsWithObject(this._objects[_])||l.isContainedWithinObject(this._objects[_])||this._objects[_].isContainedWithinObject(l);if(C){b=_;break}}else b=v-1;return b},bringForward:function(l,v){if(!l)return this;var p=this._activeObject,b,_,C,S,w,x=0;if(l===p&&l.type==="activeSelection")for(w=p._objects,b=w.length;b--;)_=w[b],C=this._objects.indexOf(_),C<this._objects.length-1-x&&(S=C+1,h(this._objects,_),this._objects.splice(S,0,_)),x++;else C=this._objects.indexOf(l),C!==this._objects.length-1&&(S=this._findNewUpperIndex(l,C,v),h(this._objects,l),this._objects.splice(S,0,l));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(l,v,p){var b,_,C;if(p)for(b=v,_=v+1,C=this._objects.length;_<C;++_){var S=l.intersectsWithObject(this._objects[_])||l.isContainedWithinObject(this._objects[_])||this._objects[_].isContainedWithinObject(l);if(S){b=_;break}}else b=v+1;return b},moveTo:function(l,v){return h(this._objects,l),this._objects.splice(v,0,l),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(l){l.dispose&&l.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),t.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),t.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),u(t.StaticCanvas.prototype,t.Observable),u(t.StaticCanvas.prototype,t.Collection),u(t.StaticCanvas.prototype,t.DataURLExporter),u(t.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(l){var v=o();if(!v||!v.getContext)return null;var p=v.getContext("2d");if(!p)return null;switch(l){case"setLineDash":return typeof p.setLineDash<"u";default:return null}}}),t.StaticCanvas.prototype.toJSON=t.StaticCanvas.prototype.toObject,t.isLikelyNode&&(t.StaticCanvas.prototype.createPNGStream=function(){var l=s(this.lowerCanvasEl);return l&&l.createPNGStream()},t.StaticCanvas.prototype.createJPEGStream=function(l){var v=s(this.lowerCanvasEl);return v&&v.createJPEGStream(l)})}(),t.BaseBrush=t.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(u){u.strokeStyle=this.color,u.lineWidth=this.width,u.lineCap=this.strokeLineCap,u.miterLimit=this.strokeMiterLimit,u.lineJoin=this.strokeLineJoin,u.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(u){var i=this.canvas.viewportTransform;u.save(),u.transform(i[0],i[1],i[2],i[3],i[4],i[5])},_setShadow:function(){if(this.shadow){var u=this.canvas,i=this.shadow,h=u.contextTop,c=u.getZoom();u&&u._isRetinaScaling()&&(c*=t.devicePixelRatio),h.shadowColor=i.color,h.shadowBlur=i.blur*c,h.shadowOffsetX=i.offsetX*c,h.shadowOffsetY=i.offsetY*c}},needsFullRender:function(){var u=new t.Color(this.color);return u.getAlpha()<1||!!this.shadow},_resetShadow:function(){var u=this.canvas.contextTop;u.shadowColor="",u.shadowBlur=u.shadowOffsetX=u.shadowOffsetY=0},_isOutSideCanvas:function(u){return u.x<0||u.x>this.canvas.getWidth()||u.y<0||u.y>this.canvas.getHeight()}}),function(){t.PencilBrush=t.util.createClass(t.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(u){this.canvas=u,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(u,i,h){var c=i.midPointFrom(h);return u.quadraticCurveTo(i.x,i.y,c.x,c.y),c},onMouseDown:function(u,i){this.canvas._isMainEvent(i.e)&&(this.drawStraightLine=i.e[this.straightLineKey],this._prepareForDrawing(u),this._captureDrawingPath(u),this._render())},onMouseMove:function(u,i){if(this.canvas._isMainEvent(i.e)&&(this.drawStraightLine=i.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(u))&&this._captureDrawingPath(u)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var h=this._points,c=h.length,r=this.canvas.contextTop;this._saveAndTransform(r),this.oldEnd&&(r.beginPath(),r.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(r,h[c-2],h[c-1],!0),r.stroke(),r.restore()}},onMouseUp:function(u){return this.canvas._isMainEvent(u.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(u){var i=new t.Point(u.x,u.y);this._reset(),this._addPoint(i),this.canvas.contextTop.moveTo(i.x,i.y)},_addPoint:function(u){return this._points.length>1&&u.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(u),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(u){var i=new t.Point(u.x,u.y);return this._addPoint(i)},_render:function(u){var i,h,c=this._points[0],r=this._points[1];if(u=u||this.canvas.contextTop,this._saveAndTransform(u),u.beginPath(),this._points.length===2&&c.x===r.x&&c.y===r.y){var a=this.width/1e3;c=new t.Point(c.x,c.y),r=new t.Point(r.x,r.y),c.x-=a,r.x+=a}for(u.moveTo(c.x,c.y),i=1,h=this._points.length;i<h;i++)this._drawSegment(u,c,r),c=this._points[i],r=this._points[i+1];u.lineTo(c.x,c.y),u.stroke(),u.restore()},convertPointsToSVGPath:function(u){var i=this.width/1e3;return t.util.getSmoothPathFromPoints(u,i)},_isEmptySVGPath:function(u){var i=t.util.joinPath(u);return i==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(u){var i=new t.Path(u,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,i.shadow=new t.Shadow(this.shadow)),i},decimatePoints:function(u,i){if(u.length<=2)return u;var h=this.canvas.getZoom(),c=Math.pow(i/h,2),r,a=u.length-1,s=u[0],o=[s],d;for(r=1;r<a-1;r++)d=Math.pow(s.x-u[r].x,2)+Math.pow(s.y-u[r].y,2),d>=c&&(s=u[r],o.push(s));return o.push(u[a]),o},_finalizeAndAddPath:function(){var u=this.canvas.contextTop;u.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var i=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(i)){this.canvas.requestRenderAll();return}var h=this.createPath(i);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:h}),this.canvas.add(h),this.canvas.requestRenderAll(),h.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:h})}})}(),t.CircleBrush=t.util.createClass(t.BaseBrush,{width:10,initialize:function(u){this.canvas=u,this.points=[]},drawDot:function(u){var i=this.addPoint(u),h=this.canvas.contextTop;this._saveAndTransform(h),this.dot(h,i),h.restore()},dot:function(u,i){u.fillStyle=i.fill,u.beginPath(),u.arc(i.x,i.y,i.radius,0,Math.PI*2,!1),u.closePath(),u.fill()},onMouseDown:function(u){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(u)},_render:function(){var u=this.canvas.contextTop,i,h,c=this.points;for(this._saveAndTransform(u),i=0,h=c.length;i<h;i++)this.dot(u,c[i]);u.restore()},onMouseMove:function(u){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(u)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(u),this._render()):this.drawDot(u))},onMouseUp:function(){var u=this.canvas.renderOnAddRemove,i,h;this.canvas.renderOnAddRemove=!1;var c=[];for(i=0,h=this.points.length;i<h;i++){var r=this.points[i],a=new t.Circle({radius:r.radius,left:r.x,top:r.y,originX:"center",originY:"center",fill:r.fill});this.shadow&&(a.shadow=new t.Shadow(this.shadow)),c.push(a)}var s=new t.Group(c);s.canvas=this.canvas,this.canvas.fire("before:path:created",{path:s}),this.canvas.add(s),this.canvas.fire("path:created",{path:s}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=u,this.canvas.requestRenderAll()},addPoint:function(u){var i=new t.Point(u.x,u.y),h=t.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,c=new t.Color(this.color).setAlpha(t.util.getRandomInt(0,100)/100).toRgba();return i.radius=h,i.fill=c,this.points.push(i),i}}),t.SprayBrush=t.util.createClass(t.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(u){this.canvas=u,this.sprayChunks=[]},onMouseDown:function(u){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(u),this.render(this.sprayChunkPoints)},onMouseMove:function(u){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(u)||(this.addSprayChunk(u),this.render(this.sprayChunkPoints))},onMouseUp:function(){var u=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var i=[],h=0,c=this.sprayChunks.length;h<c;h++)for(var r=this.sprayChunks[h],a=0,s=r.length;a<s;a++){var o=new t.Rect({width:r[a].width,height:r[a].width,left:r[a].x+1,top:r[a].y+1,originX:"center",originY:"center",fill:this.color});i.push(o)}this.optimizeOverlapping&&(i=this._getOptimizedRects(i));var d=new t.Group(i);this.shadow&&d.set("shadow",new t.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:d}),this.canvas.add(d),this.canvas.fire("path:created",{path:d}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=u,this.canvas.requestRenderAll()},_getOptimizedRects:function(u){var i={},h,c,r;for(c=0,r=u.length;c<r;c++)h=u[c].left+""+u[c].top,i[h]||(i[h]=u[c]);var a=[];for(h in i)a.push(i[h]);return a},render:function(u){var i=this.canvas.contextTop,h,c;for(i.fillStyle=this.color,this._saveAndTransform(i),h=0,c=u.length;h<c;h++){var r=u[h];typeof r.opacity<"u"&&(i.globalAlpha=r.opacity),i.fillRect(r.x,r.y,r.width,r.width)}i.restore()},_render:function(){var u=this.canvas.contextTop,i,h;for(u.fillStyle=this.color,this._saveAndTransform(u),i=0,h=this.sprayChunks.length;i<h;i++)this.render(this.sprayChunks[i]);u.restore()},addSprayChunk:function(u){this.sprayChunkPoints=[];var i,h,c,r=this.width/2,a;for(a=0;a<this.density;a++){i=t.util.getRandomInt(u.x-r,u.x+r),h=t.util.getRandomInt(u.y-r,u.y+r),this.dotWidthVariance?c=t.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):c=this.dotWidth;var s=new t.Point(i,h);s.width=c,this.randomOpacity&&(s.opacity=t.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(s)}this.sprayChunks.push(this.sprayChunkPoints)}}),t.PatternBrush=t.util.createClass(t.PencilBrush,{getPatternSrc:function(){var u=20,i=5,h=t.util.createCanvasElement(),c=h.getContext("2d");return h.width=h.height=u+i,c.fillStyle=this.color,c.beginPath(),c.arc(u/2,u/2,u/2,0,Math.PI*2,!1),c.closePath(),c.fill(),h},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(u){return u.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(u){this.callSuper("_setBrushStyles",u),u.strokeStyle=this.getPattern(u)},createPath:function(u){var i=this.callSuper("createPath",u),h=i._getLeftTopCoords().scalarAdd(i.strokeWidth/2);return i.stroke=new t.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-h.x,offsetY:-h.y}),i}}),function(){var u=t.util.getPointer,i=t.util.degreesToRadians,h=t.util.isTouchEvent;t.Canvas=t.util.createClass(t.StaticCanvas,{initialize:function(r,a){a||(a={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(r,a),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=t.PencilBrush&&new t.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var r=this.getActiveObjects(),a,s,o;if(r.length>0&&!this.preserveObjectStacking){s=[],o=[];for(var d=0,l=this._objects.length;d<l;d++)a=this._objects[d],r.indexOf(a)===-1?s.push(a):o.push(a);r.length>1&&(this._activeObject._objects=o),s.push.apply(s,o)}else s=this._objects;return s},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var r=this.contextContainer;return this.renderCanvas(r,this._chooseObjectsToRender()),this},renderTopLayer:function(r){r.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(r),this.contextTopDirty=!0),r.restore()},renderTop:function(){var r=this.contextTop;return this.clearContext(r),this.renderTopLayer(r),this.fire("after:render"),this},_normalizePointer:function(r,a){var s=r.calcTransformMatrix(),o=t.util.invertTransform(s),d=this.restorePointerVpt(a);return t.util.transformPoint(d,o)},isTargetTransparent:function(r,a,s){if(r.shouldCache()&&r._cacheCanvas&&r!==this._activeObject){var o=this._normalizePointer(r,{x:a,y:s}),d=Math.max(r.cacheTranslationX+o.x*r.zoomX,0),l=Math.max(r.cacheTranslationY+o.y*r.zoomY,0),_=t.util.isTransparent(r._cacheContext,Math.round(d),Math.round(l),this.targetFindTolerance);return _}var v=this.contextCache,p=r.selectionBackgroundColor,b=this.viewportTransform;r.selectionBackgroundColor="",this.clearContext(v),v.save(),v.transform(b[0],b[1],b[2],b[3],b[4],b[5]),r.render(v),v.restore(),r.selectionBackgroundColor=p;var _=t.util.isTransparent(v,a,s,this.targetFindTolerance);return _},_isSelectionKeyPressed:function(r){var a=!1;return Array.isArray(this.selectionKey)?a=!!this.selectionKey.find(function(s){return r[s]===!0}):a=r[this.selectionKey],a},_shouldClearSelection:function(r,a){var s=this.getActiveObjects(),o=this._activeObject;return!a||a&&o&&s.length>1&&s.indexOf(a)===-1&&o!==a&&!this._isSelectionKeyPressed(r)||a&&!a.evented||a&&!a.selectable&&o&&o!==a},_shouldCenterTransform:function(r,a,s){if(r){var o;return a==="scale"||a==="scaleX"||a==="scaleY"||a==="resizing"?o=this.centeredScaling||r.centeredScaling:a==="rotate"&&(o=this.centeredRotation||r.centeredRotation),o?!s:s}},_getOriginFromCorner:function(r,a){var s={x:r.originX,y:r.originY};return a==="ml"||a==="tl"||a==="bl"?s.x="right":(a==="mr"||a==="tr"||a==="br")&&(s.x="left"),a==="tl"||a==="mt"||a==="tr"?s.y="bottom":(a==="bl"||a==="mb"||a==="br")&&(s.y="top"),s},_getActionFromCorner:function(r,a,s,o){if(!a||!r)return"drag";var d=o.controls[a];return d.getActionName(s,d,o)},_setupCurrentTransform:function(r,a,s){if(a){var o=this.getPointer(r),d=a.__corner,l=a.controls[d],v=s&&d?l.getActionHandler(r,a,l):t.controlsUtils.dragHandler,p=this._getActionFromCorner(s,d,r,a),b=this._getOriginFromCorner(a,d),_=r[this.centeredKey],C={target:a,action:p,actionHandler:v,corner:d,scaleX:a.scaleX,scaleY:a.scaleY,skewX:a.skewX,skewY:a.skewY,offsetX:o.x-a.left,offsetY:o.y-a.top,originX:b.x,originY:b.y,ex:o.x,ey:o.y,lastX:o.x,lastY:o.y,theta:i(a.angle),width:a.width*a.scaleX,shiftKey:r.shiftKey,altKey:_,original:t.util.saveObjectTransform(a)};this._shouldCenterTransform(a,p,_)&&(C.originX="center",C.originY="center"),C.original.originX=b.x,C.original.originY=b.y,this._currentTransform=C,this._beforeTransform(r)}},setCursor:function(r){this.upperCanvasEl.style.cursor=r},_drawSelection:function(r){var a=this._groupSelector,s=new t.Point(a.ex,a.ey),o=t.util.transformPoint(s,this.viewportTransform),d=new t.Point(a.ex+a.left,a.ey+a.top),l=t.util.transformPoint(d,this.viewportTransform),v=Math.min(o.x,l.x),p=Math.min(o.y,l.y),b=Math.max(o.x,l.x),_=Math.max(o.y,l.y),C=this.selectionLineWidth/2;this.selectionColor&&(r.fillStyle=this.selectionColor,r.fillRect(v,p,b-v,_-p)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(r.lineWidth=this.selectionLineWidth,r.strokeStyle=this.selectionBorderColor,v+=C,p+=C,b-=C,_-=C,t.Object.prototype._setLineDash.call(this,r,this.selectionDashArray),r.strokeRect(v,p,b-v,_-p))},findTarget:function(r,a){if(!this.skipTargetFind){var s=!0,o=this.getPointer(r,s),d=this._activeObject,l=this.getActiveObjects(),v,p,b=h(r),_=l.length>1&&!a||l.length===1;if(this.targets=[],_&&d._findTargetCorner(o,b)||l.length>1&&!a&&d===this._searchPossibleTargets([d],o))return d;if(l.length===1&&d===this._searchPossibleTargets([d],o))if(this.preserveObjectStacking)v=d,p=this.targets,this.targets=[];else return d;var C=this._searchPossibleTargets(this._objects,o);return r[this.altSelectionKey]&&C&&v&&C!==v&&(C=v,this.targets=p),C}},_checkTarget:function(r,a,s){if(a&&a.visible&&a.evented&&a.containsPoint(r))if((this.perPixelTargetFind||a.perPixelTargetFind)&&!a.isEditing){var o=this.isTargetTransparent(a,s.x,s.y);if(!o)return!0}else return!0},_searchPossibleTargets:function(r,a){for(var s,o=r.length,d;o--;){var l=r[o],v=l.group?this._normalizePointer(l.group,a):a;if(this._checkTarget(v,l,a)){s=r[o],s.subTargetCheck&&s instanceof t.Group&&(d=this._searchPossibleTargets(s._objects,a),d&&this.targets.push(d));break}}return s},restorePointerVpt:function(r){return t.util.transformPoint(r,t.util.invertTransform(this.viewportTransform))},getPointer:function(r,a){if(this._absolutePointer&&!a)return this._absolutePointer;if(this._pointer&&a)return this._pointer;var s=u(r),o=this.upperCanvasEl,d=o.getBoundingClientRect(),l=d.width||0,v=d.height||0,p;(!l||!v)&&("top"in d&&"bottom"in d&&(v=Math.abs(d.top-d.bottom)),"right"in d&&"left"in d&&(l=Math.abs(d.right-d.left))),this.calcOffset(),s.x=s.x-this._offset.left,s.y=s.y-this._offset.top,a||(s=this.restorePointerVpt(s));var b=this.getRetinaScaling();return b!==1&&(s.x/=b,s.y/=b),l===0||v===0?p={width:1,height:1}:p={width:o.width/l,height:o.height/v},{x:s.x*p.width,y:s.y*p.height}},_createUpperCanvas:function(){var r=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),a=this.lowerCanvasEl,s=this.upperCanvasEl;s?s.className="":(s=this._createCanvasElement(),this.upperCanvasEl=s),t.util.addClass(s,"upper-canvas "+r),this.wrapperEl.appendChild(s),this._copyCanvasStyle(a,s),this._applyCanvasStyle(s),this.contextTop=s.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=t.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),t.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),t.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(r){var a=this.width||r.width,s=this.height||r.height;t.util.setStyle(r,{position:"absolute",width:a+"px",height:s+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),r.width=a,r.height=s,t.util.makeElementUnselectable(r)},_copyCanvasStyle:function(r,a){a.style.cssText=r.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var r=this._activeObject;return r?r.type==="activeSelection"&&r._objects?r._objects.slice(0):[r]:[]},_onObjectRemoved:function(r){r===this._activeObject&&(this.fire("before:selection:cleared",{target:r}),this._discardActiveObject(),this.fire("selection:cleared",{target:r}),r.fire("deselected")),r===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",r)},_fireSelectionEvents:function(r,a){var s=!1,o=this.getActiveObjects(),d=[],l=[];r.forEach(function(v){o.indexOf(v)===-1&&(s=!0,v.fire("deselected",{e:a,target:v}),l.push(v))}),o.forEach(function(v){r.indexOf(v)===-1&&(s=!0,v.fire("selected",{e:a,target:v}),d.push(v))}),r.length>0&&o.length>0?s&&this.fire("selection:updated",{e:a,selected:d,deselected:l}):o.length>0?this.fire("selection:created",{e:a,selected:d}):r.length>0&&this.fire("selection:cleared",{e:a,deselected:l})},setActiveObject:function(r,a){var s=this.getActiveObjects();return this._setActiveObject(r,a),this._fireSelectionEvents(s,a),this},_setActiveObject:function(r,a){return this._activeObject===r||!this._discardActiveObject(a,r)||r.onSelect({e:a})?!1:(this._activeObject=r,!0)},_discardActiveObject:function(r,a){var s=this._activeObject;if(s){if(s.onDeselect({e:r,object:a}))return!1;this._activeObject=null}return!0},discardActiveObject:function(r){var a=this.getActiveObjects(),s=this.getActiveObject();return a.length&&this.fire("before:selection:cleared",{target:s,e:r}),this._discardActiveObject(r),this._fireSelectionEvents(a,r),this},dispose:function(){var r=this.wrapperEl;return this.removeListeners(),r.removeChild(this.upperCanvasEl),r.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach((function(a){t.util.cleanUpJsdomNode(this[a]),this[a]=void 0}).bind(this)),r.parentNode&&r.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,t.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(r){var a=this._activeObject;a&&a._renderControls(r)},_toObject:function(r,a,s){var o=this._realizeGroupTransformOnObject(r),d=this.callSuper("_toObject",r,a,s);return this._unwindGroupTransformOnObject(r,o),d},_realizeGroupTransformOnObject:function(r){if(r.group&&r.group.type==="activeSelection"&&this._activeObject===r.group){var a=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],s={};return a.forEach(function(o){s[o]=r[o]}),t.util.addTransformToObject(r,this._activeObject.calcOwnMatrix()),s}else return null},_unwindGroupTransformOnObject:function(r,a){a&&r.set(a)},_setSVGObject:function(r,a,s){var o=this._realizeGroupTransformOnObject(a);this.callSuper("_setSVGObject",r,a,s),this._unwindGroupTransformOnObject(a,o)},setViewportTransform:function(r){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),t.StaticCanvas.prototype.setViewportTransform.call(this,r)}});for(var c in t.StaticCanvas)c!=="prototype"&&(t.Canvas[c]=t.StaticCanvas[c])}(),function(){var u=t.util.addListener,i=t.util.removeListener,h=3,c=2,r=1,a={passive:!1};function s(o,d){return o.button&&o.button===d-1}t.util.object.extend(t.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(u,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(o,d){var l=this.upperCanvasEl,v=this._getEventPrefix();o(t.window,"resize",this._onResize),o(l,v+"down",this._onMouseDown),o(l,v+"move",this._onMouseMove,a),o(l,v+"out",this._onMouseOut),o(l,v+"enter",this._onMouseEnter),o(l,"wheel",this._onMouseWheel),o(l,"contextmenu",this._onContextMenu),o(l,"dblclick",this._onDoubleClick),o(l,"dragover",this._onDragOver),o(l,"dragenter",this._onDragEnter),o(l,"dragleave",this._onDragLeave),o(l,"drop",this._onDrop),this.enablePointerEvents||o(l,"touchstart",this._onTouchStart,a),typeof eventjs<"u"&&d in eventjs&&(eventjs[d](l,"gesture",this._onGesture),eventjs[d](l,"drag",this._onDrag),eventjs[d](l,"orientation",this._onOrientationChange),eventjs[d](l,"shake",this._onShake),eventjs[d](l,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(i,"remove");var o=this._getEventPrefix();i(t.document,o+"up",this._onMouseUp),i(t.document,"touchend",this._onTouchEnd,a),i(t.document,o+"move",this._onMouseMove,a),i(t.document,"touchmove",this._onMouseMove,a)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(o,d){this.__onTransformGesture&&this.__onTransformGesture(o,d)},_onDrag:function(o,d){this.__onDrag&&this.__onDrag(o,d)},_onMouseWheel:function(o){this.__onMouseWheel(o)},_onMouseOut:function(o){var d=this._hoveredTarget;this.fire("mouse:out",{target:d,e:o}),this._hoveredTarget=null,d&&d.fire("mouseout",{e:o});var l=this;this._hoveredTargets.forEach(function(v){l.fire("mouse:out",{target:v,e:o}),v&&v.fire("mouseout",{e:o})}),this._hoveredTargets=[]},_onMouseEnter:function(o){!this._currentTransform&&!this.findTarget(o)&&(this.fire("mouse:over",{target:null,e:o}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(o,d){this.__onOrientationChange&&this.__onOrientationChange(o,d)},_onShake:function(o,d){this.__onShake&&this.__onShake(o,d)},_onLongPress:function(o,d){this.__onLongPress&&this.__onLongPress(o,d)},_onDragOver:function(o){o.preventDefault();var d=this._simpleEventHandler("dragover",o);this._fireEnterLeaveEvents(d,o)},_onDrop:function(o){return this._simpleEventHandler("drop:before",o),this._simpleEventHandler("drop",o)},_onContextMenu:function(o){return this.stopContextMenu&&(o.stopPropagation(),o.preventDefault()),!1},_onDoubleClick:function(o){this._cacheTransformEventData(o),this._handleEvent(o,"dblclick"),this._resetTransformEventData(o)},getPointerId:function(o){var d=o.changedTouches;return d?d[0]&&d[0].identifier:this.enablePointerEvents?o.pointerId:-1},_isMainEvent:function(o){return o.isPrimary===!0?!0:o.isPrimary===!1?!1:o.type==="touchend"&&o.touches.length===0?!0:o.changedTouches?o.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(o){o.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(o)),this.__onMouseDown(o),this._resetTransformEventData();var d=this.upperCanvasEl,l=this._getEventPrefix();u(t.document,"touchend",this._onTouchEnd,a),u(t.document,"touchmove",this._onMouseMove,a),i(d,l+"down",this._onMouseDown)},_onMouseDown:function(o){this.__onMouseDown(o),this._resetTransformEventData();var d=this.upperCanvasEl,l=this._getEventPrefix();i(d,l+"move",this._onMouseMove,a),u(t.document,l+"up",this._onMouseUp),u(t.document,l+"move",this._onMouseMove,a)},_onTouchEnd:function(o){if(!(o.touches.length>0)){this.__onMouseUp(o),this._resetTransformEventData(),this.mainTouchId=null;var d=this._getEventPrefix();i(t.document,"touchend",this._onTouchEnd,a),i(t.document,"touchmove",this._onMouseMove,a);var l=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){u(l.upperCanvasEl,d+"down",l._onMouseDown),l._willAddMouseDown=0},400)}},_onMouseUp:function(o){this.__onMouseUp(o),this._resetTransformEventData();var d=this.upperCanvasEl,l=this._getEventPrefix();this._isMainEvent(o)&&(i(t.document,l+"up",this._onMouseUp),i(t.document,l+"move",this._onMouseMove,a),u(d,l+"move",this._onMouseMove,a))},_onMouseMove:function(o){!this.allowTouchScrolling&&o.preventDefault&&o.preventDefault(),this.__onMouseMove(o)},_onResize:function(){this.calcOffset()},_shouldRender:function(o){var d=this._activeObject;return!!d!=!!o||d&&o&&d!==o?!0:(d&&d.isEditing,!1)},__onMouseUp:function(o){var d,l=this._currentTransform,v=this._groupSelector,p=!1,b=!v||v.left===0&&v.top===0;if(this._cacheTransformEventData(o),d=this._target,this._handleEvent(o,"up:before"),s(o,h)){this.fireRightClick&&this._handleEvent(o,"up",h,b);return}if(s(o,c)){this.fireMiddleClick&&this._handleEvent(o,"up",c,b),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(o);return}if(this._isMainEvent(o)){if(l&&(this._finalizeCurrentTransform(o),p=l.actionPerformed),!b){var _=d===this._activeObject;this._maybeGroupObjects(o),p||(p=this._shouldRender(d)||!_&&d===this._activeObject)}var C,S;if(d){if(C=d._findTargetCorner(this.getPointer(o,!0),t.util.isTouchEvent(o)),d.selectable&&d!==this._activeObject&&d.activeOn==="up")this.setActiveObject(d,o),p=!0;else{var w=d.controls[C],x=w&&w.getMouseUpHandler(o,d,w);x&&(S=this.getPointer(o),x(o,l,S.x,S.y))}d.isMoving=!1}if(l&&(l.target!==d||l.corner!==C)){var A=l.target&&l.target.controls[l.corner],V=A&&A.getMouseUpHandler(o,d,w);S=S||this.getPointer(o),V&&V(o,l,S.x,S.y)}this._setCursorFromEvent(o,d),this._handleEvent(o,"up",r,b),this._groupSelector=null,this._currentTransform=null,d&&(d.__corner=0),p?this.requestRenderAll():b||this.renderTop()}},_simpleEventHandler:function(o,d){var l=this.findTarget(d),v=this.targets,p={e:d,target:l,subTargets:v};if(this.fire(o,p),l&&l.fire(o,p),!v)return l;for(var b=0;b<v.length;b++)v[b].fire(o,p);return l},_handleEvent:function(o,d,l,v){var p=this._target,b=this.targets||[],_={e:o,target:p,subTargets:b,button:l||r,isClick:v||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};d==="up"&&(_.currentTarget=this.findTarget(o),_.currentSubTargets=this.targets),this.fire("mouse:"+d,_),p&&p.fire("mouse"+d,_);for(var C=0;C<b.length;C++)b[C].fire("mouse"+d,_)},_finalizeCurrentTransform:function(o){var d=this._currentTransform,l=d.target,v={e:o,target:l,transform:d,action:d.action};l._scaling&&(l._scaling=!1),l.setCoords(),(d.actionPerformed||this.stateful&&l.hasStateChanged())&&this._fire("modified",v)},_onMouseDownInDrawingMode:function(o){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(o).requestRenderAll();var d=this.getPointer(o);this.freeDrawingBrush.onMouseDown(d,{e:o,pointer:d}),this._handleEvent(o,"down")},_onMouseMoveInDrawingMode:function(o){if(this._isCurrentlyDrawing){var d=this.getPointer(o);this.freeDrawingBrush.onMouseMove(d,{e:o,pointer:d})}this.setCursor(this.freeDrawingCursor),this._handleEvent(o,"move")},_onMouseUpInDrawingMode:function(o){var d=this.getPointer(o);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:o,pointer:d}),this._handleEvent(o,"up")},__onMouseDown:function(o){this._cacheTransformEventData(o),this._handleEvent(o,"down:before");var d=this._target;if(s(o,h)){this.fireRightClick&&this._handleEvent(o,"down",h);return}if(s(o,c)){this.fireMiddleClick&&this._handleEvent(o,"down",c);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(o);return}if(this._isMainEvent(o)&&!this._currentTransform){var l=this._pointer;this._previousPointer=l;var v=this._shouldRender(d),p=this._shouldGroup(o,d);if(this._shouldClearSelection(o,d)?this.discardActiveObject(o):p&&(this._handleGrouping(o,d),d=this._activeObject),this.selection&&(!d||!d.selectable&&!d.isEditing&&d!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),d){var b=d===this._activeObject;d.selectable&&d.activeOn==="down"&&this.setActiveObject(d,o);var _=d._findTargetCorner(this.getPointer(o,!0),t.util.isTouchEvent(o));if(d.__corner=_,d===this._activeObject&&(_||!p)){this._setupCurrentTransform(o,d,b);var C=d.controls[_],l=this.getPointer(o),S=C&&C.getMouseDownHandler(o,d,C);S&&S(o,this._currentTransform,l.x,l.y)}}this._handleEvent(o,"down"),(v||p)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(o){this._resetTransformEventData(),this._pointer=this.getPointer(o,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(o)||null},_beforeTransform:function(o){var d=this._currentTransform;this.stateful&&d.target.saveState(),this.fire("before:transform",{e:o,transform:d})},__onMouseMove:function(o){this._handleEvent(o,"move:before"),this._cacheTransformEventData(o);var d,l;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(o);return}if(this._isMainEvent(o)){var v=this._groupSelector;v?(l=this._absolutePointer,v.left=l.x-v.ex,v.top=l.y-v.ey,this.renderTop()):this._currentTransform?this._transformObject(o):(d=this.findTarget(o)||null,this._setCursorFromEvent(o,d),this._fireOverOutEvents(d,o)),this._handleEvent(o,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(o,d){var l=this._hoveredTarget,v=this._hoveredTargets,p=this.targets,b=Math.max(v.length,p.length);this.fireSyntheticInOutEvents(o,d,{oldTarget:l,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var _=0;_<b;_++)this.fireSyntheticInOutEvents(p[_],d,{oldTarget:v[_],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=o,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(o,d){var l=this._draggedoverTarget,v=this._hoveredTargets,p=this.targets,b=Math.max(v.length,p.length);this.fireSyntheticInOutEvents(o,d,{oldTarget:l,evtOut:"dragleave",evtIn:"dragenter"});for(var _=0;_<b;_++)this.fireSyntheticInOutEvents(p[_],d,{oldTarget:v[_],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=o},fireSyntheticInOutEvents:function(o,d,l){var v,p,b=l.oldTarget,_,C,S=b!==o,w=l.canvasEvtIn,x=l.canvasEvtOut;S&&(v={e:d,target:o,previousTarget:b},p={e:d,target:b,nextTarget:o}),C=o&&S,_=b&&S,_&&(x&&this.fire(x,p),b.fire(l.evtOut,p)),C&&(w&&this.fire(w,v),o.fire(l.evtIn,v))},__onMouseWheel:function(o){this._cacheTransformEventData(o),this._handleEvent(o,"wheel"),this._resetTransformEventData()},_transformObject:function(o){var d=this.getPointer(o),l=this._currentTransform;l.reset=!1,l.shiftKey=o.shiftKey,l.altKey=o[this.centeredKey],this._performTransformAction(o,l,d),l.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(o,d,l){var v=l.x,p=l.y,b=d.action,_=!1,C=d.actionHandler;C&&(_=C(o,d,v,p)),b==="drag"&&_&&(d.target.isMoving=!0,this.setCursor(d.target.moveCursor||this.moveCursor)),d.actionPerformed=d.actionPerformed||_},_fire:t.controlsUtils.fireEvent,_setCursorFromEvent:function(o,d){if(!d)return this.setCursor(this.defaultCursor),!1;var l=d.hoverCursor||this.hoverCursor,v=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,p=(!v||!v.contains(d))&&d._findTargetCorner(this.getPointer(o,!0));p?this.setCursor(this.getCornerCursor(p,d,o)):(d.subTargetCheck&&this.targets.concat().reverse().map(function(b){l=b.hoverCursor||l}),this.setCursor(l))},getCornerCursor:function(o,d,l){var v=d.controls[o];return v.cursorStyleHandler(l,v,d)}})}(),function(){var u=Math.min,i=Math.max;t.util.object.extend(t.Canvas.prototype,{_shouldGroup:function(h,c){var r=this._activeObject;return r&&this._isSelectionKeyPressed(h)&&c&&c.selectable&&this.selection&&(r!==c||r.type==="activeSelection")&&!c.onSelect({e:h})},_handleGrouping:function(h,c){var r=this._activeObject;r.__corner||c===r&&(c=this.findTarget(h,!0),!c||!c.selectable)||(r&&r.type==="activeSelection"?this._updateActiveSelection(c,h):this._createActiveSelection(c,h))},_updateActiveSelection:function(h,c){var r=this._activeObject,a=r._objects.slice(0);r.contains(h)?(r.removeWithUpdate(h),this._hoveredTarget=h,this._hoveredTargets=this.targets.concat(),r.size()===1&&this._setActiveObject(r.item(0),c)):(r.addWithUpdate(h),this._hoveredTarget=r,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(a,c)},_createActiveSelection:function(h,c){var r=this.getActiveObjects(),a=this._createGroup(h);this._hoveredTarget=a,this._setActiveObject(a,c),this._fireSelectionEvents(r,c)},_createGroup:function(h){var c=this._objects,r=c.indexOf(this._activeObject)<c.indexOf(h),a=r?[this._activeObject,h]:[h,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new t.ActiveSelection(a,{canvas:this})},_groupSelectedObjects:function(h){var c=this._collectObjects(h),r;c.length===1?this.setActiveObject(c[0],h):c.length>1&&(r=new t.ActiveSelection(c.reverse(),{canvas:this}),this.setActiveObject(r,h))},_collectObjects:function(h){for(var c=[],r,a=this._groupSelector.ex,s=this._groupSelector.ey,o=a+this._groupSelector.left,d=s+this._groupSelector.top,l=new t.Point(u(a,o),u(s,d)),v=new t.Point(i(a,o),i(s,d)),p=!this.selectionFullyContained,b=a===o&&s===d,_=this._objects.length;_--&&(r=this._objects[_],!(!(!r||!r.selectable||!r.visible)&&(p&&r.intersectsWithRect(l,v,!0)||r.isContainedWithinRect(l,v,!0)||p&&r.containsPoint(l,null,!0)||p&&r.containsPoint(v,null,!0))&&(c.push(r),b))););return c.length>1&&(c=c.filter(function(C){return!C.onSelect({e:h})})),c},_maybeGroupObjects:function(h){this.selection&&this._groupSelector&&this._groupSelectedObjects(h),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){t.util.object.extend(t.StaticCanvas.prototype,{toDataURL:function(u){u||(u={});var i=u.format||"png",h=u.quality||1,c=(u.multiplier||1)*(u.enableRetinaScaling?this.getRetinaScaling():1),r=this.toCanvasElement(c,u);return t.util.toDataURL(r,i,h)},toCanvasElement:function(u,i){u=u||1,i=i||{};var h=(i.width||this.width)*u,c=(i.height||this.height)*u,r=this.getZoom(),a=this.width,s=this.height,o=r*u,d=this.viewportTransform,l=(d[4]-(i.left||0))*u,v=(d[5]-(i.top||0))*u,p=this.interactive,b=[o,0,0,o,l,v],_=this.enableRetinaScaling,C=t.util.createCanvasElement(),S=this.contextTop;return C.width=h,C.height=c,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=b,this.width=h,this.height=c,this.calcViewportBoundaries(),this.renderCanvas(C.getContext("2d"),this._objects),this.viewportTransform=d,this.width=a,this.height=s,this.calcViewportBoundaries(),this.interactive=p,this.enableRetinaScaling=_,this.contextTop=S,C}})}(),t.util.object.extend(t.StaticCanvas.prototype,{loadFromJSON:function(u,i,h){if(u){var c=typeof u=="string"?JSON.parse(u):t.util.object.clone(u),r=this,a=c.clipPath,s=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete c.clipPath,this._enlivenObjects(c.objects,function(o){r.clear(),r._setBgOverlay(c,function(){a?r._enlivenObjects([a],function(d){r.clipPath=d[0],r.__setupCanvas.call(r,c,o,s,i)}):r.__setupCanvas.call(r,c,o,s,i)})},h),this}},__setupCanvas:function(u,i,h,c){var r=this;i.forEach(function(a,s){r.insertAt(a,s)}),this.renderOnAddRemove=h,delete u.objects,delete u.backgroundImage,delete u.overlayImage,delete u.background,delete u.overlay,this._setOptions(u),this.renderAll(),c&&c()},_setBgOverlay:function(u,i){var h={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!u.backgroundImage&&!u.overlayImage&&!u.background&&!u.overlay){i&&i();return}var c=function(){h.backgroundImage&&h.overlayImage&&h.backgroundColor&&h.overlayColor&&i&&i()};this.__setBgOverlay("backgroundImage",u.backgroundImage,h,c),this.__setBgOverlay("overlayImage",u.overlayImage,h,c),this.__setBgOverlay("backgroundColor",u.background,h,c),this.__setBgOverlay("overlayColor",u.overlay,h,c)},__setBgOverlay:function(u,i,h,c){var r=this;if(!i){h[u]=!0,c&&c();return}u==="backgroundImage"||u==="overlayImage"?t.util.enlivenObjects([i],function(a){r[u]=a[0],h[u]=!0,c&&c()}):this["set"+t.util.string.capitalize(u,!0)](i,function(){h[u]=!0,c&&c()})},_enlivenObjects:function(u,i,h){if(!u||u.length===0){i&&i([]);return}t.util.enlivenObjects(u,function(c){i&&i(c)},null,h)},_toDataURL:function(u,i){this.clone(function(h){i(h.toDataURL(u))})},_toDataURLWithMultiplier:function(u,i,h){this.clone(function(c){h(c.toDataURLWithMultiplier(u,i))})},clone:function(u,i){var h=JSON.stringify(this.toJSON(i));this.cloneWithoutData(function(c){c.loadFromJSON(h,function(){u&&u(c)})})},cloneWithoutData:function(u){var i=t.util.createCanvasElement();i.width=this.width,i.height=this.height;var h=new t.Canvas(i);this.backgroundImage?(h.setBackgroundImage(this.backgroundImage.src,function(){h.renderAll(),u&&u(h)}),h.backgroundImageOpacity=this.backgroundImageOpacity,h.backgroundImageStretch=this.backgroundImageStretch):u&&u(h)}}),function(u){var i=u.fabric||(u.fabric={}),h=i.util.object.extend,c=i.util.object.clone,r=i.util.toFixed,a=i.util.string.capitalize,s=i.util.degreesToRadians,o=!i.isLikelyNode,d=2;i.Object||(i.Object=i.util.createClass(i.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:o,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(l){l&&this.setOptions(l)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=i.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(l){var v=i.perfLimitSizeTotal,p=l.width,b=l.height,_=i.maxCacheSideLimit,C=i.minCacheSideLimit;if(p<=_&&b<=_&&p*b<=v)return p<C&&(l.width=C),b<C&&(l.height=C),l;var S=p/b,w=i.util.limitDimsByArea(S,v),x=i.util.capValue,A=x(C,w.x,_),V=x(C,w.y,_);return p>A&&(l.zoomX/=p/A,l.width=A,l.capped=!0),b>V&&(l.zoomY/=b/V,l.height=V,l.capped=!0),l},_getCacheCanvasDimensions:function(){var l=this.getTotalObjectScaling(),v=this._getTransformedDimensions(0,0),p=v.x*l.scaleX/this.scaleX,b=v.y*l.scaleY/this.scaleY;return{width:p+d,height:b+d,zoomX:l.scaleX,zoomY:l.scaleY,x:p,y:b}},_updateCacheCanvas:function(){var l=this.canvas;if(this.noScaleCache&&l&&l._currentTransform){var v=l._currentTransform.target,p=l._currentTransform.action;if(this===v&&p.slice&&p.slice(0,5)==="scale")return!1}var b=this._cacheCanvas,_=this._limitCacheSize(this._getCacheCanvasDimensions()),C=i.minCacheSideLimit,S=_.width,w=_.height,x,A,V=_.zoomX,z=_.zoomY,R=S!==this.cacheWidth||w!==this.cacheHeight,G=this.zoomX!==V||this.zoomY!==z,$=R||G,ee=0,ne=0,re=!1;if(R){var ie=this._cacheCanvas.width,O=this._cacheCanvas.height,B=S>ie||w>O,L=(S<ie*.9||w<O*.9)&&ie>C&&O>C;re=B||L,B&&!_.capped&&(S>C||w>C)&&(ee=S*.1,ne=w*.1)}return $?(re?(b.width=Math.ceil(S+ee),b.height=Math.ceil(w+ne)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,b.width,b.height)),x=_.x/2,A=_.y/2,this.cacheTranslationX=Math.round(b.width/2-x)+x,this.cacheTranslationY=Math.round(b.height/2-A)+A,this.cacheWidth=S,this.cacheHeight=w,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(V,z),this.zoomX=V,this.zoomY=z,!0):!1},setOptions:function(l){this._setOptions(l),this._initGradient(l.fill,"fill"),this._initGradient(l.stroke,"stroke"),this._initPattern(l.fill,"fill"),this._initPattern(l.stroke,"stroke")},transform:function(l){var v=this.group&&!this.group._transformDone||this.group&&this.canvas&&l===this.canvas.contextTop,p=this.calcTransformMatrix(!v);l.transform(p[0],p[1],p[2],p[3],p[4],p[5])},toObject:function(l){var v=i.Object.NUM_FRACTION_DIGITS,p={type:this.type,version:i.version,originX:this.originX,originY:this.originY,left:r(this.left,v),top:r(this.top,v),width:r(this.width,v),height:r(this.height,v),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:r(this.strokeWidth,v),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:r(this.strokeMiterLimit,v),scaleX:r(this.scaleX,v),scaleY:r(this.scaleY,v),angle:r(this.angle,v),flipX:this.flipX,flipY:this.flipY,opacity:r(this.opacity,v),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:r(this.skewX,v),skewY:r(this.skewY,v)};return this.clipPath&&!this.clipPath.excludeFromExport&&(p.clipPath=this.clipPath.toObject(l),p.clipPath.inverted=this.clipPath.inverted,p.clipPath.absolutePositioned=this.clipPath.absolutePositioned),i.util.populateWithProperties(this,p,l),this.includeDefaultValues||(p=this._removeDefaultValues(p)),p},toDatalessObject:function(l){return this.toObject(l)},_removeDefaultValues:function(l){var v=i.util.getKlass(l.type).prototype,p=v.stateProperties;return p.forEach(function(b){b==="left"||b==="top"||(l[b]===v[b]&&delete l[b],Array.isArray(l[b])&&Array.isArray(v[b])&&l[b].length===0&&v[b].length===0&&delete l[b])}),l},toString:function(){return"#<fabric."+a(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var l=i.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(l.scaleX),scaleY:Math.abs(l.scaleY)}},getTotalObjectScaling:function(){var l=this.getObjectScaling(),v=l.scaleX,p=l.scaleY;if(this.canvas){var b=this.canvas.getZoom(),_=this.canvas.getRetinaScaling();v*=b*_,p*=b*_}return{scaleX:v,scaleY:p}},getObjectOpacity:function(){var l=this.opacity;return this.group&&(l*=this.group.getObjectOpacity()),l},_set:function(l,v){var p=l==="scaleX"||l==="scaleY",b=this[l]!==v,_=!1;return p&&(v=this._constrainScale(v)),l==="scaleX"&&v<0?(this.flipX=!this.flipX,v*=-1):l==="scaleY"&&v<0?(this.flipY=!this.flipY,v*=-1):l==="shadow"&&v&&!(v instanceof i.Shadow)?v=new i.Shadow(v):l==="dirty"&&this.group&&this.group.set("dirty",v),this[l]=v,b&&(_=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(l)>-1?(this.dirty=!0,_&&this.group.set("dirty",!0)):_&&this.stateProperties.indexOf(l)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:i.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(l){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(l.save(),this._setupCompositeOperation(l),this.drawSelectionBackground(l),this.transform(l),this._setOpacity(l),this._setShadow(l,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(l)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(l),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),l.restore())},renderCache:function(l){l=l||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,l.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(l,v){if(l.save(),v.inverted?l.globalCompositeOperation="destination-out":l.globalCompositeOperation="destination-in",v.absolutePositioned){var p=i.util.invertTransform(this.calcTransformMatrix());l.transform(p[0],p[1],p[2],p[3],p[4],p[5])}v.transform(l),l.scale(1/v.zoomX,1/v.zoomY),l.drawImage(v._cacheCanvas,-v.cacheTranslationX,-v.cacheTranslationY),l.restore()},drawObject:function(l,v){var p=this.fill,b=this.stroke;v?(this.fill="black",this.stroke="",this._setClippingProperties(l)):this._renderBackground(l),this._render(l),this._drawClipPath(l,this.clipPath),this.fill=p,this.stroke=b},_drawClipPath:function(l,v){v&&(v.canvas=this.canvas,v.shouldCache(),v._transformDone=!0,v.renderCache({forClipping:!0}),this.drawClipPathOnCache(l,v))},drawCacheOnCanvas:function(l){l.scale(1/this.zoomX,1/this.zoomY),l.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(l){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!l&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!l){var v=this.cacheWidth/this.zoomX,p=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-v/2,-p/2,v,p)}return!0}return!1},_renderBackground:function(l){if(this.backgroundColor){var v=this._getNonTransformedDimensions();l.fillStyle=this.backgroundColor,l.fillRect(-v.x/2,-v.y/2,v.x,v.y),this._removeShadow(l)}},_setOpacity:function(l){this.group&&!this.group._transformDone?l.globalAlpha=this.getObjectOpacity():l.globalAlpha*=this.opacity},_setStrokeStyles:function(l,v){var p=v.stroke;p&&(l.lineWidth=v.strokeWidth,l.lineCap=v.strokeLineCap,l.lineDashOffset=v.strokeDashOffset,l.lineJoin=v.strokeLineJoin,l.miterLimit=v.strokeMiterLimit,p.toLive?p.gradientUnits==="percentage"||p.gradientTransform||p.patternTransform?this._applyPatternForTransformedGradient(l,p):(l.strokeStyle=p.toLive(l,this),this._applyPatternGradientTransform(l,p)):l.strokeStyle=v.stroke)},_setFillStyles:function(l,v){var p=v.fill;p&&(p.toLive?(l.fillStyle=p.toLive(l,this),this._applyPatternGradientTransform(l,v.fill)):l.fillStyle=p)},_setClippingProperties:function(l){l.globalAlpha=1,l.strokeStyle="transparent",l.fillStyle="#000000"},_setLineDash:function(l,v){!v||v.length===0||(1&v.length&&v.push.apply(v,v),l.setLineDash(v))},_renderControls:function(l,v){var p=this.getViewportTransform(),b=this.calcTransformMatrix(),_,C,S;v=v||{},C=typeof v.hasBorders<"u"?v.hasBorders:this.hasBorders,S=typeof v.hasControls<"u"?v.hasControls:this.hasControls,b=i.util.multiplyTransformMatrices(p,b),_=i.util.qrDecompose(b),l.save(),l.translate(_.translateX,_.translateY),l.lineWidth=1*this.borderScaleFactor,this.group||(l.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(_.angle-=180),l.rotate(s(this.group?_.angle:this.angle)),v.forActiveSelection||this.group?C&&this.drawBordersInGroup(l,_,v):C&&this.drawBorders(l,v),S&&this.drawControls(l,v),l.restore()},_setShadow:function(l){if(this.shadow){var v=this.shadow,p=this.canvas,b,_=p&&p.viewportTransform[0]||1,C=p&&p.viewportTransform[3]||1;v.nonScaling?b={scaleX:1,scaleY:1}:b=this.getObjectScaling(),p&&p._isRetinaScaling()&&(_*=i.devicePixelRatio,C*=i.devicePixelRatio),l.shadowColor=v.color,l.shadowBlur=v.blur*i.browserShadowBlurConstant*(_+C)*(b.scaleX+b.scaleY)/4,l.shadowOffsetX=v.offsetX*_*b.scaleX,l.shadowOffsetY=v.offsetY*C*b.scaleY}},_removeShadow:function(l){this.shadow&&(l.shadowColor="",l.shadowBlur=l.shadowOffsetX=l.shadowOffsetY=0)},_applyPatternGradientTransform:function(l,v){if(!v||!v.toLive)return{offsetX:0,offsetY:0};var p=v.gradientTransform||v.patternTransform,b=-this.width/2+v.offsetX||0,_=-this.height/2+v.offsetY||0;return v.gradientUnits==="percentage"?l.transform(this.width,0,0,this.height,b,_):l.transform(1,0,0,1,b,_),p&&l.transform(p[0],p[1],p[2],p[3],p[4],p[5]),{offsetX:b,offsetY:_}},_renderPaintInOrder:function(l){this.paintFirst==="stroke"?(this._renderStroke(l),this._renderFill(l)):(this._renderFill(l),this._renderStroke(l))},_render:function(){},_renderFill:function(l){this.fill&&(l.save(),this._setFillStyles(l,this),this.fillRule==="evenodd"?l.fill("evenodd"):l.fill(),l.restore())},_renderStroke:function(l){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(l),l.save(),this.strokeUniform&&this.group){var v=this.getObjectScaling();l.scale(1/v.scaleX,1/v.scaleY)}else this.strokeUniform&&l.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(l,this.strokeDashArray),this._setStrokeStyles(l,this),l.stroke(),l.restore()}},_applyPatternForTransformedGradient:function(l,v){var p=this._limitCacheSize(this._getCacheCanvasDimensions()),b=i.util.createCanvasElement(),_,C=this.canvas.getRetinaScaling(),S=p.x/this.scaleX/C,w=p.y/this.scaleY/C;b.width=Math.ceil(S),b.height=Math.ceil(w),_=b.getContext("2d"),_.beginPath(),_.moveTo(0,0),_.lineTo(S,0),_.lineTo(S,w),_.lineTo(0,w),_.closePath(),_.translate(S/2,w/2),_.scale(p.zoomX/this.scaleX/C,p.zoomY/this.scaleY/C),this._applyPatternGradientTransform(_,v),_.fillStyle=v.toLive(l),_.fill(),l.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),l.scale(C*this.scaleX/p.zoomX,C*this.scaleY/p.zoomY),l.strokeStyle=_.createPattern(b,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var l=i.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",l.scaleX),this.set("scaleY",l.scaleY),this.angle=l.angle,this.skewX=l.skewX,this.skewY=0}},_removeTransformMatrix:function(l){var v=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),v=i.util.transformPoint(v,this.transformMatrix)),this.transformMatrix=null,l&&(this.scaleX*=l.scaleX,this.scaleY*=l.scaleY,this.cropX=l.cropX,this.cropY=l.cropY,v.x+=l.offsetLeft,v.y+=l.offsetTop,this.width=l.width,this.height=l.height),this.setPositionByOrigin(v,"center","center")},clone:function(l,v){var p=this.toObject(v);this.constructor.fromObject?this.constructor.fromObject(p,l):i.Object._fromObject("Object",p,l)},cloneAsImage:function(l,v){var p=this.toCanvasElement(v);return l&&l(new i.Image(p)),this},toCanvasElement:function(l){l||(l={});var v=i.util,p=v.saveObjectTransform(this),b=this.group,_=this.shadow,C=Math.abs,S=(l.multiplier||1)*(l.enableRetinaScaling?i.devicePixelRatio:1);delete this.group,l.withoutTransform&&v.resetObjectTransform(this),l.withoutShadow&&(this.shadow=null);var w=i.util.createCanvasElement(),x=this.getBoundingRect(!0,!0),A=this.shadow,V,z={x:0,y:0},R,G,$;A&&(R=A.blur,A.nonScaling?V={scaleX:1,scaleY:1}:V=this.getObjectScaling(),z.x=2*Math.round(C(A.offsetX)+R)*C(V.scaleX),z.y=2*Math.round(C(A.offsetY)+R)*C(V.scaleY)),G=x.width+z.x,$=x.height+z.y,w.width=Math.ceil(G),w.height=Math.ceil($);var ee=new i.StaticCanvas(w,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});l.format==="jpeg"&&(ee.backgroundColor="#fff"),this.setPositionByOrigin(new i.Point(ee.width/2,ee.height/2),"center","center");var ne=this.canvas;ee.add(this);var re=ee.toCanvasElement(S||1,l);return this.shadow=_,this.set("canvas",ne),b&&(this.group=b),this.set(p).setCoords(),ee._objects=[],ee.dispose(),ee=null,re},toDataURL:function(l){return l||(l={}),i.util.toDataURL(this.toCanvasElement(l),l.format||"png",l.quality||1)},isType:function(l){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===l},complexity:function(){return 1},toJSON:function(l){return this.toObject(l)},rotate:function(l){var v=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return v&&this._setOriginToCenter(),this.set("angle",l),v&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(l,v){v=v||this.canvas.getPointer(l);var p=new i.Point(v.x,v.y),b=this._getLeftTopCoords();return this.angle&&(p=i.util.rotatePoint(p,b,s(-this.angle))),{x:p.x-b.x,y:p.y-b.y}},_setupCompositeOperation:function(l){this.globalCompositeOperation&&(l.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){i.runningAnimations&&i.runningAnimations.cancelByTarget(this)}}),i.util.createAccessors&&i.util.createAccessors(i.Object),h(i.Object.prototype,i.Observable),i.Object.NUM_FRACTION_DIGITS=2,i.Object.ENLIVEN_PROPS=["clipPath"],i.Object._fromObject=function(l,v,p,b){var _=i[l];v=c(v,!0),i.util.enlivenPatterns([v.fill,v.stroke],function(C){typeof C[0]<"u"&&(v.fill=C[0]),typeof C[1]<"u"&&(v.stroke=C[1]),i.util.enlivenObjectEnlivables(v,v,function(){var S=b?new _(v[b],v):new _(v);p&&p(S)})})},i.Object.__uid=0)}(e),function(){var u=t.util.degreesToRadians,i={left:-.5,center:0,right:.5},h={top:-.5,center:0,bottom:.5};t.util.object.extend(t.Object.prototype,{translateToGivenOrigin:function(c,r,a,s,o){var d=c.x,l=c.y,v,p,b;return typeof r=="string"?r=i[r]:r-=.5,typeof s=="string"?s=i[s]:s-=.5,v=s-r,typeof a=="string"?a=h[a]:a-=.5,typeof o=="string"?o=h[o]:o-=.5,p=o-a,(v||p)&&(b=this._getTransformedDimensions(),d=c.x+v*b.x,l=c.y+p*b.y),new t.Point(d,l)},translateToCenterPoint:function(c,r,a){var s=this.translateToGivenOrigin(c,r,a,"center","center");return this.angle?t.util.rotatePoint(s,c,u(this.angle)):s},translateToOriginPoint:function(c,r,a){var s=this.translateToGivenOrigin(c,"center","center",r,a);return this.angle?t.util.rotatePoint(s,c,u(this.angle)):s},getCenterPoint:function(){var c=new t.Point(this.left,this.top);return this.translateToCenterPoint(c,this.originX,this.originY)},getPointByOrigin:function(c,r){var a=this.getCenterPoint();return this.translateToOriginPoint(a,c,r)},toLocalPoint:function(c,r,a){var s=this.getCenterPoint(),o,d;return typeof r<"u"&&typeof a<"u"?o=this.translateToGivenOrigin(s,"center","center",r,a):o=new t.Point(this.left,this.top),d=new t.Point(c.x,c.y),this.angle&&(d=t.util.rotatePoint(d,s,-u(this.angle))),d.subtractEquals(o)},setPositionByOrigin:function(c,r,a){var s=this.translateToCenterPoint(c,r,a),o=this.translateToOriginPoint(s,this.originX,this.originY);this.set("left",o.x),this.set("top",o.y)},adjustPosition:function(c){var r=u(this.angle),a=this.getScaledWidth(),s=t.util.cos(r)*a,o=t.util.sin(r)*a,d,l;typeof this.originX=="string"?d=i[this.originX]:d=this.originX-.5,typeof c=="string"?l=i[c]:l=c-.5,this.left+=s*(l-d),this.top+=o*(l-d),this.setCoords(),this.originX=c},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var c=this.getCenterPoint();this.originX="center",this.originY="center",this.left=c.x,this.top=c.y},_resetOrigin:function(){var c=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=c.x,this.top=c.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function u(a){return[new t.Point(a.tl.x,a.tl.y),new t.Point(a.tr.x,a.tr.y),new t.Point(a.br.x,a.br.y),new t.Point(a.bl.x,a.bl.y)]}var i=t.util,h=i.degreesToRadians,c=i.multiplyTransformMatrices,r=i.transformPoint;i.object.extend(t.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(a,s){return s?a?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),a?this.aCoords:this.lineCoords)},getCoords:function(a,s){return u(this._getCoords(a,s))},intersectsWithRect:function(a,s,o,d){var l=this.getCoords(o,d),v=t.Intersection.intersectPolygonRectangle(l,a,s);return v.status==="Intersection"},intersectsWithObject:function(a,s,o){var d=t.Intersection.intersectPolygonPolygon(this.getCoords(s,o),a.getCoords(s,o));return d.status==="Intersection"||a.isContainedWithinObject(this,s,o)||this.isContainedWithinObject(a,s,o)},isContainedWithinObject:function(a,s,o){for(var d=this.getCoords(s,o),l=s?a.aCoords:a.lineCoords,v=0,p=a._getImageLines(l);v<4;v++)if(!a.containsPoint(d[v],p))return!1;return!0},isContainedWithinRect:function(a,s,o,d){var l=this.getBoundingRect(o,d);return l.left>=a.x&&l.left+l.width<=s.x&&l.top>=a.y&&l.top+l.height<=s.y},containsPoint:function(a,v,o,d){var l=this._getCoords(o,d),v=v||this._getImageLines(l),p=this._findCrossPoints(a,v);return p!==0&&p%2===1},isOnScreen:function(a){if(!this.canvas)return!1;var s=this.canvas.vptCoords.tl,o=this.canvas.vptCoords.br,d=this.getCoords(!0,a);return d.some(function(l){return l.x<=o.x&&l.x>=s.x&&l.y<=o.y&&l.y>=s.y})||this.intersectsWithRect(s,o,!0,a)?!0:this._containsCenterOfCanvas(s,o,a)},_containsCenterOfCanvas:function(a,s,o){var d={x:(a.x+s.x)/2,y:(a.y+s.y)/2};return!!this.containsPoint(d,null,!0,o)},isPartiallyOnScreen:function(a){if(!this.canvas)return!1;var s=this.canvas.vptCoords.tl,o=this.canvas.vptCoords.br;if(this.intersectsWithRect(s,o,!0,a))return!0;var d=this.getCoords(!0,a).every(function(l){return(l.x>=o.x||l.x<=s.x)&&(l.y>=o.y||l.y<=s.y)});return d&&this._containsCenterOfCanvas(s,o,a)},_getImageLines:function(a){var s={topline:{o:a.tl,d:a.tr},rightline:{o:a.tr,d:a.br},bottomline:{o:a.br,d:a.bl},leftline:{o:a.bl,d:a.tl}};return s},_findCrossPoints:function(a,s){var o,d,l,v,p,b=0,_;for(var C in s)if(_=s[C],!(_.o.y<a.y&&_.d.y<a.y)&&!(_.o.y>=a.y&&_.d.y>=a.y)&&(_.o.x===_.d.x&&_.o.x>=a.x?p=_.o.x:(o=0,d=(_.d.y-_.o.y)/(_.d.x-_.o.x),l=a.y-o*a.x,v=_.o.y-d*_.o.x,p=-(l-v)/(o-d)),p>=a.x&&(b+=1),b===2))break;return b},getBoundingRect:function(a,s){var o=this.getCoords(a,s);return i.makeBoundingBoxFromPoints(o)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(a){return Math.abs(a)<this.minScaleLimit?a<0?-this.minScaleLimit:this.minScaleLimit:a===0?1e-4:a},scale:function(a){return this._set("scaleX",a),this._set("scaleY",a),this.setCoords()},scaleToWidth:function(a,s){var o=this.getBoundingRect(s).width/this.getScaledWidth();return this.scale(a/this.width/o)},scaleToHeight:function(a,s){var o=this.getBoundingRect(s).height/this.getScaledHeight();return this.scale(a/this.height/o)},calcLineCoords:function(){var a=this.getViewportTransform(),s=this.padding,o=h(this.angle),d=i.cos(o),l=i.sin(o),v=d*s,p=l*s,b=v+p,_=v-p,C=this.calcACoords(),S={tl:r(C.tl,a),tr:r(C.tr,a),bl:r(C.bl,a),br:r(C.br,a)};return s&&(S.tl.x-=_,S.tl.y-=b,S.tr.x+=b,S.tr.y-=_,S.bl.x-=b,S.bl.y+=_,S.br.x+=_,S.br.y+=b),S},calcOCoords:function(){var a=this._calcRotateMatrix(),s=this._calcTranslateMatrix(),o=this.getViewportTransform(),d=c(o,s),l=c(d,a),l=c(l,[1/o[0],0,0,1/o[3],0,0]),v=this._calculateCurrentDimensions(),p={};return this.forEachControl(function(b,_,C){p[_]=b.positionHandler(v,l,C)}),p},calcACoords:function(){var a=this._calcRotateMatrix(),s=this._calcTranslateMatrix(),o=c(s,a),d=this._getTransformedDimensions(),l=d.x/2,v=d.y/2;return{tl:r({x:-l,y:-v},o),tr:r({x:l,y:-v},o),bl:r({x:-l,y:v},o),br:r({x:l,y:v},o)}},setCoords:function(a){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),a?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return i.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var a=this.getCenterPoint();return[1,0,0,1,a.x,a.y]},transformMatrixKey:function(a){var s="_",o="";return!a&&this.group&&(o=this.group.transformMatrixKey(a)+s),o+this.top+s+this.left+s+this.scaleX+s+this.scaleY+s+this.skewX+s+this.skewY+s+this.angle+s+this.originX+s+this.originY+s+this.width+s+this.height+s+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(a){var s=this.calcOwnMatrix();if(a||!this.group)return s;var o=this.transformMatrixKey(a),d=this.matrixCache||(this.matrixCache={});return d.key===o?d.value:(this.group&&(s=c(this.group.calcTransformMatrix(!1),s)),d.key=o,d.value=s,s)},calcOwnMatrix:function(){var a=this.transformMatrixKey(!0),s=this.ownMatrixCache||(this.ownMatrixCache={});if(s.key===a)return s.value;var o=this._calcTranslateMatrix(),d={angle:this.angle,translateX:o[4],translateY:o[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return s.key=a,s.value=i.composeMatrix(d),s.value},_getNonTransformedDimensions:function(){var a=this.strokeWidth,s=this.width+a,o=this.height+a;return{x:s,y:o}},_getTransformedDimensions:function(a,s){typeof a>"u"&&(a=this.skewX),typeof s>"u"&&(s=this.skewY);var o,d,l,v=a===0&&s===0;if(this.strokeUniform?(d=this.width,l=this.height):(o=this._getNonTransformedDimensions(),d=o.x,l=o.y),v)return this._finalizeDimensions(d*this.scaleX,l*this.scaleY);var p=i.sizeAfterTransform(d,l,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:a,skewY:s});return this._finalizeDimensions(p.x,p.y)},_finalizeDimensions:function(a,s){return this.strokeUniform?{x:a+this.strokeWidth,y:s+this.strokeWidth}:{x:a,y:s}},_calculateCurrentDimensions:function(){var a=this.getViewportTransform(),s=this._getTransformedDimensions(),o=r(s,a,!0);return o.scalarAdd(2*this.padding)}})}(),t.util.object.extend(t.Object.prototype,{sendToBack:function(){return this.group?t.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?t.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(u){return this.group?t.StaticCanvas.prototype.sendBackwards.call(this.group,this,u):this.canvas&&this.canvas.sendBackwards(this,u),this},bringForward:function(u){return this.group?t.StaticCanvas.prototype.bringForward.call(this.group,this,u):this.canvas&&this.canvas.bringForward(this,u),this},moveTo:function(u){return this.group&&this.group.type!=="activeSelection"?t.StaticCanvas.prototype.moveTo.call(this.group,this,u):this.canvas&&this.canvas.moveTo(this,u),this}}),function(){function u(h,c){if(c){if(c.toLive)return h+": url(#SVGID_"+c.id+"); ";var r=new t.Color(c),a=h+": "+r.toRgb()+"; ",s=r.getAlpha();return s!==1&&(a+=h+"-opacity: "+s.toString()+"; "),a}else return h+": none; "}var i=t.util.toFixed;t.util.object.extend(t.Object.prototype,{getSvgStyles:function(h){var c=this.fillRule?this.fillRule:"nonzero",r=this.strokeWidth?this.strokeWidth:"0",a=this.strokeDashArray?this.strokeDashArray.join(" "):"none",s=this.strokeDashOffset?this.strokeDashOffset:"0",o=this.strokeLineCap?this.strokeLineCap:"butt",d=this.strokeLineJoin?this.strokeLineJoin:"miter",l=this.strokeMiterLimit?this.strokeMiterLimit:"4",v=typeof this.opacity<"u"?this.opacity:"1",p=this.visible?"":" visibility: hidden;",b=h?"":this.getSvgFilter(),_=u("fill",this.fill),C=u("stroke",this.stroke);return[C,"stroke-width: ",r,"; ","stroke-dasharray: ",a,"; ","stroke-linecap: ",o,"; ","stroke-dashoffset: ",s,"; ","stroke-linejoin: ",d,"; ","stroke-miterlimit: ",l,"; ",_,"fill-rule: ",c,"; ","opacity: ",v,";",b,p].join("")},getSvgSpanStyles:function(h,c){var r="; ",s=h.fontFamily?"font-family: "+(h.fontFamily.indexOf("'")===-1&&h.fontFamily.indexOf('"')===-1?"'"+h.fontFamily+"'":h.fontFamily)+r:"",a=h.strokeWidth?"stroke-width: "+h.strokeWidth+r:"",s=s,o=h.fontSize?"font-size: "+h.fontSize+"px"+r:"",d=h.fontStyle?"font-style: "+h.fontStyle+r:"",l=h.fontWeight?"font-weight: "+h.fontWeight+r:"",v=h.fill?u("fill",h.fill):"",p=h.stroke?u("stroke",h.stroke):"",b=this.getSvgTextDecoration(h),_=h.deltaY?"baseline-shift: "+-h.deltaY+"; ":"";return b&&(b="text-decoration: "+b+r),[p,a,s,o,d,l,b,v,_,c?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(h){return["overline","underline","line-through"].filter(function(c){return h[c.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(h,c){var r=h?this.calcTransformMatrix():this.calcOwnMatrix(),a='transform="'+t.util.matrixToSVG(r);return a+(c||"")+'" '},_setSVGBg:function(h){if(this.backgroundColor){var c=t.Object.NUM_FRACTION_DIGITS;h.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',i(-this.width/2,c),'" y="',i(-this.height/2,c),'" width="',i(this.width,c),'" height="',i(this.height,c),`"></rect>
`)}},toSVG:function(h){return this._createBaseSVGMarkup(this._toSVG(h),{reviver:h})},toClipPathSVG:function(h){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(h),{reviver:h})},_createBaseClipPathSVGMarkup:function(h,c){c=c||{};var r=c.reviver,a=c.additionalTransform||"",s=[this.getSvgTransform(!0,a),this.getSvgCommons()].join(""),o=h.indexOf("COMMON_PARTS");return h[o]=s,r?r(h.join("")):h.join("")},_createBaseSVGMarkup:function(h,c){c=c||{};var r=c.noStyle,a=c.reviver,s=r?"":'style="'+this.getSvgStyles()+'" ',o=c.withShadow?'style="'+this.getSvgFilter()+'" ':"",d=this.clipPath,l=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",v=d&&d.absolutePositioned,p=this.stroke,b=this.fill,_=this.shadow,C,S=[],w,x=h.indexOf("COMMON_PARTS"),A=c.additionalTransform;return d&&(d.clipPathId="CLIPPATH_"+t.Object.__uid++,w='<clipPath id="'+d.clipPathId+`" >
`+d.toClipPathSVG(a)+`</clipPath>
`),v&&S.push("<g ",o,this.getSvgCommons(),` >
`),S.push("<g ",this.getSvgTransform(!1),v?"":o+this.getSvgCommons(),` >
`),C=[s,l,r?"":this.addPaintOrder()," ",A?'transform="'+A+'" ':""].join(""),h[x]=C,b&&b.toLive&&S.push(b.toSVG(this)),p&&p.toLive&&S.push(p.toSVG(this)),_&&S.push(_.toSVG(this)),d&&S.push(w),S.push(h.join("")),S.push(`</g>
`),v&&S.push(`</g>
`),a?a(S.join("")):S.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var u=t.util.object.extend,i="stateProperties";function h(r,a,s){var o={},d=!0;s.forEach(function(l){o[l]=r[l]}),u(r[a],o,d)}function c(r,a,s){if(r===a)return!0;if(Array.isArray(r)){if(!Array.isArray(a)||r.length!==a.length)return!1;for(var o=0,d=r.length;o<d;o++)if(!c(r[o],a[o]))return!1;return!0}else if(r&&typeof r=="object"){var l=Object.keys(r),v;if(!a||typeof a!="object"||!s&&l.length!==Object.keys(a).length)return!1;for(var o=0,d=l.length;o<d;o++)if(v=l[o],!(v==="canvas"||v==="group")&&!c(r[v],a[v]))return!1;return!0}}t.util.object.extend(t.Object.prototype,{hasStateChanged:function(r){r=r||i;var a="_"+r;return Object.keys(this[a]).length<this[r].length?!0:!c(this[a],this,!0)},saveState:function(r){var a=r&&r.propertySet||i,s="_"+a;return this[s]?(h(this,s,this[a]),r&&r.stateProperties&&h(this,s,r.stateProperties),this):this.setupState(r)},setupState:function(r){r=r||{};var a=r.propertySet||i;return r.propertySet=a,this["_"+a]={},this.saveState(r),this}})}(),function(){var u=t.util.degreesToRadians;t.util.object.extend(t.Object.prototype,{_findTargetCorner:function(i,h){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var c=i.x,r=i.y,a,s,o=Object.keys(this.oCoords),d=o.length-1,l;for(this.__corner=0;d>=0;d--)if(l=o[d],!!this.isControlVisible(l)&&(s=this._getImageLines(h?this.oCoords[l].touchCorner:this.oCoords[l].corner),a=this._findCrossPoints({x:c,y:r},s),a!==0&&a%2===1))return this.__corner=l,l;return!1},forEachControl:function(i){for(var h in this.controls)i(this.controls[h],h,this)},_setCornerCoords:function(){var i=this.oCoords;for(var h in i){var c=this.controls[h];i[h].corner=c.calcCornerCoords(this.angle,this.cornerSize,i[h].x,i[h].y,!1),i[h].touchCorner=c.calcCornerCoords(this.angle,this.touchCornerSize,i[h].x,i[h].y,!0)}},drawSelectionBackground:function(i){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;i.save();var h=this.getCenterPoint(),c=this._calculateCurrentDimensions(),r=this.canvas.viewportTransform;return i.translate(h.x,h.y),i.scale(1/r[0],1/r[3]),i.rotate(u(this.angle)),i.fillStyle=this.selectionBackgroundColor,i.fillRect(-c.x/2,-c.y/2,c.x,c.y),i.restore(),this},drawBorders:function(i,h){h=h||{};var c=this._calculateCurrentDimensions(),r=this.borderScaleFactor,a=c.x+r,s=c.y+r,o=typeof h.hasControls<"u"?h.hasControls:this.hasControls,d=!1;return i.save(),i.strokeStyle=h.borderColor||this.borderColor,this._setLineDash(i,h.borderDashArray||this.borderDashArray),i.strokeRect(-a/2,-s/2,a,s),o&&(i.beginPath(),this.forEachControl(function(l,v,p){l.withConnection&&l.getVisibility(p,v)&&(d=!0,i.moveTo(l.x*a,l.y*s),i.lineTo(l.x*a+l.offsetX,l.y*s+l.offsetY))}),d&&i.stroke()),i.restore(),this},drawBordersInGroup:function(i,h,c){c=c||{};var r=t.util.sizeAfterTransform(this.width,this.height,h),a=this.strokeWidth,s=this.strokeUniform,o=this.borderScaleFactor,d=r.x+a*(s?this.canvas.getZoom():h.scaleX)+o,l=r.y+a*(s?this.canvas.getZoom():h.scaleY)+o;return i.save(),this._setLineDash(i,c.borderDashArray||this.borderDashArray),i.strokeStyle=c.borderColor||this.borderColor,i.strokeRect(-d/2,-l/2,d,l),i.restore(),this},drawControls:function(i,h){h=h||{},i.save();var c=1,r,a;return this.canvas&&(c=this.canvas.getRetinaScaling()),i.setTransform(c,0,0,c,0,0),i.strokeStyle=i.fillStyle=h.cornerColor||this.cornerColor,this.transparentCorners||(i.strokeStyle=h.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(i,h.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(r=this.group.calcTransformMatrix()),this.forEachControl(function(s,o,d){a=d.oCoords[o],s.getVisibility(d,o)&&(r&&(a=t.util.transformPoint(a,r)),s.render(i,a.x,a.y,h,d))}),i.restore(),this},isControlVisible:function(i){return this.controls[i]&&this.controls[i].getVisibility(this,i)},setControlVisible:function(i,h){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[i]=h,this},setControlsVisibility:function(i){i||(i={});for(var h in i)this.setControlVisible(h,i[h]);return this},onDeselect:function(){},onSelect:function(){}})}(),t.util.object.extend(t.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(u,i){i=i||{};var h=function(){},c=i.onComplete||h,r=i.onChange||h,a=this;return t.util.animate({target:this,startValue:u.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(s){u.set("left",s),a.requestRenderAll(),r()},onComplete:function(){u.setCoords(),c()}})},fxCenterObjectV:function(u,i){i=i||{};var h=function(){},c=i.onComplete||h,r=i.onChange||h,a=this;return t.util.animate({target:this,startValue:u.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(s){u.set("top",s),a.requestRenderAll(),r()},onComplete:function(){u.setCoords(),c()}})},fxRemove:function(u,i){i=i||{};var h=function(){},c=i.onComplete||h,r=i.onChange||h,a=this;return t.util.animate({target:this,startValue:u.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(s){u.set("opacity",s),a.requestRenderAll(),r()},onComplete:function(){a.remove(u),c()}})}}),t.util.object.extend(t.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var u=[],i,h,c=[];for(i in arguments[0])u.push(i);for(var r=0,a=u.length;r<a;r++)i=u[r],h=r!==a-1,c.push(this._animate(i,arguments[0][i],arguments[1],h));return c}else return this._animate.apply(this,arguments)},_animate:function(u,i,h,c){var r=this,a;i=i.toString(),h?h=t.util.object.clone(h):h={},~u.indexOf(".")&&(a=u.split("."));var s=r.colorProperties.indexOf(u)>-1||a&&r.colorProperties.indexOf(a[1])>-1,o=a?this.get(a[0])[a[1]]:this.get(u);"from"in h||(h.from=o),s||(~i.indexOf("=")?i=o+parseFloat(i.replace("=","")):i=parseFloat(i));var d={target:this,startValue:h.from,endValue:i,byValue:h.by,easing:h.easing,duration:h.duration,abort:h.abort&&function(l,v,p){return h.abort.call(r,l,v,p)},onChange:function(l,v,p){a?r[a[0]][a[1]]=l:r.set(u,l),!c&&h.onChange&&h.onChange(l,v,p)},onComplete:function(l,v,p){c||(r.setCoords(),h.onComplete&&h.onComplete(l,v,p))}};return s?t.util.animateColor(d.startValue,d.endValue,d.duration,d):t.util.animate(d)}}),function(u){var i=u.fabric||(u.fabric={}),h=i.util.object.extend,c=i.util.object.clone,r={x1:1,x2:1,y1:1,y2:1};if(i.Line){i.warn("fabric.Line is already defined");return}i.Line=i.util.createClass(i.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:i.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(s,o){s||(s=[0,0,0,0]),this.callSuper("initialize",o),this.set("x1",s[0]),this.set("y1",s[1]),this.set("x2",s[2]),this.set("y2",s[3]),this._setWidthHeight(o)},_setWidthHeight:function(s){s||(s={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in s?s.left:this._getLeftToOriginX(),this.top="top"in s?s.top:this._getTopToOriginY()},_set:function(s,o){return this.callSuper("_set",s,o),typeof r[s]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:a({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:a({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(s){s.beginPath();var o=this.calcLinePoints();s.moveTo(o.x1,o.y1),s.lineTo(o.x2,o.y2),s.lineWidth=this.strokeWidth;var d=s.strokeStyle;s.strokeStyle=this.stroke||s.fillStyle,this.stroke&&this._renderStroke(s),s.strokeStyle=d},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(s){return h(this.callSuper("toObject",s),this.calcLinePoints())},_getNonTransformedDimensions:function(){var s=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(s.y-=this.strokeWidth),this.height===0&&(s.x-=this.strokeWidth)),s},calcLinePoints:function(){var s=this.x1<=this.x2?-1:1,o=this.y1<=this.y2?-1:1,d=s*this.width*.5,l=o*this.height*.5,v=s*this.width*-.5,p=o*this.height*-.5;return{x1:d,x2:v,y1:l,y2:p}},_toSVG:function(){var s=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',s.x1,'" y1="',s.y1,'" x2="',s.x2,'" y2="',s.y2,`" />
`]}}),i.Line.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),i.Line.fromElement=function(s,o,d){d=d||{};var l=i.parseAttributes(s,i.Line.ATTRIBUTE_NAMES),v=[l.x1||0,l.y1||0,l.x2||0,l.y2||0];o(new i.Line(v,h(l,d)))},i.Line.fromObject=function(s,o){function d(v){delete v.points,o&&o(v)}var l=c(s,!0);l.points=[s.x1,s.y1,s.x2,s.y2],i.Object._fromObject("Line",l,d,"points")};function a(s,o){var d=s.origin,l=s.axis1,v=s.axis2,p=s.dimension,b=o.nearest,_=o.center,C=o.farthest;return function(){switch(this.get(d)){case b:return Math.min(this.get(l),this.get(v));case _:return Math.min(this.get(l),this.get(v))+.5*this.get(p);case C:return Math.max(this.get(l),this.get(v))}}}}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.util.degreesToRadians;if(i.Circle){i.warn("fabric.Circle is already defined.");return}i.Circle=i.util.createClass(i.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:i.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(r,a){return this.callSuper("_set",r,a),r==="radius"&&this.setRadius(a),this},toObject:function(r){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(r))},_toSVG:function(){var r,a=0,s=0,o=(this.endAngle-this.startAngle)%360;if(o===0)r=["<circle ","COMMON_PARTS",'cx="'+a+'" cy="'+s+'" ','r="',this.radius,`" />
`];else{var d=h(this.startAngle),l=h(this.endAngle),v=this.radius,p=i.util.cos(d)*v,b=i.util.sin(d)*v,_=i.util.cos(l)*v,C=i.util.sin(l)*v,S=o>180?"1":"0";r=['<path d="M '+p+" "+b," A "+v+" "+v," 0 ",+S+" 1"," "+_+" "+C,'" ',"COMMON_PARTS",` />
`]}return r},_render:function(r){r.beginPath(),r.arc(0,0,this.radius,h(this.startAngle),h(this.endAngle),!1),this._renderPaintInOrder(r)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(r){return this.radius=r,this.set("width",r*2).set("height",r*2)}}),i.Circle.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),i.Circle.fromElement=function(r,a){var s=i.parseAttributes(r,i.Circle.ATTRIBUTE_NAMES);if(!c(s))throw new Error("value of `r` attribute is required and can not be negative");s.left=(s.left||0)-s.radius,s.top=(s.top||0)-s.radius,a(new i.Circle(s))};function c(r){return"radius"in r&&r.radius>=0}i.Circle.fromObject=function(r,a){i.Object._fromObject("Circle",r,a)}}(e),function(u){var i=u.fabric||(u.fabric={});if(i.Triangle){i.warn("fabric.Triangle is already defined");return}i.Triangle=i.util.createClass(i.Object,{type:"triangle",width:100,height:100,_render:function(h){var c=this.width/2,r=this.height/2;h.beginPath(),h.moveTo(-c,r),h.lineTo(0,-r),h.lineTo(c,r),h.closePath(),this._renderPaintInOrder(h)},_toSVG:function(){var h=this.width/2,c=this.height/2,r=[-h+" "+c,"0 "+-c,h+" "+c].join(",");return["<polygon ","COMMON_PARTS",'points="',r,'" />']}}),i.Triangle.fromObject=function(h,c){return i.Object._fromObject("Triangle",h,c)}}(e),function(u){var i=u.fabric||(u.fabric={}),h=Math.PI*2;if(i.Ellipse){i.warn("fabric.Ellipse is already defined.");return}i.Ellipse=i.util.createClass(i.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:i.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(c){this.callSuper("initialize",c),this.set("rx",c&&c.rx||0),this.set("ry",c&&c.ry||0)},_set:function(c,r){switch(this.callSuper("_set",c,r),c){case"rx":this.rx=r,this.set("width",r*2);break;case"ry":this.ry=r,this.set("height",r*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(c){return this.callSuper("toObject",["rx","ry"].concat(c))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(c){c.beginPath(),c.save(),c.transform(1,0,0,this.ry/this.rx,0,0),c.arc(0,0,this.rx,0,h,!1),c.restore(),this._renderPaintInOrder(c)}}),i.Ellipse.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),i.Ellipse.fromElement=function(c,r){var a=i.parseAttributes(c,i.Ellipse.ATTRIBUTE_NAMES);a.left=(a.left||0)-a.rx,a.top=(a.top||0)-a.ry,r(new i.Ellipse(a))},i.Ellipse.fromObject=function(c,r){i.Object._fromObject("Ellipse",c,r)}}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.util.object.extend;if(i.Rect){i.warn("fabric.Rect is already defined");return}i.Rect=i.util.createClass(i.Object,{stateProperties:i.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:i.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(c){this.callSuper("initialize",c),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(c){var r=this.rx?Math.min(this.rx,this.width/2):0,a=this.ry?Math.min(this.ry,this.height/2):0,s=this.width,o=this.height,d=-this.width/2,l=-this.height/2,v=r!==0||a!==0,p=1-.5522847498;c.beginPath(),c.moveTo(d+r,l),c.lineTo(d+s-r,l),v&&c.bezierCurveTo(d+s-p*r,l,d+s,l+p*a,d+s,l+a),c.lineTo(d+s,l+o-a),v&&c.bezierCurveTo(d+s,l+o-p*a,d+s-p*r,l+o,d+s-r,l+o),c.lineTo(d+r,l+o),v&&c.bezierCurveTo(d+p*r,l+o,d,l+o-p*a,d,l+o-a),c.lineTo(d,l+a),v&&c.bezierCurveTo(d,l+p*a,d+p*r,l,d+r,l),c.closePath(),this._renderPaintInOrder(c)},toObject:function(c){return this.callSuper("toObject",["rx","ry"].concat(c))},_toSVG:function(){var c=-this.width/2,r=-this.height/2;return["<rect ","COMMON_PARTS",'x="',c,'" y="',r,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),i.Rect.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),i.Rect.fromElement=function(c,r,a){if(!c)return r(null);a=a||{};var s=i.parseAttributes(c,i.Rect.ATTRIBUTE_NAMES);s.left=s.left||0,s.top=s.top||0,s.height=s.height||0,s.width=s.width||0;var o=new i.Rect(h(a?i.util.object.clone(a):{},s));o.visible=o.visible&&o.width>0&&o.height>0,r(o)},i.Rect.fromObject=function(c,r){return i.Object._fromObject("Rect",c,r)}}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.util.object.extend,c=i.util.array.min,r=i.util.array.max,a=i.util.toFixed,s=i.util.projectStrokeOnPoints;if(i.Polyline){i.warn("fabric.Polyline is already defined");return}i.Polyline=i.util.createClass(i.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:i.Object.prototype.cacheProperties.concat("points"),initialize:function(o,d){d=d||{},this.points=o||[],this.callSuper("initialize",d),this._setPositionDimensions(d)},_projectStrokeOnPoints:function(){return s(this.points,this,!0)},_setPositionDimensions:function(o){var d=this._calcDimensions(o),l,v=this.exactBoundingBox?this.strokeWidth:0;this.width=d.width-v,this.height=d.height-v,o.fromSVG||(l=this.translateToGivenOrigin({x:d.left-this.strokeWidth/2+v/2,y:d.top-this.strokeWidth/2+v/2},"left","top",this.originX,this.originY)),typeof o.left>"u"&&(this.left=o.fromSVG?d.left:l.x),typeof o.top>"u"&&(this.top=o.fromSVG?d.top:l.y),this.pathOffset={x:d.left+this.width/2+v/2,y:d.top+this.height/2+v/2}},_calcDimensions:function(){var o=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,d=c(o,"x")||0,l=c(o,"y")||0,v=r(o,"x")||0,p=r(o,"y")||0,b=v-d,_=p-l;return{left:d,top:l,width:b,height:_}},toObject:function(o){return h(this.callSuper("toObject",o),{points:this.points.concat()})},_toSVG:function(){for(var o=[],d=this.pathOffset.x,l=this.pathOffset.y,v=i.Object.NUM_FRACTION_DIGITS,p=0,b=this.points.length;p<b;p++)o.push(a(this.points[p].x-d,v),",",a(this.points[p].y-l,v)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',o.join(""),`" />
`]},commonRender:function(o){var d,l=this.points.length,v=this.pathOffset.x,p=this.pathOffset.y;if(!l||isNaN(this.points[l-1].y))return!1;o.beginPath(),o.moveTo(this.points[0].x-v,this.points[0].y-p);for(var b=0;b<l;b++)d=this.points[b],o.lineTo(d.x-v,d.y-p);return!0},_render:function(o){this.commonRender(o)&&this._renderPaintInOrder(o)},complexity:function(){return this.get("points").length}}),i.Polyline.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(),i.Polyline.fromElementGenerator=function(o){return function(d,l,v){if(!d)return l(null);v||(v={});var p=i.parsePointsAttribute(d.getAttribute("points")),b=i.parseAttributes(d,i[o].ATTRIBUTE_NAMES);b.fromSVG=!0,l(new i[o](p,h(b,v)))}},i.Polyline.fromElement=i.Polyline.fromElementGenerator("Polyline"),i.Polyline.fromObject=function(o,d){return i.Object._fromObject("Polyline",o,d,"points")}}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.util.projectStrokeOnPoints;if(i.Polygon){i.warn("fabric.Polygon is already defined");return}i.Polygon=i.util.createClass(i.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return h(this.points,this)},_render:function(c){this.commonRender(c)&&(c.closePath(),this._renderPaintInOrder(c))}}),i.Polygon.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(),i.Polygon.fromElement=i.Polyline.fromElementGenerator("Polygon"),i.Polygon.fromObject=function(c,r){i.Object._fromObject("Polygon",c,r,"points")}}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.util.array.min,c=i.util.array.max,r=i.util.object.extend,a=i.util.object.clone,s=i.util.toFixed;if(i.Path){i.warn("fabric.Path is already defined");return}i.Path=i.util.createClass(i.Object,{type:"path",path:null,cacheProperties:i.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:i.Object.prototype.stateProperties.concat("path"),initialize:function(o,d){d=a(d||{}),delete d.path,this.callSuper("initialize",d),this._setPath(o||[],d)},_setPath:function(o,d){this.path=i.util.makePathSimpler(Array.isArray(o)?o:i.util.parsePath(o)),i.Polyline.prototype._setPositionDimensions.call(this,d||{})},_renderPathCommands:function(o){var d,l=0,v=0,p=0,b=0,_=0,C=0,S=-this.pathOffset.x,w=-this.pathOffset.y;o.beginPath();for(var x=0,A=this.path.length;x<A;++x)switch(d=this.path[x],d[0]){case"L":p=d[1],b=d[2],o.lineTo(p+S,b+w);break;case"M":p=d[1],b=d[2],l=p,v=b,o.moveTo(p+S,b+w);break;case"C":p=d[5],b=d[6],_=d[3],C=d[4],o.bezierCurveTo(d[1]+S,d[2]+w,_+S,C+w,p+S,b+w);break;case"Q":o.quadraticCurveTo(d[1]+S,d[2]+w,d[3]+S,d[4]+w),p=d[3],b=d[4],_=d[1],C=d[2];break;case"z":case"Z":p=l,b=v,o.closePath();break}},_render:function(o){this._renderPathCommands(o),this._renderPaintInOrder(o)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(o){return r(this.callSuper("toObject",o),{path:this.path.map(function(d){return d.slice()})})},toDatalessObject:function(o){var d=this.toObject(["sourcePath"].concat(o));return d.sourcePath&&delete d.path,d},_toSVG:function(){var o=i.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',o,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var o=i.Object.NUM_FRACTION_DIGITS;return" translate("+s(-this.pathOffset.x,o)+", "+s(-this.pathOffset.y,o)+")"},toClipPathSVG:function(o){var d=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:o,additionalTransform:d})},toSVG:function(o){var d=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:o,additionalTransform:d})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var o=[],d=[],l,v=0,p=0,b=0,_=0,C,S=0,w=this.path.length;S<w;++S){switch(l=this.path[S],l[0]){case"L":b=l[1],_=l[2],C=[];break;case"M":b=l[1],_=l[2],v=b,p=_,C=[];break;case"C":C=i.util.getBoundsOfCurve(b,_,l[1],l[2],l[3],l[4],l[5],l[6]),b=l[5],_=l[6];break;case"Q":C=i.util.getBoundsOfCurve(b,_,l[1],l[2],l[1],l[2],l[3],l[4]),b=l[3],_=l[4];break;case"z":case"Z":b=v,_=p;break}C.forEach(function($){o.push($.x),d.push($.y)}),o.push(b),d.push(_)}var x=h(o)||0,A=h(d)||0,V=c(o)||0,z=c(d)||0,R=V-x,G=z-A;return{left:x,top:A,width:R,height:G}}}),i.Path.fromObject=function(o,d){if(typeof o.sourcePath=="string"){var l=o.sourcePath;i.loadSVGFromURL(l,function(v){var p=v[0];p.setOptions(o),o.clipPath?i.util.enlivenObjects([o.clipPath],function(b){p.clipPath=b[0],d&&d(p)}):d&&d(p)})}else i.Object._fromObject("Path",o,d,"path")},i.Path.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(["d"]),i.Path.fromElement=function(o,d,l){var v=i.parseAttributes(o,i.Path.ATTRIBUTE_NAMES);v.fromSVG=!0,d(new i.Path(v.d,r(v,l)))}}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.util.array.min,c=i.util.array.max;i.Group||(i.Group=i.util.createClass(i.Object,i.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(r,a,s){a=a||{},this._objects=[],s&&this.callSuper("initialize",a),this._objects=r||[];for(var o=this._objects.length;o--;)this._objects[o].group=this;if(s)this._updateObjectsACoords();else{var d=a&&a.centerPoint;a.originX!==void 0&&(this.originX=a.originX),a.originY!==void 0&&(this.originY=a.originY),d||this._calcBounds(),this._updateObjectsCoords(d),delete a.centerPoint,this.callSuper("initialize",a)}this.setCoords()},_updateObjectsACoords:function(){for(var r=!0,a=this._objects.length;a--;)this._objects[a].setCoords(r)},_updateObjectsCoords:function(a){for(var a=a||this.getCenterPoint(),s=this._objects.length;s--;)this._updateObjectCoords(this._objects[s],a)},_updateObjectCoords:function(r,a){var s=r.left,o=r.top,d=!0;r.set({left:s-a.x,top:o-a.y}),r.group=this,r.setCoords(d)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(r){var a=!!this.group;return this._restoreObjectsState(),i.util.resetObjectTransform(this),r&&(a&&i.util.removeTransformFromObject(r,this.group.calcTransformMatrix()),this._objects.push(r),r.group=this,r._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,a?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(r){return this._restoreObjectsState(),i.util.resetObjectTransform(this),this.remove(r),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(r){this.dirty=!0,r.group=this,r._set("canvas",this.canvas)},_onObjectRemoved:function(r){this.dirty=!0,delete r.group},_set:function(r,a){var s=this._objects.length;if(this.useSetOnGroup)for(;s--;)this._objects[s].setOnGroup(r,a);if(r==="canvas")for(;s--;)this._objects[s]._set(r,a);i.Object.prototype._set.call(this,r,a)},toObject:function(r){var a=this.includeDefaultValues,s=this._objects.filter(function(d){return!d.excludeFromExport}).map(function(d){var l=d.includeDefaultValues;d.includeDefaultValues=a;var v=d.toObject(r);return d.includeDefaultValues=l,v}),o=i.Object.prototype.toObject.call(this,r);return o.objects=s,o},toDatalessObject:function(r){var a,s=this.sourcePath;if(s)a=s;else{var o=this.includeDefaultValues;a=this._objects.map(function(l){var v=l.includeDefaultValues;l.includeDefaultValues=o;var p=l.toDatalessObject(r);return l.includeDefaultValues=v,p})}var d=i.Object.prototype.toDatalessObject.call(this,r);return d.objects=a,d},render:function(r){this._transformDone=!0,this.callSuper("render",r),this._transformDone=!1},shouldCache:function(){var r=i.Object.prototype.shouldCache.call(this);if(r){for(var a=0,s=this._objects.length;a<s;a++)if(this._objects[a].willDrawShadow())return this.ownCaching=!1,!1}return r},willDrawShadow:function(){if(i.Object.prototype.willDrawShadow.call(this))return!0;for(var r=0,a=this._objects.length;r<a;r++)if(this._objects[r].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(r){for(var a=0,s=this._objects.length;a<s;a++)this._objects[a].render(r);this._drawClipPath(r,this.clipPath)},isCacheDirty:function(r){if(this.callSuper("isCacheDirty",r))return!0;if(!this.statefullCache)return!1;for(var a=0,s=this._objects.length;a<s;a++)if(this._objects[a].isCacheDirty(!0)){if(this._cacheCanvas){var o=this.cacheWidth/this.zoomX,d=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-o/2,-d/2,o,d)}return!0}return!1},_restoreObjectsState:function(){var r=this.calcOwnMatrix();return this._objects.forEach(function(a){i.util.addTransformToObject(a,r),delete a.group,a.setCoords()}),this},destroy:function(){return this._objects.forEach(function(r){r.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(r){r.dispose&&r.dispose()}),this._objects=[]},toActiveSelection:function(){if(this.canvas){var r=this._objects,a=this.canvas;this._objects=[];var s=this.toObject();delete s.objects;var o=new i.ActiveSelection([]);return o.set(s),o.type="activeSelection",a.remove(this),r.forEach(function(d){d.group=o,d.dirty=!0,a.add(d)}),o.canvas=a,o._objects=r,a._activeObject=o,o.setCoords(),o}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var r=!0;return this.forEachObject(function(a){a.setCoords(r)}),this},_calcBounds:function(r){for(var a=[],s=[],o,d,l,v=["tr","br","bl","tl"],p=0,b=this._objects.length,_,C=v.length;p<b;++p){for(o=this._objects[p],l=o.calcACoords(),_=0;_<C;_++)d=v[_],a.push(l[d].x),s.push(l[d].y);o.aCoords=l}this._getBounds(a,s,r)},_getBounds:function(r,a,s){var o=new i.Point(h(r),h(a)),d=new i.Point(c(r),c(a)),l=o.y||0,v=o.x||0,p=d.x-o.x||0,b=d.y-o.y||0;this.width=p,this.height=b,s||this.setPositionByOrigin({x:v,y:l},"left","top")},_toSVG:function(r){for(var a=["<g ","COMMON_PARTS",` >
`],s=0,o=this._objects.length;s<o;s++)a.push("		",this._objects[s].toSVG(r));return a.push(`</g>
`),a},getSvgStyles:function(){var r=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",a=this.visible?"":" visibility: hidden;";return[r,this.getSvgFilter(),a].join("")},toClipPathSVG:function(r){for(var a=[],s=0,o=this._objects.length;s<o;s++)a.push("	",this._objects[s].toClipPathSVG(r));return this._createBaseClipPathSVGMarkup(a,{reviver:r})}}),i.Group.fromObject=function(r,a){var s=r.objects,o=i.util.object.clone(r,!0);if(delete o.objects,typeof s=="string"){i.loadSVGFromURL(s,function(d){var l=i.util.groupSVGElements(d,r,s),v=o.clipPath;delete o.clipPath,l.set(o),v?i.util.enlivenObjects([v],function(p){l.clipPath=p[0],a&&a(l)}):a&&a(l)});return}i.util.enlivenObjects(s,function(d){i.util.enlivenObjectEnlivables(r,o,function(){a&&a(new i.Group(d,o,!0))})})})}(e),function(u){var i=u.fabric||(u.fabric={});i.ActiveSelection||(i.ActiveSelection=i.util.createClass(i.Group,{type:"activeSelection",initialize:function(h,c){c=c||{},this._objects=h||[];for(var r=this._objects.length;r--;)this._objects[r].group=this;c.originX&&(this.originX=c.originX),c.originY&&(this.originY=c.originY),this._calcBounds(),this._updateObjectsCoords(),i.Object.prototype.initialize.call(this,c),this.setCoords()},toGroup:function(){var h=this._objects.concat();this._objects=[];var c=i.Object.prototype.toObject.call(this),r=new i.Group([]);if(delete c.type,r.set(c),h.forEach(function(s){s.canvas.remove(s),s.group=r}),r._objects=h,!this.canvas)return r;var a=this.canvas;return a.add(r),a._activeObject=r,r.setCoords(),r},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(h,c,r){h.save(),h.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,r=r||{},typeof r.hasControls>"u"&&(r.hasControls=!1),r.forActiveSelection=!0;for(var a=0,s=this._objects.length;a<s;a++)this._objects[a]._renderControls(h,r);this.callSuper("_renderControls",h,c),h.restore()}}),i.ActiveSelection.fromObject=function(h,c){i.util.enlivenObjects(h.objects,function(r){delete h.objects,c&&c(new i.ActiveSelection(r,h,!0))})})}(e),function(u){var i=t.util.object.extend;if(u.fabric||(u.fabric={}),u.fabric.Image){t.warn("fabric.Image is already defined.");return}t.Image=t.util.createClass(t.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:t.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:t.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(h,c){c||(c={}),this.filters=[],this.cacheKey="texture"+t.Object.__uid++,this.callSuper("initialize",c),this._initElement(h,c)},getElement:function(){return this._element||{}},setElement:function(h,c){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=h,this._originalElement=h,this._initConfig(c),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(h){var c=t.filterBackend;c&&c.evictCachesForKey&&c.evictCachesForKey(h)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((function(h){t.util.cleanUpJsdomNode(this[h]),this[h]=void 0}).bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var h=this.getElement();return{width:h.naturalWidth||h.width,height:h.naturalHeight||h.height}},_stroke:function(h){if(!(!this.stroke||this.strokeWidth===0)){var c=this.width/2,r=this.height/2;h.beginPath(),h.moveTo(-c,-r),h.lineTo(c,-r),h.lineTo(c,r),h.lineTo(-c,r),h.lineTo(-c,-r),h.closePath()}},toObject:function(h){var c=[];this.filters.forEach(function(a){a&&c.push(a.toObject())});var r=i(this.callSuper("toObject",["cropX","cropY"].concat(h)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:c});return this.resizeFilter&&(r.resizeFilter=this.resizeFilter.toObject()),r},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var h=[],c=[],r,a=this._element,s=-this.width/2,o=-this.height/2,d="",l="";if(!a)return[];if(this.hasCrop()){var v=t.Object.__uid++;h.push('<clipPath id="imageCrop_'+v+`">
`,'	<rect x="'+s+'" y="'+o+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),d=' clip-path="url(#imageCrop_'+v+')" '}if(this.imageSmoothing||(l='" image-rendering="optimizeSpeed'),c.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',s-this.cropX,'" y="',o-this.cropY,'" width="',a.width||a.naturalWidth,'" height="',a.height||a.height,l,'"',d,`></image>
`),this.stroke||this.strokeDashArray){var p=this.fill;this.fill=null,r=["	<rect ",'x="',s,'" y="',o,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=p}return this.paintFirst!=="fill"?h=h.concat(r,c):h=h.concat(c,r),h},getSrc:function(h){var c=h?this._element:this._originalElement;return c?c.toDataURL?c.toDataURL():this.srcFromAttribute?c.getAttribute("src"):c.src:this.src||""},setSrc:function(h,c,r){return t.util.loadImage(h,function(a,s){this.setElement(a,r),this._setWidthHeight(),c&&c(this,s)},this,r&&r.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var h=this.resizeFilter,c=this.minimumScaleTrigger,r=this.getTotalObjectScaling(),a=r.scaleX,s=r.scaleY,o=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!h||a>c&&s>c){this._element=o,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=a,this._lastScaleY=s;return}t.filterBackend||(t.filterBackend=t.initFilterBackend());var d=t.util.createCanvasElement(),l=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,v=o.width,p=o.height;d.width=v,d.height=p,this._element=d,this._lastScaleX=h.scaleX=a,this._lastScaleY=h.scaleY=s,t.filterBackend.applyFilters([h],o,v,p,this._element,l),this._filterScalingX=d.width/this._originalElement.width,this._filterScalingY=d.height/this._originalElement.height},applyFilters:function(h){if(h=h||this.filters||[],h=h.filter(function(o){return o&&!o.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),h.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var c=this._originalElement,r=c.naturalWidth||c.width,a=c.naturalHeight||c.height;if(this._element===this._originalElement){var s=t.util.createCanvasElement();s.width=r,s.height=a,this._element=s,this._filteredEl=s}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,r,a),this._lastScaleX=1,this._lastScaleY=1;return t.filterBackend||(t.filterBackend=t.initFilterBackend()),t.filterBackend.applyFilters(h,this._originalElement,r,a,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(h){t.util.setImageSmoothing(h,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(h),this._renderPaintInOrder(h)},drawCacheOnCanvas:function(h){t.util.setImageSmoothing(h,this.imageSmoothing),t.Object.prototype.drawCacheOnCanvas.call(this,h)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(h){var c=this._element;if(c){var r=this._filterScalingX,a=this._filterScalingY,s=this.width,o=this.height,d=Math.min,l=Math.max,v=l(this.cropX,0),p=l(this.cropY,0),b=c.naturalWidth||c.width,_=c.naturalHeight||c.height,C=v*r,S=p*a,w=d(s*r,b-C),x=d(o*a,_-S),A=-s/2,V=-o/2,z=d(s,b/r-v),R=d(o,_/a-p);c&&h.drawImage(c,C,S,w,x,A,V,z,R)}},_needsResize:function(){var h=this.getTotalObjectScaling();return h.scaleX!==this._lastScaleX||h.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(h,c){this.setElement(t.util.getById(h),c),t.util.addClass(this.getElement(),t.Image.CSS_CANVAS)},_initConfig:function(h){h||(h={}),this.setOptions(h),this._setWidthHeight(h)},_initFilters:function(h,c){h&&h.length?t.util.enlivenObjects(h,function(r){c&&c(r)},"fabric.Image.filters"):c&&c()},_setWidthHeight:function(h){h||(h={});var c=this.getElement();this.width=h.width||c.naturalWidth||c.width||0,this.height=h.height||c.naturalHeight||c.height||0},parsePreserveAspectRatioAttribute:function(){var h=t.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),c=this._element.width,r=this._element.height,a=1,s=1,o=0,d=0,l=0,v=0,p,b=this.width,_=this.height,C={width:b,height:_};return h&&(h.alignX!=="none"||h.alignY!=="none")?(h.meetOrSlice==="meet"&&(a=s=t.util.findScaleToFit(this._element,C),p=(b-c*a)/2,h.alignX==="Min"&&(o=-p),h.alignX==="Max"&&(o=p),p=(_-r*s)/2,h.alignY==="Min"&&(d=-p),h.alignY==="Max"&&(d=p)),h.meetOrSlice==="slice"&&(a=s=t.util.findScaleToCover(this._element,C),p=c-b/a,h.alignX==="Mid"&&(l=p/2),h.alignX==="Max"&&(l=p),p=r-_/s,h.alignY==="Mid"&&(v=p/2),h.alignY==="Max"&&(v=p),c=b/a,r=_/s)):(a=b/c,s=_/r),{width:c,height:r,scaleX:a,scaleY:s,offsetLeft:o,offsetTop:d,cropX:l,cropY:v}}}),t.Image.CSS_CANVAS="canvas-img",t.Image.prototype.getSvgSrc=t.Image.prototype.getSrc,t.Image.fromObject=function(h,c){var r=t.util.object.clone(h);t.util.loadImage(r.src,function(a,s){if(s){c&&c(null,!0);return}t.Image.prototype._initFilters.call(r,r.filters,function(o){r.filters=o||[],t.Image.prototype._initFilters.call(r,[r.resizeFilter],function(d){r.resizeFilter=d[0],t.util.enlivenObjectEnlivables(r,r,function(){var l=new t.Image(a,r);c(l,!1)})})})},null,r.crossOrigin)},t.Image.fromURL=function(h,c,r){t.util.loadImage(h,function(a,s){c&&c(new t.Image(a,r),s)},null,r&&r.crossOrigin)},t.Image.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),t.Image.fromElement=function(h,c,r){var a=t.parseAttributes(h,t.Image.ATTRIBUTE_NAMES);t.Image.fromURL(a["xlink:href"],c,i(r?t.util.object.clone(r):{},a))}}(e),t.util.object.extend(t.Object.prototype,{_getAngleValueForStraighten:function(){var u=this.angle%360;return u>0?Math.round((u-1)/90)*90:Math.round(u/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(u){u=u||{};var i=function(){},h=u.onComplete||i,c=u.onChange||i,r=this;return t.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(a){r.rotate(a),c()},onComplete:function(){r.setCoords(),h()}})}}),t.util.object.extend(t.StaticCanvas.prototype,{straightenObject:function(u){return u.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(u){return u.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function u(h,c){var r="precision "+c+` float;
void main(){}`,a=h.createShader(h.FRAGMENT_SHADER);return h.shaderSource(a,r),h.compileShader(a),!!h.getShaderParameter(a,h.COMPILE_STATUS)}t.isWebglSupported=function(h){if(t.isLikelyNode)return!1;h=h||t.WebglFilterBackend.prototype.tileSize;var c=document.createElement("canvas"),r=c.getContext("webgl")||c.getContext("experimental-webgl"),a=!1;if(r){t.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),a=t.maxTextureSize>=h;for(var s=["highp","mediump","lowp"],o=0;o<3;o++)if(u(r,s[o])){t.webGlPrecision=s[o];break}}return this.isSupported=a,a},t.WebglFilterBackend=i;function i(h){h&&h.tileSize&&(this.tileSize=h.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}i.prototype={tileSize:2048,resources:{},setupGLContext:function(h,c){this.dispose(),this.createWebGLCanvas(h,c),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(h,c)},chooseFastestCopyGLTo2DMethod:function(h,c){var r=typeof window.performance<"u",a;try{new ImageData(1,1),a=!0}catch{a=!1}var s=typeof ArrayBuffer<"u",o=typeof Uint8ClampedArray<"u";if(r&&a&&s&&o){var d=t.util.createCanvasElement(),l=new ArrayBuffer(h*c*4);if(t.forceGLPutImageData){this.imageBuffer=l,this.copyGLTo2D=y;return}var v={imageBuffer:l,destinationWidth:h,destinationHeight:c,targetCanvas:d},p,b,_;d.width=h,d.height=c,p=window.performance.now(),m.call(v,this.gl,v),b=window.performance.now()-p,p=window.performance.now(),y.call(v,this.gl,v),_=window.performance.now()-p,b>_?(this.imageBuffer=l,this.copyGLTo2D=y):this.copyGLTo2D=m}},createWebGLCanvas:function(h,c){var r=t.util.createCanvasElement();r.width=h,r.height=c;var a={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},s=r.getContext("webgl",a);s||(s=r.getContext("experimental-webgl",a)),s&&(s.clearColor(0,0,0,0),this.canvas=r,this.gl=s)},applyFilters:function(h,c,r,a,s,o){var d=this.gl,l;o&&(l=this.getCachedTexture(o,c));var v={originalWidth:c.width||c.originalWidth,originalHeight:c.height||c.originalHeight,sourceWidth:r,sourceHeight:a,destinationWidth:r,destinationHeight:a,context:d,sourceTexture:this.createTexture(d,r,a,!l&&c),targetTexture:this.createTexture(d,r,a),originalTexture:l||this.createTexture(d,r,a,!l&&c),passes:h.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:s},p=d.createFramebuffer();return d.bindFramebuffer(d.FRAMEBUFFER,p),h.forEach(function(b){b&&b.applyTo(v)}),g(v),this.copyGLTo2D(d,v),d.bindTexture(d.TEXTURE_2D,null),d.deleteTexture(v.sourceTexture),d.deleteTexture(v.targetTexture),d.deleteFramebuffer(p),s.getContext("2d").setTransform(1,0,0,1,0,0),v},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(h,c,r,a,s){var o=h.createTexture();return h.bindTexture(h.TEXTURE_2D,o),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,s||h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,s||h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),a?h.texImage2D(h.TEXTURE_2D,0,h.RGBA,h.RGBA,h.UNSIGNED_BYTE,a):h.texImage2D(h.TEXTURE_2D,0,h.RGBA,c,r,0,h.RGBA,h.UNSIGNED_BYTE,null),o},getCachedTexture:function(h,c){if(this.textureCache[h])return this.textureCache[h];var r=this.createTexture(this.gl,c.width,c.height,c);return this.textureCache[h]=r,r},evictCachesForKey:function(h){this.textureCache[h]&&(this.gl.deleteTexture(this.textureCache[h]),delete this.textureCache[h])},copyGLTo2D:m,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var h=this.gl,c={renderer:"",vendor:""};if(!h)return c;var r=h.getExtension("WEBGL_debug_renderer_info");if(r){var a=h.getParameter(r.UNMASKED_RENDERER_WEBGL),s=h.getParameter(r.UNMASKED_VENDOR_WEBGL);a&&(c.renderer=a.toLowerCase()),s&&(c.vendor=s.toLowerCase())}return this.gpuInfo=c,c}}}();function g(u){var i=u.targetCanvas,h=i.width,c=i.height,r=u.destinationWidth,a=u.destinationHeight;(h!==r||c!==a)&&(i.width=r,i.height=a)}function m(u,i){var h=u.canvas,c=i.targetCanvas,r=c.getContext("2d");r.translate(0,c.height),r.scale(1,-1);var a=h.height-c.height;r.drawImage(h,0,a,c.width,c.height,0,0,c.width,c.height)}function y(u,i){var h=i.targetCanvas,c=h.getContext("2d"),r=i.destinationWidth,a=i.destinationHeight,s=r*a*4,o=new Uint8Array(this.imageBuffer,0,s),d=new Uint8ClampedArray(this.imageBuffer,0,s);u.readPixels(0,0,r,a,u.RGBA,u.UNSIGNED_BYTE,o);var l=new ImageData(d,r,a);c.putImageData(l,0,0)}(function(){var u=function(){};t.Canvas2dFilterBackend=i;function i(){}i.prototype={evictCachesForKey:u,dispose:u,clearWebGLCaches:u,resources:{},applyFilters:function(h,c,r,a,s){var o=s.getContext("2d");o.drawImage(c,0,0,r,a);var d=o.getImageData(0,0,r,a),l=o.getImageData(0,0,r,a),v={sourceWidth:r,sourceHeight:a,imageData:d,originalEl:c,originalImageData:l,canvasEl:s,ctx:o,filterBackend:this};return h.forEach(function(p){p.applyTo(v)}),(v.imageData.width!==r||v.imageData.height!==a)&&(s.width=v.imageData.width,s.height=v.imageData.height),o.putImageData(v.imageData,0,0),v}}})(),t.Image=t.Image||{},t.Image.filters=t.Image.filters||{},t.Image.filters.BaseFilter=t.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(u){u&&this.setOptions(u)},setOptions:function(u){for(var i in u)this[i]=u[i]},createProgram:function(u,i,h){i=i||this.fragmentSource,h=h||this.vertexSource,t.webGlPrecision!=="highp"&&(i=i.replace(/precision highp float/g,"precision "+t.webGlPrecision+" float"));var c=u.createShader(u.VERTEX_SHADER);if(u.shaderSource(c,h),u.compileShader(c),!u.getShaderParameter(c,u.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+u.getShaderInfoLog(c));var r=u.createShader(u.FRAGMENT_SHADER);if(u.shaderSource(r,i),u.compileShader(r),!u.getShaderParameter(r,u.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+u.getShaderInfoLog(r));var a=u.createProgram();if(u.attachShader(a,c),u.attachShader(a,r),u.linkProgram(a),!u.getProgramParameter(a,u.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+u.getProgramInfoLog(a));var s=this.getAttributeLocations(u,a),o=this.getUniformLocations(u,a)||{};return o.uStepW=u.getUniformLocation(a,"uStepW"),o.uStepH=u.getUniformLocation(a,"uStepH"),{program:a,attributeLocations:s,uniformLocations:o}},getAttributeLocations:function(u,i){return{aPosition:u.getAttribLocation(i,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(u,i,h){var c=i.aPosition,r=u.createBuffer();u.bindBuffer(u.ARRAY_BUFFER,r),u.enableVertexAttribArray(c),u.vertexAttribPointer(c,2,u.FLOAT,!1,0,0),u.bufferData(u.ARRAY_BUFFER,h,u.STATIC_DRAW)},_setupFrameBuffer:function(u){var i=u.context,h,c;u.passes>1?(h=u.destinationWidth,c=u.destinationHeight,(u.sourceWidth!==h||u.sourceHeight!==c)&&(i.deleteTexture(u.targetTexture),u.targetTexture=u.filterBackend.createTexture(i,h,c)),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,u.targetTexture,0)):(i.bindFramebuffer(i.FRAMEBUFFER,null),i.finish())},_swapTextures:function(u){u.passes--,u.pass++;var i=u.targetTexture;u.targetTexture=u.sourceTexture,u.sourceTexture=i},isNeutralState:function(){var u=this.mainParameter,i=t.Image.filters[this.type].prototype;if(u)if(Array.isArray(i[u])){for(var h=i[u].length;h--;)if(this[u][h]!==i[u][h])return!1;return!0}else return i[u]===this[u];else return!1},applyTo:function(u){u.webgl?(this._setupFrameBuffer(u),this.applyToWebGL(u),this._swapTextures(u)):this.applyTo2d(u)},retrieveShader:function(u){return u.programCache.hasOwnProperty(this.type)||(u.programCache[this.type]=this.createProgram(u.context)),u.programCache[this.type]},applyToWebGL:function(u){var i=u.context,h=this.retrieveShader(u);u.pass===0&&u.originalTexture?i.bindTexture(i.TEXTURE_2D,u.originalTexture):i.bindTexture(i.TEXTURE_2D,u.sourceTexture),i.useProgram(h.program),this.sendAttributeData(i,h.attributeLocations,u.aPosition),i.uniform1f(h.uniformLocations.uStepW,1/u.sourceWidth),i.uniform1f(h.uniformLocations.uStepH,1/u.sourceHeight),this.sendUniformData(i,h.uniformLocations),i.viewport(0,0,u.destinationWidth,u.destinationHeight),i.drawArrays(i.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(u,i,h){u.activeTexture(h),u.bindTexture(u.TEXTURE_2D,i),u.activeTexture(u.TEXTURE0)},unbindAdditionalTexture:function(u,i){u.activeTexture(i),u.bindTexture(u.TEXTURE_2D,null),u.activeTexture(u.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(u){this[this.mainParameter]=u},sendUniformData:function(){},createHelpLayer:function(u){if(!u.helpLayer){var i=document.createElement("canvas");i.width=u.sourceWidth,i.height=u.sourceHeight,u.helpLayer=i}},toObject:function(){var u={type:this.type},i=this.mainParameter;return i&&(u[i]=this[i]),u},toJSON:function(){return this.toObject()}}),t.Image.filters.BaseFilter.fromObject=function(u,i){var h=new t.Image.filters[u.type](u);return i&&i(h),h},function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,c=i.util.createClass;h.ColorMatrix=c(h.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(r){this.callSuper("initialize",r),this.matrix=this.matrix.slice(0)},applyTo2d:function(r){var a=r.imageData,s=a.data,o=s.length,d=this.matrix,l,v,p,b,_,C=this.colorsOnly;for(_=0;_<o;_+=4)l=s[_],v=s[_+1],p=s[_+2],C?(s[_]=l*d[0]+v*d[1]+p*d[2]+d[4]*255,s[_+1]=l*d[5]+v*d[6]+p*d[7]+d[9]*255,s[_+2]=l*d[10]+v*d[11]+p*d[12]+d[14]*255):(b=s[_+3],s[_]=l*d[0]+v*d[1]+p*d[2]+b*d[3]+d[4]*255,s[_+1]=l*d[5]+v*d[6]+p*d[7]+b*d[8]+d[9]*255,s[_+2]=l*d[10]+v*d[11]+p*d[12]+b*d[13]+d[14]*255,s[_+3]=l*d[15]+v*d[16]+p*d[17]+b*d[18]+d[19]*255)},getUniformLocations:function(r,a){return{uColorMatrix:r.getUniformLocation(a,"uColorMatrix"),uConstants:r.getUniformLocation(a,"uConstants")}},sendUniformData:function(r,a){var s=this.matrix,o=[s[0],s[1],s[2],s[3],s[5],s[6],s[7],s[8],s[10],s[11],s[12],s[13],s[15],s[16],s[17],s[18]],d=[s[4],s[9],s[14],s[19]];r.uniformMatrix4fv(a.uColorMatrix,!1,o),r.uniform4fv(a.uConstants,d)}}),i.Image.filters.ColorMatrix.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,c=i.util.createClass;h.Brightness=c(h.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(r){if(this.brightness!==0){var a=r.imageData,s=a.data,o,d=s.length,l=Math.round(this.brightness*255);for(o=0;o<d;o+=4)s[o]=s[o]+l,s[o+1]=s[o+1]+l,s[o+2]=s[o+2]+l}},getUniformLocations:function(r,a){return{uBrightness:r.getUniformLocation(a,"uBrightness")}},sendUniformData:function(r,a){r.uniform1f(a.uBrightness,this.brightness)}}),i.Image.filters.Brightness.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.util.object.extend,c=i.Image.filters,r=i.util.createClass;c.Convolute=r(c.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(a){var s=Math.sqrt(this.matrix.length),o=this.type+"_"+s+"_"+(this.opaque?1:0),d=this.fragmentSource[o];return a.programCache.hasOwnProperty(o)||(a.programCache[o]=this.createProgram(a.context,d)),a.programCache[o]},applyTo2d:function(a){var s=a.imageData,o=s.data,d=this.matrix,l=Math.round(Math.sqrt(d.length)),v=Math.floor(l/2),p=s.width,b=s.height,_=a.ctx.createImageData(p,b),C=_.data,S=this.opaque?1:0,w,x,A,V,z,R,G,$,ee,ne,re,ie,O;for(re=0;re<b;re++)for(ne=0;ne<p;ne++){for(z=(re*p+ne)*4,w=0,x=0,A=0,V=0,O=0;O<l;O++)for(ie=0;ie<l;ie++)G=re+O-v,R=ne+ie-v,!(G<0||G>=b||R<0||R>=p)&&($=(G*p+R)*4,ee=d[O*l+ie],w+=o[$]*ee,x+=o[$+1]*ee,A+=o[$+2]*ee,S||(V+=o[$+3]*ee));C[z]=w,C[z+1]=x,C[z+2]=A,S?C[z+3]=o[z+3]:C[z+3]=V}a.imageData=_},getUniformLocations:function(a,s){return{uMatrix:a.getUniformLocation(s,"uMatrix"),uOpaque:a.getUniformLocation(s,"uOpaque"),uHalfSize:a.getUniformLocation(s,"uHalfSize"),uSize:a.getUniformLocation(s,"uSize")}},sendUniformData:function(a,s){a.uniform1fv(s.uMatrix,this.matrix)},toObject:function(){return h(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),i.Image.filters.Convolute.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,c=i.util.createClass;h.Grayscale=c(h.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(r){var a=r.imageData,s=a.data,o,d=s.length,l,v=this.mode;for(o=0;o<d;o+=4)v==="average"?l=(s[o]+s[o+1]+s[o+2])/3:v==="lightness"?l=(Math.min(s[o],s[o+1],s[o+2])+Math.max(s[o],s[o+1],s[o+2]))/2:v==="luminosity"&&(l=.21*s[o]+.72*s[o+1]+.07*s[o+2]),s[o]=l,s[o+1]=l,s[o+2]=l},retrieveShader:function(r){var a=this.type+"_"+this.mode;if(!r.programCache.hasOwnProperty(a)){var s=this.fragmentSource[this.mode];r.programCache[a]=this.createProgram(r.context,s)}return r.programCache[a]},getUniformLocations:function(r,a){return{uMode:r.getUniformLocation(a,"uMode")}},sendUniformData:function(r,a){var s=1;r.uniform1i(a.uMode,s)},isNeutralState:function(){return!1}}),i.Image.filters.Grayscale.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,c=i.util.createClass;h.Invert=c(h.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(r){var a=r.imageData,s=a.data,o,d=s.length;for(o=0;o<d;o+=4)s[o]=255-s[o],s[o+1]=255-s[o+1],s[o+2]=255-s[o+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(r,a){return{uInvert:r.getUniformLocation(a,"uInvert")}},sendUniformData:function(r,a){r.uniform1i(a.uInvert,this.invert)}}),i.Image.filters.Invert.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.util.object.extend,c=i.Image.filters,r=i.util.createClass;c.Noise=r(c.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(a){if(this.noise!==0){var s=a.imageData,o=s.data,d,l=o.length,v=this.noise,p;for(d=0,l=o.length;d<l;d+=4)p=(.5-Math.random())*v,o[d]+=p,o[d+1]+=p,o[d+2]+=p}},getUniformLocations:function(a,s){return{uNoise:a.getUniformLocation(s,"uNoise"),uSeed:a.getUniformLocation(s,"uSeed")}},sendUniformData:function(a,s){a.uniform1f(s.uNoise,this.noise/255),a.uniform1f(s.uSeed,Math.random())},toObject:function(){return h(this.callSuper("toObject"),{noise:this.noise})}}),i.Image.filters.Noise.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,c=i.util.createClass;h.Pixelate=c(h.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(r){var a=r.imageData,s=a.data,o=a.height,d=a.width,l,v,p,b,_,C,S,w,x,A,V;for(v=0;v<o;v+=this.blocksize)for(p=0;p<d;p+=this.blocksize)for(l=v*4*d+p*4,b=s[l],_=s[l+1],C=s[l+2],S=s[l+3],A=Math.min(v+this.blocksize,o),V=Math.min(p+this.blocksize,d),w=v;w<A;w++)for(x=p;x<V;x++)l=w*4*d+x*4,s[l]=b,s[l+1]=_,s[l+2]=C,s[l+3]=S},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(r,a){return{uBlocksize:r.getUniformLocation(a,"uBlocksize"),uStepW:r.getUniformLocation(a,"uStepW"),uStepH:r.getUniformLocation(a,"uStepH")}},sendUniformData:function(r,a){r.uniform1f(a.uBlocksize,this.blocksize)}}),i.Image.filters.Pixelate.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.util.object.extend,c=i.Image.filters,r=i.util.createClass;c.RemoveColor=r(c.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(a){var s=a.imageData,o=s.data,d,l=this.distance*255,v,p,b,_=new i.Color(this.color).getSource(),C=[_[0]-l,_[1]-l,_[2]-l],S=[_[0]+l,_[1]+l,_[2]+l];for(d=0;d<o.length;d+=4)v=o[d],p=o[d+1],b=o[d+2],v>C[0]&&p>C[1]&&b>C[2]&&v<S[0]&&p<S[1]&&b<S[2]&&(o[d+3]=0)},getUniformLocations:function(a,s){return{uLow:a.getUniformLocation(s,"uLow"),uHigh:a.getUniformLocation(s,"uHigh")}},sendUniformData:function(a,s){var o=new i.Color(this.color).getSource(),d=parseFloat(this.distance),l=[0+o[0]/255-d,0+o[1]/255-d,0+o[2]/255-d,1],v=[o[0]/255+d,o[1]/255+d,o[2]/255+d,1];a.uniform4fv(s.uLow,l),a.uniform4fv(s.uHigh,v)},toObject:function(){return h(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),i.Image.filters.RemoveColor.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,c=i.util.createClass,r={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var a in r)h[a]=c(h.ColorMatrix,{type:a,matrix:r[a],mainParameter:!1,colorsOnly:!0}),i.Image.filters[a].fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric,h=i.Image.filters,c=i.util.createClass;h.BlendColor=c(h.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(r){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[r]+`}
}`},retrieveShader:function(r){var a=this.type+"_"+this.mode,s;return r.programCache.hasOwnProperty(a)||(s=this.buildSource(this.mode),r.programCache[a]=this.createProgram(r.context,s)),r.programCache[a]},applyTo2d:function(r){var a=r.imageData,s=a.data,o=s.length,d,l,v,p,b,_,C,S=1-this.alpha;C=new i.Color(this.color).getSource(),d=C[0]*this.alpha,l=C[1]*this.alpha,v=C[2]*this.alpha;for(var w=0;w<o;w+=4)switch(p=s[w],b=s[w+1],_=s[w+2],this.mode){case"multiply":s[w]=p*d/255,s[w+1]=b*l/255,s[w+2]=_*v/255;break;case"screen":s[w]=255-(255-p)*(255-d)/255,s[w+1]=255-(255-b)*(255-l)/255,s[w+2]=255-(255-_)*(255-v)/255;break;case"add":s[w]=p+d,s[w+1]=b+l,s[w+2]=_+v;break;case"diff":case"difference":s[w]=Math.abs(p-d),s[w+1]=Math.abs(b-l),s[w+2]=Math.abs(_-v);break;case"subtract":s[w]=p-d,s[w+1]=b-l,s[w+2]=_-v;break;case"darken":s[w]=Math.min(p,d),s[w+1]=Math.min(b,l),s[w+2]=Math.min(_,v);break;case"lighten":s[w]=Math.max(p,d),s[w+1]=Math.max(b,l),s[w+2]=Math.max(_,v);break;case"overlay":s[w]=d<128?2*p*d/255:255-2*(255-p)*(255-d)/255,s[w+1]=l<128?2*b*l/255:255-2*(255-b)*(255-l)/255,s[w+2]=v<128?2*_*v/255:255-2*(255-_)*(255-v)/255;break;case"exclusion":s[w]=d+p-2*d*p/255,s[w+1]=l+b-2*l*b/255,s[w+2]=v+_-2*v*_/255;break;case"tint":s[w]=d+p*S,s[w+1]=l+b*S,s[w+2]=v+_*S}},getUniformLocations:function(r,a){return{uColor:r.getUniformLocation(a,"uColor")}},sendUniformData:function(r,a){var s=new i.Color(this.color).getSource();s[0]=this.alpha*s[0]/255,s[1]=this.alpha*s[1]/255,s[2]=this.alpha*s[2]/255,s[3]=this.alpha,r.uniform4fv(a.uColor,s)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),i.Image.filters.BlendColor.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric,h=i.Image.filters,c=i.util.createClass;h.BlendImage=c(h.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(r){var a=this.type+"_"+this.mode,s=this.fragmentSource[this.mode];return r.programCache.hasOwnProperty(a)||(r.programCache[a]=this.createProgram(r.context,s)),r.programCache[a]},applyToWebGL:function(r){var a=r.context,s=this.createTexture(r.filterBackend,this.image);this.bindAdditionalTexture(a,s,a.TEXTURE1),this.callSuper("applyToWebGL",r),this.unbindAdditionalTexture(a,a.TEXTURE1)},createTexture:function(r,a){return r.getCachedTexture(a.cacheKey,a._element)},calculateMatrix:function(){var r=this.image,a=r._element.width,s=r._element.height;return[1/r.scaleX,0,0,0,1/r.scaleY,0,-r.left/a,-r.top/s,1]},applyTo2d:function(r){var a=r.imageData,s=r.filterBackend.resources,o=a.data,d=o.length,l=a.width,v=a.height,p,b,_,C,S,w,x,A,V,z,R=this.image,G;s.blendImage||(s.blendImage=i.util.createCanvasElement()),V=s.blendImage,z=V.getContext("2d"),V.width!==l||V.height!==v?(V.width=l,V.height=v):z.clearRect(0,0,l,v),z.setTransform(R.scaleX,0,0,R.scaleY,R.left,R.top),z.drawImage(R._element,0,0,l,v),G=z.getImageData(0,0,l,v).data;for(var $=0;$<d;$+=4)switch(S=o[$],w=o[$+1],x=o[$+2],A=o[$+3],p=G[$],b=G[$+1],_=G[$+2],C=G[$+3],this.mode){case"multiply":o[$]=S*p/255,o[$+1]=w*b/255,o[$+2]=x*_/255,o[$+3]=A*C/255;break;case"mask":o[$+3]=C;break}},getUniformLocations:function(r,a){return{uTransformMatrix:r.getUniformLocation(a,"uTransformMatrix"),uImage:r.getUniformLocation(a,"uImage")}},sendUniformData:function(r,a){var s=this.calculateMatrix();r.uniform1i(a.uImage,1),r.uniformMatrix3fv(a.uTransformMatrix,!1,s)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),i.Image.filters.BlendImage.fromObject=function(r,a){i.Image.fromObject(r.image,function(s){var o=i.util.object.clone(r);o.image=s,a(new i.Image.filters.BlendImage(o))})}}(e),function(u){var i=u.fabric||(u.fabric={}),h=Math.pow,c=Math.floor,r=Math.sqrt,a=Math.abs,s=Math.round,o=Math.sin,d=Math.ceil,l=i.Image.filters,v=i.util.createClass;l.Resize=v(l.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(p,b){return{uDelta:p.getUniformLocation(b,"uDelta"),uTaps:p.getUniformLocation(b,"uTaps")}},sendUniformData:function(p,b){p.uniform2fv(b.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),p.uniform1fv(b.uTaps,this.taps)},retrieveShader:function(p){var b=this.getFilterWindow(),_=this.type+"_"+b;if(!p.programCache.hasOwnProperty(_)){var C=this.generateShader(b);p.programCache[_]=this.createProgram(p.context,C)}return p.programCache[_]},getFilterWindow:function(){var p=this.tempScale;return Math.ceil(this.lanczosLobes/p)},getTaps:function(){for(var p=this.lanczosCreate(this.lanczosLobes),b=this.tempScale,_=this.getFilterWindow(),C=new Array(_),S=1;S<=_;S++)C[S-1]=p(S*b);return C},generateShader:function(C){for(var b=new Array(C),_=this.fragmentSourceTOP,C,S=1;S<=C;S++)b[S-1]=S+".0 * uDelta";return _+="uniform float uTaps["+C+`];
`,_+=`void main() {
`,_+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,_+=`  float sum = 1.0;
`,b.forEach(function(w,x){_+="  color += texture2D(uTexture, vTexCoord + "+w+") * uTaps["+x+`];
`,_+="  color += texture2D(uTexture, vTexCoord - "+w+") * uTaps["+x+`];
`,_+="  sum += 2.0 * uTaps["+x+`];
`}),_+=`  gl_FragColor = color / sum;
`,_+="}",_},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(p){p.webgl?(p.passes++,this.width=p.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=p.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),p.destinationWidth=this.dW,this._setupFrameBuffer(p),this.applyToWebGL(p),this._swapTextures(p),p.sourceWidth=p.destinationWidth,this.height=p.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),p.destinationHeight=this.dH,this._setupFrameBuffer(p),this.applyToWebGL(p),this._swapTextures(p),p.sourceHeight=p.destinationHeight):this.applyTo2d(p)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(p){return function(b){if(b>=p||b<=-p)return 0;if(b<11920929e-14&&b>-11920929e-14)return 1;b*=Math.PI;var _=b/p;return o(b)/b*o(_)/_}},applyTo2d:function(p){var b=p.imageData,_=this.scaleX,C=this.scaleY;this.rcpScaleX=1/_,this.rcpScaleY=1/C;var S=b.width,w=b.height,x=s(S*_),A=s(w*C),V;this.resizeType==="sliceHack"?V=this.sliceByTwo(p,S,w,x,A):this.resizeType==="hermite"?V=this.hermiteFastResize(p,S,w,x,A):this.resizeType==="bilinear"?V=this.bilinearFiltering(p,S,w,x,A):this.resizeType==="lanczos"&&(V=this.lanczosResize(p,S,w,x,A)),p.imageData=V},sliceByTwo:function(p,b,_,C,S){var w=p.imageData,x=.5,A=!1,V=!1,z=b*x,R=_*x,G=i.filterBackend.resources,$,ee,ne=0,re=0,ie=b,O=0;for(G.sliceByTwo||(G.sliceByTwo=document.createElement("canvas")),$=G.sliceByTwo,($.width<b*1.5||$.height<_)&&($.width=b*1.5,$.height=_),ee=$.getContext("2d"),ee.clearRect(0,0,b*1.5,_),ee.putImageData(w,0,0),C=c(C),S=c(S);!A||!V;)b=z,_=R,C<c(z*x)?z=c(z*x):(z=C,A=!0),S<c(R*x)?R=c(R*x):(R=S,V=!0),ee.drawImage($,ne,re,b,_,ie,O,z,R),ne=ie,re=O,O+=R;return ee.getImageData(ne,re,C,S)},lanczosResize:function(p,b,_,C,S){function w(L){var j,J,D,E,I,M,U,Y,q,se,P;for(O.x=(L+.5)*R,B.x=c(O.x),j=0;j<S;j++){for(O.y=(j+.5)*G,B.y=c(O.y),I=0,M=0,U=0,Y=0,q=0,J=B.x-ne;J<=B.x+ne;J++)if(!(J<0||J>=b)){se=c(1e3*a(J-O.x)),ie[se]||(ie[se]={});for(var T=B.y-re;T<=B.y+re;T++)T<0||T>=_||(P=c(1e3*a(T-O.y)),ie[se][P]||(ie[se][P]=z(r(h(se*$,2)+h(P*ee,2))/1e3)),D=ie[se][P],D>0&&(E=(T*b+J)*4,I+=D,M+=D*x[E],U+=D*x[E+1],Y+=D*x[E+2],q+=D*x[E+3]))}E=(j*C+L)*4,V[E]=M/I,V[E+1]=U/I,V[E+2]=Y/I,V[E+3]=q/I}return++L<C?w(L):A}var x=p.imageData.data,A=p.ctx.createImageData(C,S),V=A.data,z=this.lanczosCreate(this.lanczosLobes),R=this.rcpScaleX,G=this.rcpScaleY,$=2/this.rcpScaleX,ee=2/this.rcpScaleY,ne=d(R*this.lanczosLobes/2),re=d(G*this.lanczosLobes/2),ie={},O={},B={};return w(0)},bilinearFiltering:function(p,b,_,C,S){var w,x,A,V,z,R,G,$,ee,ne,re,ie,O=0,B,L=this.rcpScaleX,j=this.rcpScaleY,J=4*(b-1),D=p.imageData,E=D.data,I=p.ctx.createImageData(C,S),M=I.data;for(G=0;G<S;G++)for($=0;$<C;$++)for(z=c(L*$),R=c(j*G),ee=L*$-z,ne=j*G-R,B=4*(R*b+z),re=0;re<4;re++)w=E[B+re],x=E[B+4+re],A=E[B+J+re],V=E[B+J+4+re],ie=w*(1-ee)*(1-ne)+x*ee*(1-ne)+A*ne*(1-ee)+V*ee*ne,M[O++]=ie;return I},hermiteFastResize:function(p,b,_,C,S){for(var w=this.rcpScaleX,x=this.rcpScaleY,A=d(w/2),V=d(x/2),z=p.imageData,R=z.data,G=p.ctx.createImageData(C,S),$=G.data,ee=0;ee<S;ee++)for(var ne=0;ne<C;ne++){for(var re=(ne+ee*C)*4,ie=0,O=0,B=0,L=0,j=0,J=0,D=0,E=(ee+.5)*x,I=c(ee*x);I<(ee+1)*x;I++)for(var M=a(E-(I+.5))/V,U=(ne+.5)*w,Y=M*M,q=c(ne*w);q<(ne+1)*w;q++){var se=a(U-(q+.5))/A,P=r(Y+se*se);P>1&&P<-1||(ie=2*P*P*P-3*P*P+1,ie>0&&(se=4*(q+I*b),D+=ie*R[se+3],B+=ie,R[se+3]<255&&(ie=ie*R[se+3]/250),L+=ie*R[se],j+=ie*R[se+1],J+=ie*R[se+2],O+=ie))}$[re]=L/O,$[re+1]=j/O,$[re+2]=J/O,$[re+3]=D/B}return G},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),i.Image.filters.Resize.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,c=i.util.createClass;h.Contrast=c(h.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(r){if(this.contrast!==0){var a=r.imageData,s,d,o=a.data,d=o.length,l=Math.floor(this.contrast*255),v=259*(l+255)/(255*(259-l));for(s=0;s<d;s+=4)o[s]=v*(o[s]-128)+128,o[s+1]=v*(o[s+1]-128)+128,o[s+2]=v*(o[s+2]-128)+128}},getUniformLocations:function(r,a){return{uContrast:r.getUniformLocation(a,"uContrast")}},sendUniformData:function(r,a){r.uniform1f(a.uContrast,this.contrast)}}),i.Image.filters.Contrast.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,c=i.util.createClass;h.Saturation=c(h.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(r){if(this.saturation!==0){var a=r.imageData,s=a.data,o=s.length,d=-this.saturation,l,v;for(l=0;l<o;l+=4)v=Math.max(s[l],s[l+1],s[l+2]),s[l]+=v!==s[l]?(v-s[l])*d:0,s[l+1]+=v!==s[l+1]?(v-s[l+1])*d:0,s[l+2]+=v!==s[l+2]?(v-s[l+2])*d:0}},getUniformLocations:function(r,a){return{uSaturation:r.getUniformLocation(a,"uSaturation")}},sendUniformData:function(r,a){r.uniform1f(a.uSaturation,-this.saturation)}}),i.Image.filters.Saturation.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,c=i.util.createClass;h.Vibrance=c(h.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(r){if(this.vibrance!==0){var a=r.imageData,s=a.data,o=s.length,d=-this.vibrance,l,v,p,b;for(l=0;l<o;l+=4)v=Math.max(s[l],s[l+1],s[l+2]),p=(s[l]+s[l+1]+s[l+2])/3,b=Math.abs(v-p)*2/255*d,s[l]+=v!==s[l]?(v-s[l])*b:0,s[l+1]+=v!==s[l+1]?(v-s[l+1])*b:0,s[l+2]+=v!==s[l+2]?(v-s[l+2])*b:0}},getUniformLocations:function(r,a){return{uVibrance:r.getUniformLocation(a,"uVibrance")}},sendUniformData:function(r,a){r.uniform1f(a.uVibrance,-this.vibrance)}}),i.Image.filters.Vibrance.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,c=i.util.createClass;h.Blur=c(h.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(r){r.webgl?(this.aspectRatio=r.sourceWidth/r.sourceHeight,r.passes++,this._setupFrameBuffer(r),this.horizontal=!0,this.applyToWebGL(r),this._swapTextures(r),this._setupFrameBuffer(r),this.horizontal=!1,this.applyToWebGL(r),this._swapTextures(r)):this.applyTo2d(r)},applyTo2d:function(r){r.imageData=this.simpleBlur(r)},simpleBlur:function(r){var a=r.filterBackend.resources,s,o,d=r.imageData.width,l=r.imageData.height;a.blurLayer1||(a.blurLayer1=i.util.createCanvasElement(),a.blurLayer2=i.util.createCanvasElement()),s=a.blurLayer1,o=a.blurLayer2,(s.width!==d||s.height!==l)&&(o.width=s.width=d,o.height=s.height=l);var v=s.getContext("2d"),p=o.getContext("2d"),b=15,_,C,S,w,x=this.blur*.06*.5;for(v.putImageData(r.imageData,0,0),p.clearRect(0,0,d,l),w=-b;w<=b;w++)_=(Math.random()-.5)/4,C=w/b,S=x*C*d+_,p.globalAlpha=1-Math.abs(C),p.drawImage(s,S,_),v.drawImage(o,0,0),p.globalAlpha=1,p.clearRect(0,0,o.width,o.height);for(w=-b;w<=b;w++)_=(Math.random()-.5)/4,C=w/b,S=x*C*l+_,p.globalAlpha=1-Math.abs(C),p.drawImage(s,_,S),v.drawImage(o,0,0),p.globalAlpha=1,p.clearRect(0,0,o.width,o.height);r.ctx.drawImage(s,0,0);var A=r.ctx.getImageData(0,0,s.width,s.height);return v.globalAlpha=1,v.clearRect(0,0,s.width,s.height),A},getUniformLocations:function(r,a){return{delta:r.getUniformLocation(a,"uDelta")}},sendUniformData:function(r,a){var s=this.chooseRightDelta();r.uniform2fv(a.delta,s)},chooseRightDelta:function(){var r=1,a=[0,0],s;return this.horizontal?this.aspectRatio>1&&(r=1/this.aspectRatio):this.aspectRatio<1&&(r=this.aspectRatio),s=r*this.blur*.12,this.horizontal?a[0]=s:a[1]=s,a}}),h.Blur.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,c=i.util.createClass;h.Gamma=c(h.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(r){this.gamma=[1,1,1],h.BaseFilter.prototype.initialize.call(this,r)},applyTo2d:function(r){var a=r.imageData,s=a.data,o=this.gamma,d=s.length,l=1/o[0],v=1/o[1],p=1/o[2],b;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),b=0,d=256;b<d;b++)this.rVals[b]=Math.pow(b/255,l)*255,this.gVals[b]=Math.pow(b/255,v)*255,this.bVals[b]=Math.pow(b/255,p)*255;for(b=0,d=s.length;b<d;b+=4)s[b]=this.rVals[s[b]],s[b+1]=this.gVals[s[b+1]],s[b+2]=this.bVals[s[b+2]]},getUniformLocations:function(r,a){return{uGamma:r.getUniformLocation(a,"uGamma")}},sendUniformData:function(r,a){r.uniform3fv(a.uGamma,this.gamma)}}),i.Image.filters.Gamma.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,c=i.util.createClass;h.Composed=c(h.BaseFilter,{type:"Composed",subFilters:[],initialize:function(r){this.callSuper("initialize",r),this.subFilters=this.subFilters.slice(0)},applyTo:function(r){r.passes+=this.subFilters.length-1,this.subFilters.forEach(function(a){a.applyTo(r)})},toObject:function(){return i.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(r){return r.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(r){return!r.isNeutralState()})}}),i.Image.filters.Composed.fromObject=function(r,a){var s=r.subFilters||[],o=s.map(function(l){return new i.Image.filters[l.type](l)}),d=new i.Image.filters.Composed({subFilters:o});return a&&a(d),d}}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,c=i.util.createClass;h.HueRotation=c(h.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var r=this.rotation*Math.PI,a=i.util.cos(r),s=i.util.sin(r),o=1/3,d=Math.sqrt(o)*s,l=1-a;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=a+l/3,this.matrix[1]=o*l-d,this.matrix[2]=o*l+d,this.matrix[5]=o*l+d,this.matrix[6]=a+o*l,this.matrix[7]=o*l-d,this.matrix[10]=o*l-d,this.matrix[11]=o*l+d,this.matrix[12]=a+o*l},isNeutralState:function(r){return this.calculateMatrix(),h.BaseFilter.prototype.isNeutralState.call(this,r)},applyTo:function(r){this.calculateMatrix(),h.BaseFilter.prototype.applyTo.call(this,r)}}),i.Image.filters.HueRotation.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.util.object.clone;if(i.Text){i.warn("fabric.Text is already defined");return}var c="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");i.Text=i.util.createClass(i.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:i.Object.prototype.stateProperties.concat(c),cacheProperties:i.Object.prototype.cacheProperties.concat(c),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(r,a){this.styles=a?a.styles||{}:{},this.text=r,this.__skipDimension=!0,this.callSuper("initialize",a),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var r=this.path;r&&(r.segmentsInfo=i.util.getPathSegmentsInfo(r.path))},getMeasuringContext:function(){return i._measuringContext||(i._measuringContext=this.canvas&&this.canvas.contextCache||i.util.createCanvasElement().getContext("2d")),i._measuringContext},_splitText:function(){var r=this._splitTextIntoLines(this.text);return this.textLines=r.lines,this._textLines=r.graphemeLines,this._unwrappedTextLines=r._unwrappedLines,this._text=r.graphemeText,r},initDimensions:function(){if(!this.__skipDimension){if(this._splitText(),this._clearCache(),this.path){var r=this.getHeightOfLine(0)*1.1;this.width=this.path.width+r,this.height=this.path.height+r}else this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight();this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"})}},enlargeSpaces:function(){for(var r,a,s,o,d,l,v,p=0,b=this._textLines.length;p<b;p++)if(!(this.textAlign!=="justify"&&(p===b-1||this.isEndOfWrapping(p)))&&(o=0,d=this._textLines[p],a=this.getLineWidth(p),a<this.width&&(v=this.textLines[p].match(this._reSpacesAndTabs)))){s=v.length,r=(this.width-a)/s;for(var _=0,C=d.length;_<=C;_++)l=this.__charBounds[p][_],this._reSpaceAndTab.test(d[_])?(l.width+=r,l.kernedWidth+=r,l.left+=o,o+=r):l.left+=o}},isEndOfWrapping:function(r){return r===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var r=this.callSuper("_getCacheCanvasDimensions"),a=this.fontSize;return r.width+=a*r.zoomX,r.height+=a*r.zoomY,r},_render:function(r){var a=this.path;a&&!a.isNotVisible()&&a._render(r),this._setTextStyles(r),this._renderTextLinesBackground(r),this._renderTextDecoration(r,"underline"),this._renderText(r),this._renderTextDecoration(r,"overline"),this._renderTextDecoration(r,"linethrough")},_renderText:function(r){this.paintFirst==="stroke"?(this._renderTextStroke(r),this._renderTextFill(r)):(this._renderTextFill(r),this._renderTextStroke(r))},_setTextStyles:function(r,a,s){if(r.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":r.textBaseline="middle";break;case"ascender":r.textBaseline="top";break;case"descender":r.textBaseline="bottom";break}r.font=this._getFontDeclaration(a,s)},calcTextWidth:function(){for(var r=this.getLineWidth(0),a=1,s=this._textLines.length;a<s;a++){var o=this.getLineWidth(a);o>r&&(r=o)}return r},_renderTextLine:function(r,a,s,o,d,l){this._renderChars(r,a,s,o,d,l)},_renderTextLinesBackground:function(r){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var a,s,o=r.fillStyle,d,l,v=this._getLeftOffset(),p=this._getTopOffset(),b=0,_=0,C,S,w=this.path,x,A=0,V=this._textLines.length;A<V;A++){if(a=this.getHeightOfLine(A),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",A)){p+=a;continue}d=this._textLines[A],s=this._getLineLeftOffset(A),_=0,b=0,l=this.getValueOfPropertyAt(A,0,"textBackgroundColor");for(var z=0,R=d.length;z<R;z++)C=this.__charBounds[A][z],S=this.getValueOfPropertyAt(A,z,"textBackgroundColor"),w?(r.save(),r.translate(C.renderLeft,C.renderTop),r.rotate(C.angle),r.fillStyle=S,S&&r.fillRect(-C.width/2,-a/this.lineHeight*(1-this._fontSizeFraction),C.width,a/this.lineHeight),r.restore()):S!==l?(x=v+s+b,this.direction==="rtl"&&(x=this.width-x-_),r.fillStyle=l,l&&r.fillRect(x,p,_,a/this.lineHeight),b=C.left,_=C.width,l=S):_+=C.kernedWidth;S&&!w&&(x=v+s+b,this.direction==="rtl"&&(x=this.width-x-_),r.fillStyle=S,r.fillRect(x,p,_,a/this.lineHeight)),p+=a}r.fillStyle=o,this._removeShadow(r)}},getFontCache:function(r){var a=r.fontFamily.toLowerCase();i.charWidthsCache[a]||(i.charWidthsCache[a]={});var s=i.charWidthsCache[a],o=r.fontStyle.toLowerCase()+"_"+(r.fontWeight+"").toLowerCase();return s[o]||(s[o]={}),s[o]},_measureChar:function(r,a,s,o){var d=this.getFontCache(a),l=this._getFontDeclaration(a),v=this._getFontDeclaration(o),p=s+r,b=l===v,_,C,S,w=a.fontSize/this.CACHE_FONT_SIZE,x;if(s&&d[s]!==void 0&&(S=d[s]),d[r]!==void 0&&(x=_=d[r]),b&&d[p]!==void 0&&(C=d[p],x=C-S),_===void 0||S===void 0||C===void 0){var A=this.getMeasuringContext();this._setTextStyles(A,a,!0)}return _===void 0&&(x=_=A.measureText(r).width,d[r]=_),S===void 0&&b&&s&&(S=A.measureText(s).width,d[s]=S),b&&C===void 0&&(C=A.measureText(p).width,d[p]=C,x=C-S),{width:_*w,kernedWidth:x*w}},getHeightOfChar:function(r,a){return this.getValueOfPropertyAt(r,a,"fontSize")},measureLine:function(r){var a=this._measureLine(r);return this.charSpacing!==0&&(a.width-=this._getWidthOfCharSpacing()),a.width<0&&(a.width=0),a},_measureLine:function(r){var a=0,s,o,d=this._textLines[r],l,v,p=0,b=new Array(d.length),_=0,C,S,w=this.path,x=this.pathSide==="right";for(this.__charBounds[r]=b,s=0;s<d.length;s++)o=d[s],v=this._getGraphemeBox(o,r,s,l),b[s]=v,a+=v.kernedWidth,l=o;if(b[s]={left:v?v.left+v.width:0,width:0,kernedWidth:0,height:this.fontSize},w){switch(S=w.segmentsInfo[w.segmentsInfo.length-1].length,C=i.util.getPointOnPath(w.path,0,w.segmentsInfo),C.x+=w.pathOffset.x,C.y+=w.pathOffset.y,this.textAlign){case"left":_=x?S-a:0;break;case"center":_=(S-a)/2;break;case"right":_=x?0:S-a;break}for(_+=this.pathStartOffset*(x?-1:1),s=x?d.length-1:0;x?s>=0:s<d.length;x?s--:s++)v=b[s],_>S?_%=S:_<0&&(_+=S),this._setGraphemeOnPath(_,v,C),_+=v.kernedWidth}return{width:a,numOfSpaces:p}},_setGraphemeOnPath:function(r,a,s){var o=r+a.kernedWidth/2,d=this.path,l=i.util.getPointOnPath(d.path,o,d.segmentsInfo);a.renderLeft=l.x-s.x,a.renderTop=l.y-s.y,a.angle=l.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(r,a,s,o,d){var l=this.getCompleteStyleDeclaration(a,s),v=o?this.getCompleteStyleDeclaration(a,s-1):{},p=this._measureChar(r,l,o,v),b=p.kernedWidth,_=p.width,C;this.charSpacing!==0&&(C=this._getWidthOfCharSpacing(),_+=C,b+=C);var S={width:_,left:0,height:l.fontSize,kernedWidth:b,deltaY:l.deltaY};if(s>0&&!d){var w=this.__charBounds[a][s-1];S.left=w.left+w.width+p.kernedWidth-p.width}return S},getHeightOfLine:function(r){if(this.__lineHeights[r])return this.__lineHeights[r];for(var a=this._textLines[r],s=this.getHeightOfChar(r,0),o=1,d=a.length;o<d;o++)s=Math.max(this.getHeightOfChar(r,o),s);return this.__lineHeights[r]=s*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var r,a=0,s=0,o=this._textLines.length;s<o;s++)r=this.getHeightOfLine(s),a+=s===o-1?r/this.lineHeight:r;return a},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(r,a){r.save();for(var s=0,o=this._getLeftOffset(),d=this._getTopOffset(),l=0,v=this._textLines.length;l<v;l++){var p=this.getHeightOfLine(l),b=p/this.lineHeight,_=this._getLineLeftOffset(l);this._renderTextLine(a,r,this._textLines[l],o+_,d+s+b,l),s+=p}r.restore()},_renderTextFill:function(r){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(r,"fillText")},_renderTextStroke:function(r){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(r),r.save(),this._setLineDash(r,this.strokeDashArray),r.beginPath(),this._renderTextCommon(r,"strokeText"),r.closePath(),r.restore())},_renderChars:function(r,a,s,o,d,l){var v=this.getHeightOfLine(l),p=this.textAlign.indexOf("justify")!==-1,b,_,C="",S,w=0,x,A=this.path,V=!p&&this.charSpacing===0&&this.isEmptyStyles(l)&&!A,z=this.direction==="ltr",R=this.direction==="ltr"?1:-1,G,$=a.canvas.getAttribute("dir");if(a.save(),$!==this.direction&&(a.canvas.setAttribute("dir",z?"ltr":"rtl"),a.direction=z?"ltr":"rtl",a.textAlign=z?"left":"right"),d-=v*this._fontSizeFraction/this.lineHeight,V){this._renderChar(r,a,l,0,s.join(""),o,d,v),a.restore();return}for(var ee=0,ne=s.length-1;ee<=ne;ee++)x=ee===ne||this.charSpacing||A,C+=s[ee],S=this.__charBounds[l][ee],w===0?(o+=R*(S.kernedWidth-S.width),w+=S.width):w+=S.kernedWidth,p&&!x&&this._reSpaceAndTab.test(s[ee])&&(x=!0),x||(b=b||this.getCompleteStyleDeclaration(l,ee),_=this.getCompleteStyleDeclaration(l,ee+1),x=i.util.hasStyleChanged(b,_,!1)),x&&(A?(a.save(),a.translate(S.renderLeft,S.renderTop),a.rotate(S.angle),this._renderChar(r,a,l,ee,C,-w/2,0,v),a.restore()):(G=o,this._renderChar(r,a,l,ee,C,G,d,v)),C="",b=_,o+=R*w,w=0);a.restore()},_applyPatternGradientTransformText:function(r){var a=i.util.createCanvasElement(),s,o=this.width+this.strokeWidth,d=this.height+this.strokeWidth;return a.width=o,a.height=d,s=a.getContext("2d"),s.beginPath(),s.moveTo(0,0),s.lineTo(o,0),s.lineTo(o,d),s.lineTo(0,d),s.closePath(),s.translate(o/2,d/2),s.fillStyle=r.toLive(s),this._applyPatternGradientTransform(s,r),s.fill(),s.createPattern(a,"no-repeat")},handleFiller:function(r,a,s){var o,d;return s.toLive?s.gradientUnits==="percentage"||s.gradientTransform||s.patternTransform?(o=-this.width/2,d=-this.height/2,r.translate(o,d),r[a]=this._applyPatternGradientTransformText(s),{offsetX:o,offsetY:d}):(r[a]=s.toLive(r,this),this._applyPatternGradientTransform(r,s)):(r[a]=s,{offsetX:0,offsetY:0})},_setStrokeStyles:function(r,a){return r.lineWidth=a.strokeWidth,r.lineCap=this.strokeLineCap,r.lineDashOffset=this.strokeDashOffset,r.lineJoin=this.strokeLineJoin,r.miterLimit=this.strokeMiterLimit,this.handleFiller(r,"strokeStyle",a.stroke)},_setFillStyles:function(r,a){return this.handleFiller(r,"fillStyle",a.fill)},_renderChar:function(r,a,s,o,d,l,v){var p=this._getStyleDeclaration(s,o),b=this.getCompleteStyleDeclaration(s,o),_=r==="fillText"&&b.fill,C=r==="strokeText"&&b.stroke&&b.strokeWidth,S,w;!C&&!_||(a.save(),_&&(S=this._setFillStyles(a,b)),C&&(w=this._setStrokeStyles(a,b)),a.font=this._getFontDeclaration(b),p&&p.textBackgroundColor&&this._removeShadow(a),p&&p.deltaY&&(v+=p.deltaY),_&&a.fillText(d,l-S.offsetX,v-S.offsetY),C&&a.strokeText(d,l-w.offsetX,v-w.offsetY),a.restore())},setSuperscript:function(r,a){return this._setScript(r,a,this.superscript)},setSubscript:function(r,a){return this._setScript(r,a,this.subscript)},_setScript:function(r,a,s){var o=this.get2DCursorLocation(r,!0),d=this.getValueOfPropertyAt(o.lineIndex,o.charIndex,"fontSize"),l=this.getValueOfPropertyAt(o.lineIndex,o.charIndex,"deltaY"),v={fontSize:d*s.size,deltaY:l+d*s.baseline};return this.setSelectionStyles(v,r,a),this},_getLineLeftOffset:function(r){var a=this.getLineWidth(r),s=this.width-a,o=this.textAlign,d=this.direction,v,l=0,v=this.isEndOfWrapping(r);return o==="justify"||o==="justify-center"&&!v||o==="justify-right"&&!v||o==="justify-left"&&!v?0:(o==="center"&&(l=s/2),o==="right"&&(l=s),o==="justify-center"&&(l=s/2),o==="justify-right"&&(l=s),d==="rtl"&&(l-=s),l)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var r=this._forceClearCache;return r||(r=this.hasStateChanged("_dimensionAffectingProps")),r&&(this.dirty=!0,this._forceClearCache=!1),r},getLineWidth:function(r){if(this.__lineWidths[r]!==void 0)return this.__lineWidths[r];var a=this.measureLine(r),s=a.width;return this.__lineWidths[r]=s,s},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(r,a,s){var o=this._getStyleDeclaration(r,a);return o&&typeof o[s]<"u"?o[s]:this[s]},_renderTextDecoration:function(r,a){if(!(!this[a]&&!this.styleHas(a))){r.save(),(a==="overline"||a==="linethrough")&&this._removeShadow(r);for(var s,o,d,l,v,p,b,_,C=this._getLeftOffset(),S=this._getTopOffset(),w,x,A,V,z,R,G,$,ee=this.path,ne=this._getWidthOfCharSpacing(),re=this.offsets[a],ie=0,O=this._textLines.length;ie<O;ie++){if(s=this.getHeightOfLine(ie),!this[a]&&!this.styleHas(a,ie)){S+=s;continue}b=this._textLines[ie],R=s/this.lineHeight,l=this._getLineLeftOffset(ie),x=0,A=0,_=this.getValueOfPropertyAt(ie,0,a),$=this.getValueOfPropertyAt(ie,0,"fill"),w=S+R*(1-this._fontSizeFraction),o=this.getHeightOfChar(ie,0),v=this.getValueOfPropertyAt(ie,0,"deltaY");for(var B=0,L=b.length;B<L;B++)if(V=this.__charBounds[ie][B],z=this.getValueOfPropertyAt(ie,B,a),G=this.getValueOfPropertyAt(ie,B,"fill"),d=this.getHeightOfChar(ie,B),p=this.getValueOfPropertyAt(ie,B,"deltaY"),ee&&z&&G)r.save(),r.fillStyle=$,r.translate(V.renderLeft,V.renderTop),r.rotate(V.angle),r.fillRect(-V.kernedWidth/2,re*d+p,V.kernedWidth,this.fontSize/15),r.restore();else if((z!==_||G!==$||d!==o||p!==v)&&A>0){var j=C+l+x;this.direction==="rtl"&&(j=this.width-j-A),_&&$&&(r.fillStyle=$,r.fillRect(j,w+re*o+v,A,this.fontSize/15)),x=V.left,A=V.width,_=z,$=G,o=d,v=p}else A+=V.kernedWidth;var j=C+l+x;this.direction==="rtl"&&(j=this.width-j-A),r.fillStyle=G,z&&G&&r.fillRect(j,w+re*o+v,A-ne,this.fontSize/15),S+=s}r.restore()}},_getFontDeclaration:function(r,a){var s=r||this,o=this.fontFamily,d=i.Text.genericFonts.indexOf(o.toLowerCase())>-1,l=o===void 0||o.indexOf("'")>-1||o.indexOf(",")>-1||o.indexOf('"')>-1||d?s.fontFamily:'"'+s.fontFamily+'"';return[i.isLikelyNode?s.fontWeight:s.fontStyle,i.isLikelyNode?s.fontStyle:s.fontWeight,a?this.CACHE_FONT_SIZE+"px":s.fontSize+"px",l].join(" ")},render:function(r){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",r)))},_splitTextIntoLines:function(r){for(var a=r.split(this._reNewline),s=new Array(a.length),o=[`
`],d=[],l=0;l<a.length;l++)s[l]=i.util.string.graphemeSplit(a[l]),d=d.concat(s[l],o);return d.pop(),{_unwrappedLines:s,lines:a,graphemeText:d,graphemeLines:s}},toObject:function(r){var a=c.concat(r),s=this.callSuper("toObject",a);return s.styles=i.util.stylesToArray(this.styles,this.text),s.path&&(s.path=this.path.toObject()),s},set:function(r,a){this.callSuper("set",r,a);var s=!1,o=!1;if(typeof r=="object")for(var d in r)d==="path"&&this.setPathInfo(),s=s||this._dimensionAffectingProps.indexOf(d)!==-1,o=o||d==="path";else s=this._dimensionAffectingProps.indexOf(r)!==-1,o=r==="path";return o&&this.setPathInfo(),s&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),i.Text.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),i.Text.DEFAULT_SVG_FONT_SIZE=16,i.Text.fromElement=function(r,a,s){if(!r)return a(null);var o=i.parseAttributes(r,i.Text.ATTRIBUTE_NAMES),d=o.textAnchor||"left";if(s=i.util.object.extend(s?h(s):{},o),s.top=s.top||0,s.left=s.left||0,o.textDecoration){var l=o.textDecoration;l.indexOf("underline")!==-1&&(s.underline=!0),l.indexOf("overline")!==-1&&(s.overline=!0),l.indexOf("line-through")!==-1&&(s.linethrough=!0),delete s.textDecoration}"dx"in o&&(s.left+=o.dx),"dy"in o&&(s.top+=o.dy),"fontSize"in s||(s.fontSize=i.Text.DEFAULT_SVG_FONT_SIZE);var v="";"textContent"in r?v=r.textContent:"firstChild"in r&&r.firstChild!==null&&"data"in r.firstChild&&r.firstChild.data!==null&&(v=r.firstChild.data),v=v.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var p=s.strokeWidth;s.strokeWidth=0;var b=new i.Text(v,s),_=b.getScaledHeight()/b.height,C=(b.height+b.strokeWidth)*b.lineHeight-b.height,S=C*_,w=b.getScaledHeight()+S,x=0;d==="center"&&(x=b.getScaledWidth()/2),d==="right"&&(x=b.getScaledWidth()),b.set({left:b.left-x,top:b.top-(w-b.fontSize*(.07+b._fontSizeFraction))/b.lineHeight,strokeWidth:typeof p<"u"?p:1}),a(b)},i.Text.fromObject=function(r,a){var s=h(r),o=r.path;return delete s.path,i.Object._fromObject("Text",s,function(d){d.styles=i.util.stylesFromArray(r.styles,r.text),o?i.Object._fromObject("Path",o,function(l){d.set("path",l),a(d)},"path"):a(d)},"text")},i.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],i.util.createAccessors&&i.util.createAccessors(i.Text)}(e),function(){t.util.object.extend(t.Text.prototype,{isEmptyStyles:function(u){if(!this.styles||typeof u<"u"&&!this.styles[u])return!0;var i=typeof u>"u"?this.styles:{line:this.styles[u]};for(var h in i)for(var c in i[h])for(var r in i[h][c])return!1;return!0},styleHas:function(u,i){if(!this.styles||!u||u===""||typeof i<"u"&&!this.styles[i])return!1;var h=typeof i>"u"?this.styles:{0:this.styles[i]};for(var c in h)for(var r in h[c])if(typeof h[c][r][u]<"u")return!0;return!1},cleanStyle:function(u){if(!this.styles||!u||u==="")return!1;var i=this.styles,h=0,c,r,a=!0,s=0,o;for(var d in i){c=0;for(var l in i[d]){var o=i[d][l],v=o.hasOwnProperty(u);h++,v?(r?o[u]!==r&&(a=!1):r=o[u],o[u]===this[u]&&delete o[u]):a=!1,Object.keys(o).length!==0?c++:delete i[d][l]}c===0&&delete i[d]}for(var p=0;p<this._textLines.length;p++)s+=this._textLines[p].length;a&&h===s&&(this[u]=r,this.removeStyle(u))},removeStyle:function(u){if(!(!this.styles||!u||u==="")){var i=this.styles,h,c,r;for(c in i){h=i[c];for(r in h)delete h[r][u],Object.keys(h[r]).length===0&&delete h[r];Object.keys(h).length===0&&delete i[c]}}},_extendStyles:function(u,i){var h=this.get2DCursorLocation(u);this._getLineStyle(h.lineIndex)||this._setLineStyle(h.lineIndex),this._getStyleDeclaration(h.lineIndex,h.charIndex)||this._setStyleDeclaration(h.lineIndex,h.charIndex,{}),t.util.object.extend(this._getStyleDeclaration(h.lineIndex,h.charIndex),i)},get2DCursorLocation:function(u,i){typeof u>"u"&&(u=this.selectionStart);for(var h=i?this._unwrappedTextLines:this._textLines,c=h.length,r=0;r<c;r++){if(u<=h[r].length)return{lineIndex:r,charIndex:u};u-=h[r].length+this.missingNewlineOffset(r,i)}return{lineIndex:r-1,charIndex:h[r-1].length<u?h[r-1].length:u}},getSelectionStyles:function(u,i,h){typeof u>"u"&&(u=this.selectionStart||0),typeof i>"u"&&(i=this.selectionEnd||u);for(var c=[],r=u;r<i;r++)c.push(this.getStyleAtPosition(r,h));return c},getStyleAtPosition:function(u,i){var h=this.get2DCursorLocation(u),c=i?this.getCompleteStyleDeclaration(h.lineIndex,h.charIndex):this._getStyleDeclaration(h.lineIndex,h.charIndex);return c||{}},setSelectionStyles:function(u,i,h){typeof i>"u"&&(i=this.selectionStart||0),typeof h>"u"&&(h=this.selectionEnd||i);for(var c=i;c<h;c++)this._extendStyles(c,u);return this._forceClearCache=!0,this},_getStyleDeclaration:function(u,i){var h=this.styles&&this.styles[u];return h?h[i]:null},getCompleteStyleDeclaration:function(u,i){for(var h=this._getStyleDeclaration(u,i)||{},c={},r,a=0;a<this._styleProperties.length;a++)r=this._styleProperties[a],c[r]=typeof h[r]>"u"?this[r]:h[r];return c},_setStyleDeclaration:function(u,i,h){this.styles[u][i]=h},_deleteStyleDeclaration:function(u,i){delete this.styles[u][i]},_getLineStyle:function(u){return!!this.styles[u]},_setLineStyle:function(u){this.styles[u]={}},_deleteLineStyle:function(u){delete this.styles[u]}})}(),function(){function u(i){i.textDecoration&&(i.textDecoration.indexOf("underline")>-1&&(i.underline=!0),i.textDecoration.indexOf("line-through")>-1&&(i.linethrough=!0),i.textDecoration.indexOf("overline")>-1&&(i.overline=!0),delete i.textDecoration)}t.IText=t.util.createClass(t.Text,t.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(i,h){this.callSuper("initialize",i,h),this.initBehavior()},setSelectionStart:function(i){i=Math.max(i,0),this._updateAndFire("selectionStart",i)},setSelectionEnd:function(i){i=Math.min(i,this.text.length),this._updateAndFire("selectionEnd",i)},_updateAndFire:function(i,h){this[i]!==h&&(this._fireSelectionChanged(),this[i]=h),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(i){this.clearContextTop(),this.callSuper("render",i),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(i){this.callSuper("_render",i)},clearContextTop:function(i){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var h=this.canvas.contextTop,c=this.canvas.viewportTransform;h.save(),h.transform(c[0],c[1],c[2],c[3],c[4],c[5]),this.transform(h),this._clearTextArea(h),i||h.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var i=this._getCursorBoundaries(),h=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(i,h):this.renderSelection(i,h),h.restore()}},_clearTextArea:function(i){var h=this.width+4,c=this.height+4;i.clearRect(-h/2,-c/2,h,c)},_getCursorBoundaries:function(i){typeof i>"u"&&(i=this.selectionStart);var h=this._getLeftOffset(),c=this._getTopOffset(),r=this._getCursorBoundariesOffsets(i);return{left:h,top:c,leftOffset:r.left,topOffset:r.top}},_getCursorBoundariesOffsets:function(i){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var h,c,r,a=0,s=0,o,d=this.get2DCursorLocation(i);r=d.charIndex,c=d.lineIndex;for(var l=0;l<c;l++)a+=this.getHeightOfLine(l);h=this._getLineLeftOffset(c);var v=this.__charBounds[c][r];return v&&(s=v.left),this.charSpacing!==0&&r===this._textLines[c].length&&(s-=this._getWidthOfCharSpacing()),o={top:a,left:h+(s>0?s:0)},this.direction==="rtl"&&(o.left*=-1),this.cursorOffsetCache=o,this.cursorOffsetCache},renderCursor:function(i,h){var c=this.get2DCursorLocation(),r=c.lineIndex,a=c.charIndex>0?c.charIndex-1:0,s=this.getValueOfPropertyAt(r,a,"fontSize"),o=this.scaleX*this.canvas.getZoom(),d=this.cursorWidth/o,l=i.topOffset,v=this.getValueOfPropertyAt(r,a,"deltaY");l+=(1-this._fontSizeFraction)*this.getHeightOfLine(r)/this.lineHeight-s*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(i,h),h.fillStyle=this.cursorColor||this.getValueOfPropertyAt(r,a,"fill"),h.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,h.fillRect(i.left+i.leftOffset-d/2,l+i.top+v,d,s)},renderSelection:function(i,h){for(var c=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,r=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,a=this.textAlign.indexOf("justify")!==-1,s=this.get2DCursorLocation(c),o=this.get2DCursorLocation(r),d=s.lineIndex,l=o.lineIndex,v=s.charIndex<0?0:s.charIndex,p=o.charIndex<0?0:o.charIndex,b=d;b<=l;b++){var _=this._getLineLeftOffset(b)||0,C=this.getHeightOfLine(b),S=0,w=0,x=0;if(b===d&&(w=this.__charBounds[d][v].left),b>=d&&b<l)x=a&&!this.isEndOfWrapping(b)?this.width:this.getLineWidth(b)||5;else if(b===l)if(p===0)x=this.__charBounds[l][p].left;else{var A=this._getWidthOfCharSpacing();x=this.__charBounds[l][p-1].left+this.__charBounds[l][p-1].width-A}S=C,(this.lineHeight<1||b===l&&this.lineHeight>1)&&(C/=this.lineHeight);var V=i.left+_+w,z=x-w,R=C,G=0;this.inCompositionMode?(h.fillStyle=this.compositionColor||"black",R=1,G=C):h.fillStyle=this.selectionColor,this.direction==="rtl"&&(V=this.width-V-z),h.fillRect(V,i.top+i.topOffset+G,z,R),i.topOffset+=S}},getCurrentCharFontSize:function(){var i=this._getCurrentCharIndex();return this.getValueOfPropertyAt(i.l,i.c,"fontSize")},getCurrentCharColor:function(){var i=this._getCurrentCharIndex();return this.getValueOfPropertyAt(i.l,i.c,"fill")},_getCurrentCharIndex:function(){var i=this.get2DCursorLocation(this.selectionStart,!0),h=i.charIndex>0?i.charIndex-1:0;return{l:i.lineIndex,c:h}}}),t.IText.fromObject=function(i,h){var c=t.util.stylesFromArray(i.styles,i.text),r=Object.assign({},i,{styles:c});if(delete r.path,u(r),r.styles)for(var a in r.styles)for(var s in r.styles[a])u(r.styles[a][s]);t.Object._fromObject("IText",r,function(o){i.path?t.Object._fromObject("Path",i.path,function(d){o.set("path",d),h(o)},"path"):h(o)},"text")}}(),function(){var u=t.util.object.clone;t.util.object.extend(t.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var i=this;this.on("added",function(){var h=i.canvas;h&&(h._hasITextHandlers||(h._hasITextHandlers=!0,i._initCanvasHandlers(h)),h._iTextInstances=h._iTextInstances||[],h._iTextInstances.push(i))})},initRemovedHandler:function(){var i=this;this.on("removed",function(){var h=i.canvas;h&&(h._iTextInstances=h._iTextInstances||[],t.util.removeFromArray(h._iTextInstances,i),h._iTextInstances.length===0&&(h._hasITextHandlers=!1,i._removeCanvasHandlers(h)))})},_initCanvasHandlers:function(i){i._mouseUpITextHandler=function(){i._iTextInstances&&i._iTextInstances.forEach(function(h){h.__isMousedown=!1})},i.on("mouse:up",i._mouseUpITextHandler)},_removeCanvasHandlers:function(i){i.off("mouse:up",i._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(i,h,c,r){var a;return a={isAborted:!1,abort:function(){this.isAborted=!0}},i.animate("_currentCursorOpacity",h,{duration:c,onComplete:function(){a.isAborted||i[r]()},onChange:function(){i.canvas&&i.selectionStart===i.selectionEnd&&i.renderCursorOrSelection()},abort:function(){return a.isAborted}}),a},_onTickComplete:function(){var i=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){i._currentTickCompleteState=i._animateCursor(i,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(i){var h=this,c=i?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){h._tick()},c)},abortCursorAnimation:function(){var i=this._currentTickState||this._currentTickCompleteState,h=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,i&&h&&h.clearContext(h.contextTop||h.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(i){var h=0,c=i-1;if(this._reSpace.test(this._text[c]))for(;this._reSpace.test(this._text[c]);)h++,c--;for(;/\S/.test(this._text[c])&&c>-1;)h++,c--;return i-h},findWordBoundaryRight:function(i){var h=0,c=i;if(this._reSpace.test(this._text[c]))for(;this._reSpace.test(this._text[c]);)h++,c++;for(;/\S/.test(this._text[c])&&c<this._text.length;)h++,c++;return i+h},findLineBoundaryLeft:function(i){for(var h=0,c=i-1;!/\n/.test(this._text[c])&&c>-1;)h++,c--;return i-h},findLineBoundaryRight:function(i){for(var h=0,c=i;!/\n/.test(this._text[c])&&c<this._text.length;)h++,c++;return i+h},searchWordBoundary:function(i,h){for(var c=this._text,r=this._reSpace.test(c[i])?i-1:i,a=c[r],s=t.reNonWord;!s.test(a)&&r>0&&r<c.length;)r+=h,a=c[r];return s.test(a)&&(r+=h===1?0:1),r},selectWord:function(i){i=i||this.selectionStart;var h=this.searchWordBoundary(i,-1),c=this.searchWordBoundary(i,1);this.selectionStart=h,this.selectionEnd=c,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(i){i=i||this.selectionStart;var h=this.findLineBoundaryLeft(i),c=this.findLineBoundaryRight(i);return this.selectionStart=h,this.selectionEnd=c,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(i){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(i),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(i){i._iTextInstances&&i._iTextInstances.forEach(function(h){h.selected=!1,h.isEditing&&h.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(i){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var h=this.getSelectionStartFromPointer(i.e),c=this.selectionStart,r=this.selectionEnd;(h!==this.__selectionStartOnMouseDown||c===r)&&(c===h||r===h)||(h>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=h):(this.selectionStart=h,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==c||this.selectionEnd!==r)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(i,h,c){var r=c.slice(0,i),a=t.util.string.graphemeSplit(r).length;if(i===h)return{selectionStart:a,selectionEnd:a};var s=c.slice(i,h),o=t.util.string.graphemeSplit(s).length;return{selectionStart:a,selectionEnd:a+o}},fromGraphemeToStringSelection:function(i,h,c){var r=c.slice(0,i),a=r.join("").length;if(i===h)return{selectionStart:a,selectionEnd:a};var s=c.slice(i,h),o=s.join("").length;return{selectionStart:a,selectionEnd:a+o}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var i=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=i.selectionStart,this.hiddenTextarea.selectionEnd=i.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var i=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=i.selectionEnd,this.inCompositionMode||(this.selectionStart=i.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var i=this._calcTextareaPosition();this.hiddenTextarea.style.left=i.left,this.hiddenTextarea.style.top=i.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var i=this.inCompositionMode?this.compositionStart:this.selectionStart,h=this._getCursorBoundaries(i),c=this.get2DCursorLocation(i),r=c.lineIndex,a=c.charIndex,s=this.getValueOfPropertyAt(r,a,"fontSize")*this.lineHeight,o=h.leftOffset,d=this.calcTransformMatrix(),l={x:h.left+o,y:h.top+h.topOffset+s},v=this.canvas.getRetinaScaling(),p=this.canvas.upperCanvasEl,b=p.width/v,_=p.height/v,C=b-s,S=_-s,w=p.clientWidth/b,x=p.clientHeight/_;return l=t.util.transformPoint(l,d),l=t.util.transformPoint(l,this.canvas.viewportTransform),l.x*=w,l.y*=x,l.x<0&&(l.x=0),l.x>C&&(l.x=C),l.y<0&&(l.y=0),l.y>S&&(l.y=S),l.x+=this.canvas._offset.left,l.y+=this.canvas._offset.top,{left:l.x+"px",top:l.y+"px",fontSize:s+"px",charHeight:s}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var i=this._textBeforeEdit!==this.text,h=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,h&&(h.blur&&h.blur(),h.parentNode&&h.parentNode.removeChild(h)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),i&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),i&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var i in this.styles)this._textLines[i]||delete this.styles[i]},removeStyleFromTo:function(i,h){var c=this.get2DCursorLocation(i,!0),r=this.get2DCursorLocation(h,!0),a=c.lineIndex,s=c.charIndex,o=r.lineIndex,d=r.charIndex,l,v;if(a!==o){if(this.styles[a])for(l=s;l<this._unwrappedTextLines[a].length;l++)delete this.styles[a][l];if(this.styles[o])for(l=d;l<this._unwrappedTextLines[o].length;l++)v=this.styles[o][l],v&&(this.styles[a]||(this.styles[a]={}),this.styles[a][s+l-d]=v);for(l=a+1;l<=o;l++)delete this.styles[l];this.shiftLineStyles(o,a-o)}else if(this.styles[a]){v=this.styles[a];var p=d-s,b,_;for(l=s;l<d;l++)delete v[l];for(_ in this.styles[a])b=parseInt(_,10),b>=d&&(v[b-p]=v[_],delete v[_])}},shiftLineStyles:function(i,h){var c=u(this.styles);for(var r in this.styles){var a=parseInt(r,10);a>i&&(this.styles[a+h]=c[a],c[a-h]||delete this.styles[a])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(i,h,c,r){var a,s={},o=!1,d=this._unwrappedTextLines[i].length,l=d===h;c||(c=1),this.shiftLineStyles(i,c),this.styles[i]&&(a=this.styles[i][h===0?h:h-1]);for(var v in this.styles[i]){var p=parseInt(v,10);p>=h&&(o=!0,s[p-h]=this.styles[i][v],l&&h===0||delete this.styles[i][v])}var b=!1;for(o&&!l&&(this.styles[i+c]=s,b=!0),(b||d>h)&&c--;c>0;)r&&r[c-1]?this.styles[i+c]={0:u(r[c-1])}:a?this.styles[i+c]={0:u(a)}:delete this.styles[i+c],c--;this._forceClearCache=!0},insertCharStyleObject:function(i,h,c,r){this.styles||(this.styles={});var a=this.styles[i],s=a?u(a):{};c||(c=1);for(var o in s){var d=parseInt(o,10);d>=h&&(a[d+c]=s[d],s[d-c]||delete a[d])}if(this._forceClearCache=!0,r){for(;c--;)Object.keys(r[c]).length&&(this.styles[i]||(this.styles[i]={}),this.styles[i][h+c]=u(r[c]));return}if(a)for(var l=a[h?h-1:1];l&&c--;)this.styles[i][h+c]=u(l)},insertNewStyleBlock:function(i,h,c){for(var r=this.get2DCursorLocation(h,!0),a=[0],s=0,o=0;o<i.length;o++)i[o]===`
`?(s++,a[s]=0):a[s]++;a[0]>0&&(this.insertCharStyleObject(r.lineIndex,r.charIndex,a[0],c),c=c&&c.slice(a[0]+1)),s&&this.insertNewlineStyleObject(r.lineIndex,r.charIndex+a[0],s);for(var o=1;o<s;o++)a[o]>0?this.insertCharStyleObject(r.lineIndex+o,0,a[o],c):c&&this.styles[r.lineIndex+o]&&c[0]&&(this.styles[r.lineIndex+o][0]=c[0]),c=c&&c.slice(a[o]+1);a[o]>0&&this.insertCharStyleObject(r.lineIndex+o,0,a[o],c)},setSelectionStartEndWithShift:function(i,h,c){c<=i?(h===i?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=i),this.selectionStart=c):c>i&&c<h?this._selectionDirection==="right"?this.selectionEnd=c:this.selectionStart=c:(h===i?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=h),this.selectionEnd=c)},setSelectionInBoundaries:function(){var i=this.text.length;this.selectionStart>i?this.selectionStart=i:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>i?this.selectionEnd=i:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),t.util.object.extend(t.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(u){if(this.canvas){this.__newClickTime=+new Date;var i=u.pointer;this.isTripleClick(i)&&(this.fire("tripleclick",u),this._stopEvent(u.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=i,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(u){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===u.x&&this.__lastPointer.y===u.y},_stopEvent:function(u){u.preventDefault&&u.preventDefault(),u.stopPropagation&&u.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(u){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(u.e))},tripleClickHandler:function(u){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(u.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(u){!this.canvas||!this.editable||u.e.button&&u.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(u.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(u){!this.canvas||!this.editable||u.e.button&&u.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(u){if(this.__isMousedown=!1,!(!this.editable||this.group||u.transform&&u.transform.actionPerformed||u.e.button&&u.e.button!==1)){if(this.canvas){var i=this.canvas._activeObject;if(i&&i!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(u.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(u){var i=this.getSelectionStartFromPointer(u),h=this.selectionStart,c=this.selectionEnd;u.shiftKey?this.setSelectionStartEndWithShift(h,c,i):(this.selectionStart=i,this.selectionEnd=i),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(u){for(var i=this.getLocalPointer(u),h=0,c=0,r=0,a=0,s=0,o,d,l=0,v=this._textLines.length;l<v&&r<=i.y;l++)r+=this.getHeightOfLine(l)*this.scaleY,s=l,l>0&&(a+=this._textLines[l-1].length+this.missingNewlineOffset(l-1));o=this._getLineLeftOffset(s),c=o*this.scaleX,d=this._textLines[s],this.direction==="rtl"&&(i.x=this.width*this.scaleX-i.x+c);for(var p=0,b=d.length;p<b&&(h=c,c+=this.__charBounds[s][p].kernedWidth*this.scaleX,c<=i.x);p++)a++;return this._getNewSelectionStartFromOffset(i,h,c,a,b)},_getNewSelectionStartFromOffset:function(u,i,h,c,r){var a=u.x-i,s=h-u.x,o=s>a||s<0?0:1,d=c+o;return this.flipX&&(d=r-d),d>this._text.length&&(d=this._text.length),d}}),t.util.object.extend(t.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=t.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var u=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+u.top+"; left: "+u.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+u.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):t.document.body.appendChild(this.hiddenTextarea),t.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),t.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),t.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),t.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(t.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(u){if(this.isEditing){var i=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(u.keyCode in i)this[i[u.keyCode]](u);else if(u.keyCode in this.ctrlKeysMapDown&&(u.ctrlKey||u.metaKey))this[this.ctrlKeysMapDown[u.keyCode]](u);else return;u.stopImmediatePropagation(),u.preventDefault(),u.keyCode>=33&&u.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(u){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(u.keyCode in this.ctrlKeysMapUp&&(u.ctrlKey||u.metaKey))this[this.ctrlKeysMapUp[u.keyCode]](u);else return;u.stopImmediatePropagation(),u.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(u){var i=this.fromPaste;if(this.fromPaste=!1,u&&u.stopPropagation(),!!this.isEditing){var h=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,c=this._text.length,r=h.length,a,s,o=r-c,d=this.selectionStart,l=this.selectionEnd,v=d!==l,p,b,_;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var C=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),S=d>C.selectionStart;v?(a=this._text.slice(d,l),o+=l-d):r<c&&(S?a=this._text.slice(l+o,l):a=this._text.slice(d,d-o)),s=h.slice(C.selectionEnd-o,C.selectionEnd),a&&a.length&&(s.length&&(p=this.getSelectionStyles(d,d+1,!1),p=s.map(function(){return p[0]})),v?(b=d,_=l):S?(b=l-a.length,_=l):(b=l,_=l+a.length),this.removeStyleFromTo(b,_)),s.length&&(i&&s.join("")===t.copiedText&&!t.disableStyleCopyPaste&&(p=t.copiedTextStyle),this.insertNewStyleBlock(s,d,p)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(u){this.compositionStart=u.target.selectionStart,this.compositionEnd=u.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(t.copiedText=this.getSelectedText(),t.disableStyleCopyPaste?t.copiedTextStyle=null:t.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(u){return u&&u.clipboardData||t.window.clipboardData},_getWidthBeforeCursor:function(u,i){var h=this._getLineLeftOffset(u),c;return i>0&&(c=this.__charBounds[u][i-1],h+=c.left+c.width),h},getDownCursorOffset:function(u,i){var h=this._getSelectionForOffset(u,i),c=this.get2DCursorLocation(h),r=c.lineIndex;if(r===this._textLines.length-1||u.metaKey||u.keyCode===34)return this._text.length-h;var a=c.charIndex,s=this._getWidthBeforeCursor(r,a),o=this._getIndexOnLine(r+1,s),d=this._textLines[r].slice(a);return d.length+o+1+this.missingNewlineOffset(r)},_getSelectionForOffset:function(u,i){return u.shiftKey&&this.selectionStart!==this.selectionEnd&&i?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(u,i){var h=this._getSelectionForOffset(u,i),c=this.get2DCursorLocation(h),r=c.lineIndex;if(r===0||u.metaKey||u.keyCode===33)return-h;var a=c.charIndex,s=this._getWidthBeforeCursor(r,a),o=this._getIndexOnLine(r-1,s),d=this._textLines[r].slice(0,a),l=this.missingNewlineOffset(r-1);return-this._textLines[r-1].length+o-d.length+(1-l)},_getIndexOnLine:function(u,i){for(var h=this._textLines[u],c=this._getLineLeftOffset(u),r=c,a=0,s,o,d=0,l=h.length;d<l;d++)if(s=this.__charBounds[u][d].width,r+=s,r>i){o=!0;var v=r-s,p=r,b=Math.abs(v-i),_=Math.abs(p-i);a=_<b?d:d-1;break}return o||(a=h.length-1),a},moveCursorDown:function(u){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",u)},moveCursorUp:function(u){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",u)},_moveCursorUpOrDown:function(u,i){var h="get"+u+"CursorOffset",c=this[h](i,this._selectionDirection==="right");i.shiftKey?this.moveCursorWithShift(c):this.moveCursorWithoutShift(c),c!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(u){var i=this._selectionDirection==="left"?this.selectionStart+u:this.selectionEnd+u;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,i),u!==0},moveCursorWithoutShift:function(u){return u<0?(this.selectionStart+=u,this.selectionEnd=this.selectionStart):(this.selectionEnd+=u,this.selectionStart=this.selectionEnd),u!==0},moveCursorLeft:function(u){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",u)},_move:function(u,i,h){var c;if(u.altKey)c=this["findWordBoundary"+h](this[i]);else if(u.metaKey||u.keyCode===35||u.keyCode===36)c=this["findLineBoundary"+h](this[i]);else return this[i]+=h==="Left"?-1:1,!0;if(typeof c<"u"&&this[i]!==c)return this[i]=c,!0},_moveLeft:function(u,i){return this._move(u,i,"Left")},_moveRight:function(u,i){return this._move(u,i,"Right")},moveCursorLeftWithoutShift:function(u){var i=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(i=this._moveLeft(u,"selectionStart")),this.selectionEnd=this.selectionStart,i},moveCursorLeftWithShift:function(u){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(u,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(u,"selectionStart")},moveCursorRight:function(u){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",u)},_moveCursorLeftOrRight:function(u,i){var h="moveCursor"+u+"With";this._currentCursorOpacity=1,i.shiftKey?h+="Shift":h+="outShift",this[h](i)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(u){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(u,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(u,"selectionEnd")},moveCursorRightWithoutShift:function(u){var i=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(i=this._moveRight(u,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,i},removeChars:function(u,i){typeof i>"u"&&(i=u+1),this.removeStyleFromTo(u,i),this._text.splice(u,i-u),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(u,i,h,c){typeof c>"u"&&(c=h),c>h&&this.removeStyleFromTo(h,c);var r=t.util.string.graphemeSplit(u);this.insertNewStyleBlock(r,h,i),this._text=[].concat(this._text.slice(0,h),r,this._text.slice(c)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var u=t.util.toFixed,i=t.util.radiansToDegrees,h=t.util.calcRotateMatrix,c=t.util.transformPoint,r=/  +/g;t.util.object.extend(t.Text.prototype,{_toSVG:function(){var a=this._getSVGLeftTopOffsets(),s=this._getSVGTextAndBg(a.textTop,a.textLeft);return this._wrapSVGTextAndBg(s)},toSVG:function(a){var s=this._createBaseSVGMarkup(this._toSVG(),{reviver:a,noStyle:!0,withShadow:!0}),o=this.path;return o?s+o._createBaseSVGMarkup(o._toSVG(),{reviver:a,withShadow:!0}):s},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(a){var s=!0,o=this.getSvgTextDecoration(this);return[a.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",o?'text-decoration="'+o+'" ':"",'style="',this.getSvgStyles(s),'"',this.addPaintOrder()," >",a.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(a,s){var o=[],d=[],l=a,v;this._setSVGBg(d);for(var p=0,b=this._textLines.length;p<b;p++)v=this._getLineLeftOffset(p),(this.textBackgroundColor||this.styleHas("textBackgroundColor",p))&&this._setSVGTextLineBg(d,p,s+v,l),this._setSVGTextLineText(o,p,s+v,l),l+=this.getHeightOfLine(p);return{textSpans:o,textBgRects:d}},_createTextCharSpan:function(a,s,o,d,l){var v=a!==a.trim()||a.match(r),p=this.getSvgSpanStyles(s,v),b=p?'style="'+p+'"':"",_=s.deltaY,C="",S=t.Object.NUM_FRACTION_DIGITS,w="";if(_&&(C=' dy="'+u(_,S)+'" '),l.renderLeft!==void 0){var x=l.angle;w=' rotate="'+u(i(x),t.Object.NUM_FRACTION_DIGITS)+'" ';var A=l.width/2,V=h({angle:i(x)});V[4]=l.renderLeft,V[5]=l.renderTop;var z=c({x:-A,y:0},V);o=z.x,d=z.y}return['<tspan x="',u(o,S),'" y="',u(d,S),'" ',C,b,w,">",t.util.string.escapeXml(a),"</tspan>"].join("")},_setSVGTextLineText:function(a,s,o,d){var l=this.getHeightOfLine(s),v=this.textAlign.indexOf("justify")!==-1,p,b,_="",C,S,w=0,x=this._textLines[s],A;d+=l*(1-this._fontSizeFraction)/this.lineHeight;for(var V=0,z=x.length-1;V<=z;V++)A=V===z||this.charSpacing||this.path,_+=x[V],C=this.__charBounds[s][V],w===0?(o+=C.kernedWidth-C.width,w+=C.width):w+=C.kernedWidth,v&&!A&&this._reSpaceAndTab.test(x[V])&&(A=!0),A||(p=p||this.getCompleteStyleDeclaration(s,V),b=this.getCompleteStyleDeclaration(s,V+1),A=t.util.hasStyleChanged(p,b,!0)),A&&(S=this._getStyleDeclaration(s,V)||{},a.push(this._createTextCharSpan(_,S,o,d,C)),_="",p=b,o+=w,w=0)},_pushTextBgRect:function(a,s,o,d,l,v){var p=t.Object.NUM_FRACTION_DIGITS;a.push("		<rect ",this._getFillAttributes(s),' x="',u(o,p),'" y="',u(d,p),'" width="',u(l,p),'" height="',u(v,p),`"></rect>
`)},_setSVGTextLineBg:function(a,s,o,d){for(var l=this._textLines[s],v=this.getHeightOfLine(s)/this.lineHeight,p=0,b=0,_,C,S=this.getValueOfPropertyAt(s,0,"textBackgroundColor"),w=0,x=l.length;w<x;w++)_=this.__charBounds[s][w],C=this.getValueOfPropertyAt(s,w,"textBackgroundColor"),C!==S?(S&&this._pushTextBgRect(a,S,o+b,d,p,v),b=_.left,p=_.width,S=C):p+=_.kernedWidth;C&&this._pushTextBgRect(a,C,o+b,d,p,v)},_getFillAttributes:function(a){var s=a&&typeof a=="string"?new t.Color(a):"";return!s||!s.getSource()||s.getAlpha()===1?'fill="'+a+'"':'opacity="'+s.getAlpha()+'" fill="'+s.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(a){for(var s=0,o=0,d=0;d<a;d++)s+=this.getHeightOfLine(d);return o=this.getHeightOfLine(d),{lineTop:s,offset:(this._fontSizeMult-this._fontSizeFraction)*o/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(a){var s=t.Object.prototype.getSvgStyles.call(this,a);return s+" white-space: pre;"}})}(),function(u){var i=u.fabric||(u.fabric={});i.Textbox=i.util.createClass(i.IText,i.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:i.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(h){for(var c=0,r=0,a=0,s={},o=0;o<h.graphemeLines.length;o++)h.graphemeText[a]===`
`&&o>0?(r=0,a++,c++):!this.splitByGrapheme&&this._reSpaceAndTab.test(h.graphemeText[a])&&o>0&&(r++,a++),s[o]={line:c,offset:r},a+=h.graphemeLines[o].length,r+=h.graphemeLines[o].length;return s},styleHas:function(h,c){if(this._styleMap&&!this.isWrapping){var r=this._styleMap[c];r&&(c=r.line)}return i.Text.prototype.styleHas.call(this,h,c)},isEmptyStyles:function(h){if(!this.styles)return!0;var c=0,r=h+1,a,s,o=!1,d=this._styleMap[h],l=this._styleMap[h+1];d&&(h=d.line,c=d.offset),l&&(r=l.line,o=r===h,a=l.offset),s=typeof h>"u"?this.styles:{line:this.styles[h]};for(var v in s)for(var p in s[v])if(p>=c&&(!o||p<a))for(var b in s[v][p])return!1;return!0},_getStyleDeclaration:function(h,c){if(this._styleMap&&!this.isWrapping){var r=this._styleMap[h];if(!r)return null;h=r.line,c=r.offset+c}return this.callSuper("_getStyleDeclaration",h,c)},_setStyleDeclaration:function(h,c,r){var a=this._styleMap[h];h=a.line,c=a.offset+c,this.styles[h][c]=r},_deleteStyleDeclaration:function(h,c){var r=this._styleMap[h];h=r.line,c=r.offset+c,delete this.styles[h][c]},_getLineStyle:function(h){var c=this._styleMap[h];return!!this.styles[c.line]},_setLineStyle:function(h){var c=this._styleMap[h];this.styles[c.line]={}},_wrapText:function(h,c){var r=[],a;for(this.isWrapping=!0,a=0;a<h.length;a++)r=r.concat(this._wrapLine(h[a],a,c));return this.isWrapping=!1,r},_measureWord:function(h,c,r){var a=0,s,o=!0;r=r||0;for(var d=0,l=h.length;d<l;d++){var v=this._getGraphemeBox(h[d],c,d+r,s,o);a+=v.kernedWidth,s=h[d]}return a},_wrapLine:function(h,c,r,V){var s=0,o=this.splitByGrapheme,d=[],l=[],v=o?i.util.string.graphemeSplit(h):h.split(this._wordJoiners),p="",b=0,_=o?"":" ",C=0,S=0,w=0,x=!0,A=this._getWidthOfCharSpacing(),V=V||0;v.length===0&&v.push([]),r-=V;for(var z=0;z<v.length;z++)p=o?v[z]:i.util.string.graphemeSplit(v[z]),C=this._measureWord(p,c,b),b+=p.length,s+=S+C-A,s>r&&!x?(d.push(l),l=[],s=C,x=!0):s+=A,!x&&!o&&l.push(_),l=l.concat(p),S=o?0:this._measureWord([_],c,b),b++,x=!1,C>w&&(w=C);return z&&d.push(l),w+V>this.dynamicMinWidth&&(this.dynamicMinWidth=w-A+V),d},isEndOfWrapping:function(h){return!this._styleMap[h+1]||this._styleMap[h+1].line!==this._styleMap[h].line},missingNewlineOffset:function(h,c){return this.splitByGrapheme&&!c?this.isEndOfWrapping(h)?1:0:1},_splitTextIntoLines:function(h){for(var c=i.Text.prototype._splitTextIntoLines.call(this,h),r=this._wrapText(c.lines,this.width),a=new Array(r.length),s=0;s<r.length;s++)a[s]=r[s].join("");return c.lines=a,c.graphemeLines=r,c},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var h={};for(var c in this._styleMap)this._textLines[c]&&(h[this._styleMap[c].line]=1);for(var c in this.styles)h[c]||delete this.styles[c]},toObject:function(h){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(h))}}),i.Textbox.fromObject=function(h,c){var r=i.util.stylesFromArray(h.styles,h.text),a=Object.assign({},h,{styles:r});return delete a.path,i.Object._fromObject("Textbox",a,function(s){h.path?i.Object._fromObject("Path",h.path,function(o){s.set("path",o),c(s)},"path"):c(s)},"text")}}(e),function(){var u=t.controlsUtils,i=u.scaleSkewCursorStyleHandler,h=u.scaleCursorStyleHandler,c=u.scalingEqually,r=u.scalingYOrSkewingX,a=u.scalingXOrSkewingY,s=u.scaleOrSkewActionName,o=t.Object.prototype.controls;if(o.ml=new t.Control({x:-.5,y:0,cursorStyleHandler:i,actionHandler:a,getActionName:s}),o.mr=new t.Control({x:.5,y:0,cursorStyleHandler:i,actionHandler:a,getActionName:s}),o.mb=new t.Control({x:0,y:.5,cursorStyleHandler:i,actionHandler:r,getActionName:s}),o.mt=new t.Control({x:0,y:-.5,cursorStyleHandler:i,actionHandler:r,getActionName:s}),o.tl=new t.Control({x:-.5,y:-.5,cursorStyleHandler:h,actionHandler:c}),o.tr=new t.Control({x:.5,y:-.5,cursorStyleHandler:h,actionHandler:c}),o.bl=new t.Control({x:-.5,y:.5,cursorStyleHandler:h,actionHandler:c}),o.br=new t.Control({x:.5,y:.5,cursorStyleHandler:h,actionHandler:c}),o.mtr=new t.Control({x:0,y:-.5,actionHandler:u.rotationWithSnapping,cursorStyleHandler:u.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),t.Textbox){var d=t.Textbox.prototype.controls={};d.mtr=o.mtr,d.tr=o.tr,d.br=o.br,d.tl=o.tl,d.bl=o.bl,d.mt=o.mt,d.mb=o.mb,d.mr=new t.Control({x:.5,y:0,actionHandler:u.changeWidth,cursorStyleHandler:i,actionName:"resizing"}),d.ml=new t.Control({x:-.5,y:0,actionHandler:u.changeWidth,cursorStyleHandler:i,actionName:"resizing"})}}()}(Ts)),Ts}var Kp=$p();const qr=Ev("counter",{state:()=>({tool:"pencil",layers:["Layer 0"],currentLayer:0,canvas:null,strokes:[]}),getters:{},actions:{setTool(e){this.tool=="text"&&this.canvas.off("mouse:down",this.enterTextEdit),this.tool=e,this.canvas.isDrawingMode=this.tool=="pencil",this.tool=="text"&&this.canvas.on("mouse:down",this.enterTextEdit)},enterTextEdit(e){const t=this.canvas.getPointer(e.e),n=new fabric.IText("",{left:t.x,top:t.y,fontSize:20,fill:this.canvas.freeDrawingBrush.color,editable:!0});this.canvas.add(n).setActiveObject(n),n.enterEditing()},addLayer(){this.layers.push("Layer "+this.layers.length),this.currentLayer=this.layers.length-1},removeLayer(e){this.strokes.forEach(t=>{t.layer===e&&this.canvas.remove(t.path.path)}),this.strokes=this.strokes.filter(t=>t.layer!=e),this.layers.splice(e,1),this.currentLayer===e&&(this.currentLayer=this.layers.length-1)},recordStroke(e){this.strokes.push({path:e,layer:this.currentLayer})}}}),Jr=(e,t)=>{const n=e.__vccOpts||e;for(const[f,g]of t)n[f]=g;return n},qp={class:"ma-3"},Jp={__name:"Canvas",setup(e){const t=ge(null),n=qr();Tt(()=>{f(),n.canvas=new Kp.fabric.Canvas(t.value,{isDrawingMode:!0}),n.canvas.on("path:created",g=>n.recordStroke(g))});function f(){t.value.width=window.innerWidth-335,t.value.height=window.innerHeight*.92}return(g,m)=>(ut(),yr("div",qp,[Ui("canvas",{ref_key:"canvasEl",ref:t,width:"800",height:"600"},null,512)]))}},Zp=Jr(Jp,[["__scopeId","data-v-ae8579f2"]]),bn=ue({border:[Boolean,Number,String]},"border");function _n(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zt();return{borderClasses:H(()=>{const f=Ee(e)?e.value:e.border,g=[];if(f===!0||f==="")g.push(`${t}--border`);else if(typeof f=="string"||f===0)for(const m of String(f).split(" "))g.push(`border-${m}`);return g})}}const Qp=[null,"default","comfortable","compact"],ci=ue({density:{type:String,default:"default",validator:e=>Qp.includes(e)}},"density");function ui(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zt();return{densityClasses:H(()=>`${t}--density-${e.density}`)}}const Cn=ue({elevation:{type:[Number,String],validator(e){const t=parseInt(e);return!isNaN(t)&&t>=0&&t<=24}}},"elevation");function Sn(e){return{elevationClasses:H(()=>{const n=Ee(e)?e.value:e.elevation,f=[];return n==null||f.push(`elevation-${n}`),f})}}const kt=ue({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function Pt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zt();return{roundedClasses:H(()=>{const f=Ee(e)?e.value:e.rounded,g=Ee(e)?e.value:e.tile,m=[];if(f===!0||f==="")m.push(`${t}--rounded`);else if(typeof f=="string"||f===0)for(const y of String(f).split(" "))m.push(`rounded-${y}`);else(g||f===!1)&&m.push("rounded-0");return m})}}function Ga(e){return Ha(()=>{const t=[],n={};if(e.value.background)if(Qs(e.value.background)){if(n.backgroundColor=e.value.background,!e.value.text&&dp(e.value.background)){const f=Ct(e.value.background);if(f.a==null||f.a===1){const g=Tf(f);n.color=g,n.caretColor=g}}}else t.push(`bg-${e.value.background}`);return e.value.text&&(Qs(e.value.text)?(n.color=e.value.text,n.caretColor=e.value.text):t.push(`text-${e.value.text}`)),{colorClasses:t,colorStyles:n}})}function Zt(e,t){const n=H(()=>({text:Ee(e)?e.value:t?e[t]:null})),{colorClasses:f,colorStyles:g}=Ga(n);return{textColorClasses:f,textColorStyles:g}}function gt(e,t){const n=H(()=>({background:Ee(e)?e.value:t?e[t]:null})),{colorClasses:f,colorStyles:g}=Ga(n);return{backgroundColorClasses:f,backgroundColorStyles:g}}const ey=["elevated","flat","tonal","outlined","text","plain"];function $a(e,t){return F(Re,null,[e&&F("span",{key:"overlay",class:`${t}__overlay`},null),F("span",{key:"underlay",class:`${t}__underlay`},null)])}const Ki=ue({color:String,variant:{type:String,default:"elevated",validator:e=>ey.includes(e)}},"variant");function Ka(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zt();const n=H(()=>{const{variant:m}=Ie(e);return`${t}--variant-${m}`}),{colorClasses:f,colorStyles:g}=Ga(H(()=>{const{variant:m,color:y}=Ie(e);return{[["elevated","flat"].includes(m)?"background":"text"]:y}}));return{colorClasses:f,colorStyles:g,variantClasses:n}}const If=ue({baseColor:String,divided:Boolean,...bn(),...xe(),...ci(),...Cn(),...kt(),...Ue(),...$e(),...Ki()},"VBtnGroup"),Wl=Se()({name:"VBtnGroup",props:If(),setup(e,t){let{slots:n}=t;const{themeClasses:f}=Qe(e),{densityClasses:g}=ui(e),{borderClasses:m}=_n(e),{elevationClasses:y}=Sn(e),{roundedClasses:u}=Pt(e);li({VBtn:{height:"auto",baseColor:pe(e,"baseColor"),color:pe(e,"color"),density:pe(e,"density"),flat:!0,variant:pe(e,"variant")}}),we(()=>F(e.tag,{class:["v-btn-group",{"v-btn-group--divided":e.divided},f.value,m.value,g.value,y.value,u.value,e.class],style:e.style},n))}}),ty=ue({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),ny=ue({value:null,disabled:Boolean,selectedClass:String},"group-item");function iy(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const f=He("useGroupItem");if(!f)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const g=tn();Ge(Symbol.for(`${t.description}:id`),g);const m=Pe(t,null);if(!m){if(!n)return m;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${t.description}`)}const y=pe(e,"value"),u=H(()=>!!(m.disabled.value||e.disabled));m.register({id:g,value:y,disabled:u},f),at(()=>{m.unregister(g)});const i=H(()=>m.isSelected(g)),h=H(()=>m.items.value[0].id===g),c=H(()=>m.items.value[m.items.value.length-1].id===g),r=H(()=>i.value&&[m.selectedClass.value,e.selectedClass]);return me(i,a=>{f.emit("group:selected",{value:a})},{flush:"sync"}),{id:g,isSelected:i,isFirst:h,isLast:c,toggle:()=>m.select(g,!i.value),select:a=>m.select(g,a),selectedClass:r,value:y,disabled:u,group:m}}function ry(e,t){let n=!1;const f=We([]),g=Ze(e,"modelValue",[],a=>a==null?[]:Rf(f,Ln(a)),a=>{const s=ay(f,a);return e.multiple?s:s[0]}),m=He("useGroup");function y(a,s){const o=a,d=Symbol.for(`${t.description}:id`),v=qn(d,m==null?void 0:m.vnode).indexOf(s);Ie(o.value)==null&&(o.value=v,o.useIndexAsValue=!0),v>-1?f.splice(v,0,o):f.push(o)}function u(a){if(n)return;i();const s=f.findIndex(o=>o.id===a);f.splice(s,1)}function i(){const a=f.find(s=>!s.disabled);a&&e.mandatory==="force"&&!g.value.length&&(g.value=[a.id])}Tt(()=>{i()}),at(()=>{n=!0}),Pa(()=>{for(let a=0;a<f.length;a++)f[a].useIndexAsValue&&(f[a].value=a)});function h(a,s){const o=f.find(d=>d.id===a);if(!(s&&(o!=null&&o.disabled)))if(e.multiple){const d=g.value.slice(),l=d.findIndex(p=>p===a),v=~l;if(s=s??!v,v&&e.mandatory&&d.length<=1||!v&&e.max!=null&&d.length+1>e.max)return;l<0&&s?d.push(a):l>=0&&!s&&d.splice(l,1),g.value=d}else{const d=g.value.includes(a);if(e.mandatory&&d)return;g.value=s??!d?[a]:[]}}function c(a){if(e.multiple,g.value.length){const s=g.value[0],o=f.findIndex(v=>v.id===s);let d=(o+a)%f.length,l=f[d];for(;l.disabled&&d!==o;)d=(d+a)%f.length,l=f[d];if(l.disabled)return;g.value=[f[d].id]}else{const s=f.find(o=>!o.disabled);s&&(g.value=[s.id])}}const r={register:y,unregister:u,selected:g,select:h,disabled:pe(e,"disabled"),prev:()=>c(f.length-1),next:()=>c(1),isSelected:a=>g.value.includes(a),selectedClass:H(()=>e.selectedClass),items:H(()=>f),getItemIndex:a=>sy(f,a)};return Ge(t,r),r}function sy(e,t){const n=Rf(e,[t]);return n.length?e.findIndex(f=>f.id===n[0]):-1}function Rf(e,t){const n=[];return t.forEach(f=>{const g=e.find(y=>$i(f,y.value)),m=e[f];(g==null?void 0:g.value)!=null?n.push(g.id):m!=null&&n.push(m.id)}),n}function ay(e,t){const n=[];return t.forEach(f=>{const g=e.findIndex(m=>m.id===f);if(~g){const m=e[g];n.push(m.value!=null?m.value:g)}}),n}const Bf=Symbol.for("vuetify:v-btn-toggle"),oy=ue({...If(),...ty()},"VBtnToggle");Se()({name:"VBtnToggle",props:oy(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isSelected:f,next:g,prev:m,select:y,selected:u}=ry(e,Bf);return we(()=>{const i=Wl.filterProps(e);return F(Wl,Me({class:["v-btn-toggle",e.class]},i,{style:e.style}),{default:()=>{var h;return[(h=n.default)==null?void 0:h.call(n,{isSelected:f,next:g,prev:m,select:y,selected:u})]}})}),{next:g,prev:m,select:y}}});const ly=ue({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),xt=Se(!1)({name:"VDefaultsProvider",props:ly(),setup(e,t){let{slots:n}=t;const{defaults:f,disabled:g,reset:m,root:y,scoped:u}=Vr(e);return li(f,{reset:m,root:y,scoped:u,disabled:g}),()=>{var i;return(i=n.default)==null?void 0:i.call(n)}}}),cy={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper",upload:"mdi-cloud-upload"},uy={component:e=>Wt(Vf,{...e,class:"mdi"})},Xe=[String,Function,Object,Array],ta=Symbol.for("vuetify:icons"),Zr=ue({icon:{type:Xe},tag:{type:String,required:!0}},"icon"),zl=Se()({name:"VComponentIcon",props:Zr(),setup(e,t){let{slots:n}=t;return()=>{const f=e.icon;return F(e.tag,null,{default:()=>{var g;return[e.icon?F(f,null,null):(g=n.default)==null?void 0:g.call(n)]}})}}}),jf=It({name:"VSvgIcon",inheritAttrs:!1,props:Zr(),setup(e,t){let{attrs:n}=t;return()=>F(e.tag,Me(n,{style:null}),{default:()=>[F("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(e.icon)?e.icon.map(f=>Array.isArray(f)?F("path",{d:f[0],"fill-opacity":f[1]},null):F("path",{d:f},null)):F("path",{d:e.icon},null)])]})}});It({name:"VLigatureIcon",props:Zr(),setup(e){return()=>F(e.tag,null,{default:()=>[e.icon]})}});const Vf=It({name:"VClassIcon",props:Zr(),setup(e){return()=>F(e.tag,{class:e.icon},null)}});function fy(){return{svg:{component:jf},class:{component:Vf}}}function hy(e){const t=fy(),n=(e==null?void 0:e.defaultSet)??"mdi";return n==="mdi"&&!t.mdi&&(t.mdi=uy),dt({defaultSet:n,sets:t,aliases:{...cy,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},e)}const dy=e=>{const t=Pe(ta);if(!t)throw new Error("Missing Vuetify Icons provide!");return{iconData:H(()=>{var i;const f=Ie(e);if(!f)return{component:zl};let g=f;if(typeof g=="string"&&(g=g.trim(),g.startsWith("$")&&(g=(i=t.aliases)==null?void 0:i[g.slice(1)])),Array.isArray(g))return{component:jf,icon:g};if(typeof g!="string")return{component:zl,icon:g};const m=Object.keys(t.sets).find(h=>typeof g=="string"&&g.startsWith(`${h}:`)),y=m?g.slice(m.length+1):g;return{component:t.sets[m??t.defaultSet].component,icon:y}})}},gy=["x-small","small","default","large","x-large"],Qr=ue({size:{type:[String,Number],default:"default"}},"size");function es(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zt();return Ha(()=>{let n,f;return wr(gy,e.size)?n=`${t}--size-${e.size}`:e.size&&(f={width:de(e.size),height:de(e.size)}),{sizeClasses:n,sizeStyles:f}})}const vy=ue({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:Xe,...xe(),...Qr(),...Ue({tag:"i"}),...$e()},"VIcon"),vt=Se()({name:"VIcon",props:vy(),setup(e,t){let{attrs:n,slots:f}=t;const g=ge(),{themeClasses:m}=Qe(e),{iconData:y}=dy(H(()=>g.value||e.icon)),{sizeClasses:u}=es(e),{textColorClasses:i,textColorStyles:h}=Zt(pe(e,"color"));return we(()=>{var a,s;const c=(a=f.default)==null?void 0:a.call(f);c&&(g.value=(s=cf(c).filter(o=>o.type===Xi&&o.children&&typeof o.children=="string")[0])==null?void 0:s.children);const r=!!(n.onClick||n.onClickOnce);return F(y.value.component,{tag:e.tag,icon:y.value.icon,class:["v-icon","notranslate",m.value,u.value,i.value,{"v-icon--clickable":r,"v-icon--disabled":e.disabled,"v-icon--start":e.start,"v-icon--end":e.end},e.class],style:[u.value?void 0:{fontSize:de(e.size),height:de(e.size),width:de(e.size)},h.value,e.style],role:r?"button":void 0,"aria-hidden":!r,tabindex:r?e.disabled?-1:0:void 0},{default:()=>[c]})}),{}}});function Nf(e,t){const n=ge(),f=ye(!1);if(ja){const g=new IntersectionObserver(m=>{f.value=!!m.find(y=>y.isIntersecting)},t);at(()=>{g.disconnect()}),me(n,(m,y)=>{y&&(g.unobserve(y),f.value=!1),m&&g.observe(m)},{flush:"post"})}return{intersectionRef:n,isIntersecting:f}}const my=ue({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...xe(),...Qr(),...Ue({tag:"div"}),...$e()},"VProgressCircular"),py=Se()({name:"VProgressCircular",props:my(),setup(e,t){let{slots:n}=t;const f=20,g=2*Math.PI*f,m=ge(),{themeClasses:y}=Qe(e),{sizeClasses:u,sizeStyles:i}=es(e),{textColorClasses:h,textColorStyles:c}=Zt(pe(e,"color")),{textColorClasses:r,textColorStyles:a}=Zt(pe(e,"bgColor")),{intersectionRef:s,isIntersecting:o}=Nf(),{resizeRef:d,contentRect:l}=Ua(),v=H(()=>Math.max(0,Math.min(100,parseFloat(e.modelValue)))),p=H(()=>Number(e.width)),b=H(()=>i.value?Number(e.size):l.value?l.value.width:Math.max(p.value,32)),_=H(()=>f/(1-p.value/b.value)*2),C=H(()=>p.value/b.value*_.value),S=H(()=>de((100-v.value)/100*g));return Ht(()=>{s.value=m.value,d.value=m.value}),we(()=>F(e.tag,{ref:m,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":o.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},y.value,u.value,h.value,e.class],style:[i.value,c.value,e.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:v.value},{default:()=>[F("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${_.value} ${_.value}`},[F("circle",{class:["v-progress-circular__underlay",r.value],style:a.value,fill:"transparent",cx:"50%",cy:"50%",r:f,"stroke-width":C.value,"stroke-dasharray":g,"stroke-dashoffset":0},null),F("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:f,"stroke-width":C.value,"stroke-dasharray":g,"stroke-dashoffset":S.value},null)]),n.default&&F("div",{class:"v-progress-circular__content"},[n.default({value:v.value})])]})),{}}}),Yl={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},qa=ue({location:String},"location");function Ja(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:f}=Ot();return{locationStyles:H(()=>{if(!e.location)return{};const{side:m,align:y}=Js(e.location.split(" ").length>1?e.location:`${e.location} center`,f.value);function u(h){return n?n(h):0}const i={};return m!=="center"&&(t?i[Yl[m]]=`calc(100% - ${u(m)}px)`:i[m]=0),y!=="center"?t?i[Yl[y]]=`calc(100% - ${u(y)}px)`:i[y]=0:(m==="center"?i.top=i.left="50%":i[{top:"left",bottom:"left",left:"top",right:"top"}[m]]="50%",i.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[m]),i})}}const yy=ue({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...xe(),...qa({location:"top"}),...kt(),...Ue(),...$e()},"VProgressLinear"),by=Se()({name:"VProgressLinear",props:yy(),emits:{"update:modelValue":e=>!0},setup(e,t){var z;let{slots:n}=t;const f=Ze(e,"modelValue"),{isRtl:g,rtlClasses:m}=Ot(),{themeClasses:y}=Qe(e),{locationStyles:u}=Ja(e),{textColorClasses:i,textColorStyles:h}=Zt(e,"color"),{backgroundColorClasses:c,backgroundColorStyles:r}=gt(H(()=>e.bgColor||e.color)),{backgroundColorClasses:a,backgroundColorStyles:s}=gt(H(()=>e.bufferColor||e.bgColor||e.color)),{backgroundColorClasses:o,backgroundColorStyles:d}=gt(e,"color"),{roundedClasses:l}=Pt(e),{intersectionRef:v,isIntersecting:p}=Nf(),b=H(()=>parseFloat(e.max)),_=H(()=>parseFloat(e.height)),C=H(()=>_t(parseFloat(e.bufferValue)/b.value*100,0,100)),S=H(()=>_t(parseFloat(f.value)/b.value*100,0,100)),w=H(()=>g.value!==e.reverse),x=H(()=>e.indeterminate?"fade-transition":"slide-x-transition"),A=Be&&((z=window.matchMedia)==null?void 0:z.call(window,"(forced-colors: active)").matches);function V(R){if(!v.value)return;const{left:G,right:$,width:ee}=v.value.getBoundingClientRect(),ne=w.value?ee-R.clientX+($-ee):R.clientX-G;f.value=Math.round(ne/ee*b.value)}return we(()=>F(e.tag,{ref:v,class:["v-progress-linear",{"v-progress-linear--absolute":e.absolute,"v-progress-linear--active":e.active&&p.value,"v-progress-linear--reverse":w.value,"v-progress-linear--rounded":e.rounded,"v-progress-linear--rounded-bar":e.roundedBar,"v-progress-linear--striped":e.striped},l.value,y.value,m.value,e.class],style:[{bottom:e.location==="bottom"?0:void 0,top:e.location==="top"?0:void 0,height:e.active?de(_.value):0,"--v-progress-linear-height":de(_.value),...e.absolute?u.value:{}},e.style],role:"progressbar","aria-hidden":e.active?"false":"true","aria-valuemin":"0","aria-valuemax":e.max,"aria-valuenow":e.indeterminate?void 0:S.value,onClick:e.clickable&&V},{default:()=>[e.stream&&F("div",{key:"stream",class:["v-progress-linear__stream",i.value],style:{...h.value,[w.value?"left":"right"]:de(-_.value),borderTop:`${de(_.value/2)} dotted`,opacity:parseFloat(e.bufferOpacity),top:`calc(50% - ${de(_.value/4)})`,width:de(100-C.value,"%"),"--v-progress-linear-stream-to":de(_.value*(w.value?1:-1))}},null),F("div",{class:["v-progress-linear__background",A?void 0:c.value],style:[r.value,{opacity:parseFloat(e.bgOpacity),width:e.stream?0:void 0}]},null),F("div",{class:["v-progress-linear__buffer",A?void 0:a.value],style:[s.value,{opacity:parseFloat(e.bufferOpacity),width:de(C.value,"%")}]},null),F(ai,{name:x.value},{default:()=>[e.indeterminate?F("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(R=>F("div",{key:R,class:["v-progress-linear__indeterminate",R,A?void 0:o.value],style:d.value},null))]):F("div",{class:["v-progress-linear__determinate",A?void 0:o.value],style:[d.value,{width:de(S.value,"%")}]},null)]}),n.default&&F("div",{class:"v-progress-linear__content"},[n.default({value:S.value,buffer:C.value})])]})),{}}}),Hf=ue({loading:[Boolean,String]},"loader");function Wf(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zt();return{loaderClasses:H(()=>({[`${t}--loading`]:e.loading}))}}function _y(e,t){var f;let{slots:n}=t;return F("div",{class:`${e.name}__loader`},[((f=n.default)==null?void 0:f.call(n,{color:e.color,isActive:e.active}))||F(by,{absolute:e.absolute,active:e.active,color:e.color,height:"2",indeterminate:!0},null)])}const Cy=["static","relative","fixed","absolute","sticky"],zf=ue({position:{type:String,validator:e=>Cy.includes(e)}},"position");function Yf(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zt();return{positionClasses:H(()=>e.position?`${t}--${e.position}`:void 0)}}function Sy(){const e=He("useRoute");return H(()=>{var t;return(t=e==null?void 0:e.proxy)==null?void 0:t.$route})}function Xf(){var e,t;return(t=(e=He("useRouter"))==null?void 0:e.proxy)==null?void 0:t.$router}function Uf(e,t){var r,a;const n=Qd("RouterLink"),f=H(()=>!!(e.href||e.to)),g=H(()=>(f==null?void 0:f.value)||Sl(t,"click")||Sl(e,"click"));if(typeof n=="string"||!("useLink"in n)){const s=pe(e,"href");return{isLink:f,isClickable:g,href:s,linkProps:We({href:s})}}const m=H(()=>({...e,to:pe(()=>e.to||"")})),y=n.useLink(m.value),u=H(()=>e.to?y:void 0),i=Sy(),h=H(()=>{var s,o,d;return u.value?e.exact?i.value?((d=u.value.isExactActive)==null?void 0:d.value)&&$i(u.value.route.value.query,i.value.query):((o=u.value.isExactActive)==null?void 0:o.value)??!1:((s=u.value.isActive)==null?void 0:s.value)??!1:!1}),c=H(()=>{var s;return e.to?(s=u.value)==null?void 0:s.route.value.href:e.href});return{isLink:f,isClickable:g,isActive:h,route:(r=u.value)==null?void 0:r.route,navigate:(a=u.value)==null?void 0:a.navigate,href:c,linkProps:We({href:c,"aria-current":H(()=>h.value?"page":void 0)})}}const Gf=ue({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let ks=!1;function wy(e,t){let n=!1,f,g;Be&&(ct(()=>{window.addEventListener("popstate",m),f=e==null?void 0:e.beforeEach((y,u,i)=>{ks?n?t(i):i():setTimeout(()=>n?t(i):i()),ks=!0}),g=e==null?void 0:e.afterEach(()=>{ks=!1})}),mt(()=>{window.removeEventListener("popstate",m),f==null||f(),g==null||g()}));function m(y){var u;(u=y.state)!=null&&u.replaced||(n=!0,setTimeout(()=>n=!1))}}function xy(e,t){me(()=>{var n;return(n=e.isActive)==null?void 0:n.value},n=>{e.isLink.value&&n&&t&&ct(()=>{t(!0)})},{immediate:!0})}const na=Symbol("rippleStop"),Ty=80;function Xl(e,t){e.style.transform=t,e.style.webkitTransform=t}function ia(e){return e.constructor.name==="TouchEvent"}function $f(e){return e.constructor.name==="KeyboardEvent"}const Oy=function(e,t){var r;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},f=0,g=0;if(!$f(e)){const a=t.getBoundingClientRect(),s=ia(e)?e.touches[e.touches.length-1]:e;f=s.clientX-a.left,g=s.clientY-a.top}let m=0,y=.3;(r=t._ripple)!=null&&r.circle?(y=.15,m=t.clientWidth/2,m=n.center?m:m+Math.sqrt((f-m)**2+(g-m)**2)/4):m=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const u=`${(t.clientWidth-m*2)/2}px`,i=`${(t.clientHeight-m*2)/2}px`,h=n.center?u:`${f-m}px`,c=n.center?i:`${g-m}px`;return{radius:m,scale:y,x:h,y:c,centerX:u,centerY:i}},Er={show(e,t){var s;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((s=t==null?void 0:t._ripple)!=null&&s.enabled))return;const f=document.createElement("span"),g=document.createElement("span");f.appendChild(g),f.className="v-ripple__container",n.class&&(f.className+=` ${n.class}`);const{radius:m,scale:y,x:u,y:i,centerX:h,centerY:c}=Oy(e,t,n),r=`${m*2}px`;g.className="v-ripple__animation",g.style.width=r,g.style.height=r,t.appendChild(f);const a=window.getComputedStyle(t);a&&a.position==="static"&&(t.style.position="relative",t.dataset.previousPosition="static"),g.classList.add("v-ripple__animation--enter"),g.classList.add("v-ripple__animation--visible"),Xl(g,`translate(${u}, ${i}) scale3d(${y},${y},${y})`),g.dataset.activated=String(performance.now()),setTimeout(()=>{g.classList.remove("v-ripple__animation--enter"),g.classList.add("v-ripple__animation--in"),Xl(g,`translate(${h}, ${c}) scale3d(1,1,1)`)},0)},hide(e){var m;if(!((m=e==null?void 0:e._ripple)!=null&&m.enabled))return;const t=e.getElementsByClassName("v-ripple__animation");if(t.length===0)return;const n=t[t.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const f=performance.now()-Number(n.dataset.activated),g=Math.max(250-f,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout(()=>{var u;e.getElementsByClassName("v-ripple__animation").length===1&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),((u=n.parentNode)==null?void 0:u.parentNode)===e&&e.removeChild(n.parentNode)},300)},g)}};function Kf(e){return typeof e>"u"||!!e}function ji(e){const t={},n=e.currentTarget;if(!(!(n!=null&&n._ripple)||n._ripple.touched||e[na])){if(e[na]=!0,ia(e))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(t.center=n._ripple.centered||$f(e),n._ripple.class&&(t.class=n._ripple.class),ia(e)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{Er.show(e,n,t)},n._ripple.showTimer=window.setTimeout(()=>{var f;(f=n==null?void 0:n._ripple)!=null&&f.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},Ty)}else Er.show(e,n,t)}}function Ul(e){e[na]=!0}function ft(e){const t=e.currentTarget;if(t!=null&&t._ripple){if(window.clearTimeout(t._ripple.showTimer),e.type==="touchend"&&t._ripple.showTimerCommit){t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,t._ripple.showTimer=window.setTimeout(()=>{ft(e)});return}window.setTimeout(()=>{t._ripple&&(t._ripple.touched=!1)}),Er.hide(t)}}function qf(e){const t=e.currentTarget;t!=null&&t._ripple&&(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}let Vi=!1;function Jf(e){!Vi&&(e.keyCode===pl.enter||e.keyCode===pl.space)&&(Vi=!0,ji(e))}function Zf(e){Vi=!1,ft(e)}function Qf(e){Vi&&(Vi=!1,ft(e))}function eh(e,t,n){const{value:f,modifiers:g}=t,m=Kf(f);if(m||Er.hide(e),e._ripple=e._ripple??{},e._ripple.enabled=m,e._ripple.centered=g.center,e._ripple.circle=g.circle,Im(f)&&f.class&&(e._ripple.class=f.class),m&&!n){if(g.stop){e.addEventListener("touchstart",Ul,{passive:!0}),e.addEventListener("mousedown",Ul);return}e.addEventListener("touchstart",ji,{passive:!0}),e.addEventListener("touchend",ft,{passive:!0}),e.addEventListener("touchmove",qf,{passive:!0}),e.addEventListener("touchcancel",ft),e.addEventListener("mousedown",ji),e.addEventListener("mouseup",ft),e.addEventListener("mouseleave",ft),e.addEventListener("keydown",Jf),e.addEventListener("keyup",Zf),e.addEventListener("blur",Qf),e.addEventListener("dragstart",ft,{passive:!0})}else!m&&n&&th(e)}function th(e){e.removeEventListener("mousedown",ji),e.removeEventListener("touchstart",ji),e.removeEventListener("touchend",ft),e.removeEventListener("touchmove",qf),e.removeEventListener("touchcancel",ft),e.removeEventListener("mouseup",ft),e.removeEventListener("mouseleave",ft),e.removeEventListener("keydown",Jf),e.removeEventListener("keyup",Zf),e.removeEventListener("dragstart",ft),e.removeEventListener("blur",Qf)}function ky(e,t){eh(e,t,!1)}function Py(e){delete e._ripple,th(e)}function Ey(e,t){if(t.value===t.oldValue)return;const n=Kf(t.oldValue);eh(e,t,n)}const Za={mounted:ky,unmounted:Py,updated:Ey},Ay=ue({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:Bf},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:Xe,appendIcon:Xe,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...bn(),...xe(),...ci(),...pn(),...Cn(),...ny(),...Hf(),...qa(),...zf(),...kt(),...Gf(),...Qr(),...Ue({tag:"button"}),...$e(),...Ki({variant:"elevated"})},"VBtn"),Nn=Se()({name:"VBtn",props:Ay(),emits:{"group:selected":e=>!0},setup(e,t){let{attrs:n,slots:f}=t;const{themeClasses:g}=Qe(e),{borderClasses:m}=_n(e),{densityClasses:y}=ui(e),{dimensionStyles:u}=yn(e),{elevationClasses:i}=Sn(e),{loaderClasses:h}=Wf(e),{locationStyles:c}=Ja(e),{positionClasses:r}=Yf(e),{roundedClasses:a}=Pt(e),{sizeClasses:s,sizeStyles:o}=es(e),d=iy(e,e.symbol,!1),l=Uf(e,n),v=H(()=>{var z;return e.active!==void 0?e.active:l.isLink.value?(z=l.isActive)==null?void 0:z.value:d==null?void 0:d.isSelected.value}),p=H(()=>v.value?e.activeColor??e.color:e.color),b=H(()=>{var R,G;return{color:(d==null?void 0:d.isSelected.value)&&(!l.isLink.value||((R=l.isActive)==null?void 0:R.value))||!d||((G=l.isActive)==null?void 0:G.value)?p.value??e.baseColor:e.baseColor,variant:e.variant}}),{colorClasses:_,colorStyles:C,variantClasses:S}=Ka(b),w=H(()=>(d==null?void 0:d.disabled.value)||e.disabled),x=H(()=>e.variant==="elevated"&&!(e.disabled||e.flat||e.border)),A=H(()=>{if(!(e.value===void 0||typeof e.value=="symbol"))return Object(e.value)===e.value?JSON.stringify(e.value,null,0):e.value});function V(z){var R;w.value||l.isLink.value&&(z.metaKey||z.ctrlKey||z.shiftKey||z.button!==0||n.target==="_blank")||((R=l.navigate)==null||R.call(l,z),d==null||d.toggle())}return xy(l,d==null?void 0:d.select),we(()=>{const z=l.isLink.value?"a":e.tag,R=!!(e.prependIcon||f.prepend),G=!!(e.appendIcon||f.append),$=!!(e.icon&&e.icon!==!0);return Ft(F(z,Me({type:z==="a"?void 0:"button",class:["v-btn",d==null?void 0:d.selectedClass.value,{"v-btn--active":v.value,"v-btn--block":e.block,"v-btn--disabled":w.value,"v-btn--elevated":x.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--loading":e.loading,"v-btn--readonly":e.readonly,"v-btn--slim":e.slim,"v-btn--stacked":e.stacked},g.value,m.value,_.value,y.value,i.value,h.value,r.value,a.value,s.value,S.value,e.class],style:[C.value,u.value,c.value,o.value,e.style],"aria-busy":e.loading?!0:void 0,disabled:w.value||void 0,tabindex:e.loading||e.readonly?-1:void 0,onClick:V,value:A.value},l.linkProps),{default:()=>{var ee;return[$a(!0,"v-btn"),!e.icon&&R&&F("span",{key:"prepend",class:"v-btn__prepend"},[f.prepend?F(xt,{key:"prepend-defaults",disabled:!e.prependIcon,defaults:{VIcon:{icon:e.prependIcon}}},f.prepend):F(vt,{key:"prepend-icon",icon:e.prependIcon},null)]),F("span",{class:"v-btn__content","data-no-activator":""},[!f.default&&$?F(vt,{key:"content-icon",icon:e.icon},null):F(xt,{key:"content-defaults",disabled:!$,defaults:{VIcon:{icon:e.icon}}},{default:()=>{var ne;return[((ne=f.default)==null?void 0:ne.call(f))??e.text]}})]),!e.icon&&G&&F("span",{key:"append",class:"v-btn__append"},[f.append?F(xt,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VIcon:{icon:e.appendIcon}}},f.append):F(vt,{key:"append-icon",icon:e.appendIcon},null)]),!!e.loading&&F("span",{key:"loader",class:"v-btn__loader"},[((ee=f.loader)==null?void 0:ee.call(f))??F(py,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,width:"2"},null)])]}}),[[Za,!w.value&&e.ripple,"",{center:!!e.icon}]])}),{group:d}}}),My=ue({color:{type:Object},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300},...xe()},"VColorPickerCanvas"),Dy=It({name:"VColorPickerCanvas",props:My(),emits:{"update:color":e=>!0,"update:position":e=>!0},setup(e,t){let{emit:n}=t;const f=ye(!1),g=ge(),m=ye(parseFloat(e.width)),y=ye(parseFloat(e.height)),u=ge({x:0,y:0}),i=H({get:()=>u.value,set(l){var b,_;if(!g.value)return;const{x:v,y:p}=l;u.value=l,n("update:color",{h:((b=e.color)==null?void 0:b.h)??0,s:_t(v,0,m.value)/m.value,v:1-_t(p,0,y.value)/y.value,a:((_=e.color)==null?void 0:_.a)??1})}}),h=H(()=>{const{x:l,y:v}=i.value,p=parseInt(e.dotSize,10)/2;return{width:de(e.dotSize),height:de(e.dotSize),transform:`translate(${de(l-p)}, ${de(v-p)})`}}),{resizeRef:c}=Ua(l=>{var b;if(!((b=c.el)!=null&&b.offsetParent))return;const{width:v,height:p}=l[0].contentRect;m.value=v,y.value=p});function r(l,v,p){const{left:b,top:_,width:C,height:S}=p;i.value={x:_t(l-b,0,C),y:_t(v-_,0,S)}}function a(l){l.type==="mousedown"&&l.preventDefault(),!e.disabled&&(s(l),window.addEventListener("mousemove",s),window.addEventListener("mouseup",o),window.addEventListener("touchmove",s),window.addEventListener("touchend",o))}function s(l){if(e.disabled||!g.value)return;f.value=!0;const v=zm(l);r(v.clientX,v.clientY,g.value.getBoundingClientRect())}function o(){window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",o),window.removeEventListener("touchmove",s),window.removeEventListener("touchend",o)}function d(){var _;if(!g.value)return;const l=g.value,v=l.getContext("2d");if(!v)return;const p=v.createLinearGradient(0,0,l.width,0);p.addColorStop(0,"hsla(0, 0%, 100%, 1)"),p.addColorStop(1,`hsla(${((_=e.color)==null?void 0:_.h)??0}, 100%, 50%, 1)`),v.fillStyle=p,v.fillRect(0,0,l.width,l.height);const b=v.createLinearGradient(0,0,0,l.height);b.addColorStop(0,"hsla(0, 0%, 0%, 0)"),b.addColorStop(1,"hsla(0, 0%, 0%, 1)"),v.fillStyle=b,v.fillRect(0,0,l.width,l.height)}return me(()=>{var l;return(l=e.color)==null?void 0:l.h},d,{immediate:!0}),me(()=>[m.value,y.value],(l,v)=>{d(),u.value={x:i.value.x*l[0]/v[0],y:i.value.y*l[1]/v[1]}},{flush:"post"}),me(()=>e.color,()=>{if(f.value){f.value=!1;return}u.value=e.color?{x:e.color.s*m.value,y:(1-e.color.v)*y.value}:{x:0,y:0}},{deep:!0,immediate:!0}),Tt(()=>d()),we(()=>F("div",{ref:c,class:["v-color-picker-canvas",e.class],style:e.style,onMousedown:a,onTouchstartPassive:a},[F("canvas",{ref:g,width:m.value,height:y.value},null),e.color&&F("div",{class:["v-color-picker-canvas__dot",{"v-color-picker-canvas__dot--disabled":e.disabled}],style:h.value},null)])),{}}});function Fy(e,t){if(t){const{a:n,...f}=e;return f}return e}function Ly(e,t){if(t==null||typeof t=="string"){const n=xf(e);return e.a===1?n.slice(0,7):n}if(typeof t=="object"){let n;return Mn(t,["r","g","b"])?n=Jt(e):Mn(t,["h","s","l"])?n=yf(e):Mn(t,["h","s","v"])&&(n=e),Fy(n,!Mn(t,["a"])&&e.a===1)}return e}const Jn={h:0,s:0,v:0,a:1},ra={inputProps:{type:"number",min:0},inputs:[{label:"R",max:255,step:1,getValue:e=>Math.round(e.r),getColor:(e,t)=>({...e,r:Number(t)})},{label:"G",max:255,step:1,getValue:e=>Math.round(e.g),getColor:(e,t)=>({...e,g:Number(t)})},{label:"B",max:255,step:1,getValue:e=>Math.round(e.b),getColor:(e,t)=>({...e,b:Number(t)})},{label:"A",max:1,step:.01,getValue:e=>{let{a:t}=e;return t!=null?Math.round(t*100)/100:1},getColor:(e,t)=>({...e,a:Number(t)})}],to:Jt,from:$r};var mc;const Iy={...ra,inputs:(mc=ra.inputs)==null?void 0:mc.slice(0,3)},sa={inputProps:{type:"number",min:0},inputs:[{label:"H",max:360,step:1,getValue:e=>Math.round(e.h),getColor:(e,t)=>({...e,h:Number(t)})},{label:"S",max:1,step:.01,getValue:e=>Math.round(e.s*100)/100,getColor:(e,t)=>({...e,s:Number(t)})},{label:"L",max:1,step:.01,getValue:e=>Math.round(e.l*100)/100,getColor:(e,t)=>({...e,l:Number(t)})},{label:"A",max:1,step:.01,getValue:e=>{let{a:t}=e;return t!=null?Math.round(t*100)/100:1},getColor:(e,t)=>({...e,a:Number(t)})}],to:yf,from:za},Ry={...sa,inputs:sa.inputs.slice(0,3)},nh={inputProps:{type:"text"},inputs:[{label:"HEXA",getValue:e=>e,getColor:(e,t)=>t}],to:xf,from:wf},By={...nh,inputs:[{label:"HEX",getValue:e=>e.slice(0,7),getColor:(e,t)=>t}]},Bn={rgb:Iy,rgba:ra,hsl:Ry,hsla:sa,hex:By,hexa:nh},jy=e=>{let{label:t,...n}=e;return F("div",{class:"v-color-picker-edit__input"},[F("input",n,null),F("span",null,[t])])},Vy=ue({color:Object,disabled:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(Bn).includes(e)},modes:{type:Array,default:()=>Object.keys(Bn),validator:e=>Array.isArray(e)&&e.every(t=>Object.keys(Bn).includes(t))},...xe()},"VColorPickerEdit"),Ny=It({name:"VColorPickerEdit",props:Vy(),emits:{"update:color":e=>!0,"update:mode":e=>!0},setup(e,t){let{emit:n}=t;const f=H(()=>e.modes.map(m=>({...Bn[m],name:m}))),g=H(()=>{var u;const m=f.value.find(i=>i.name===e.mode);if(!m)return[];const y=e.color?m.to(e.color):null;return(u=m.inputs)==null?void 0:u.map(i=>{let{getValue:h,getColor:c,...r}=i;return{...m.inputProps,...r,disabled:e.disabled,value:y&&h(y),onChange:a=>{const s=a.target;s&&n("update:color",m.from(c(y??m.to(Jn),s.value)))}}})});return we(()=>{var m;return F("div",{class:["v-color-picker-edit",e.class],style:e.style},[(m=g.value)==null?void 0:m.map(y=>F(jy,y,null)),f.value.length>1&&F(Nn,{icon:"$unfold",size:"x-small",variant:"plain",onClick:()=>{const y=f.value.findIndex(u=>u.name===e.mode);n("update:mode",f.value[(y+1)%f.value.length].name)}},null)])}),{}}}),Qa=Symbol.for("vuetify:v-slider");function Hy(e,t,n){const f=n==="vertical",g=t.getBoundingClientRect(),m="touches"in e?e.touches[0]:e;return f?m.clientY-(g.top+g.height/2):m.clientX-(g.left+g.width/2)}function Wy(e,t){return"touches"in e&&e.touches.length?e.touches[0][t]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][t]:e[t]}const zy=ue({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...kt(),...Cn({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),Yy=e=>{const t=H(()=>parseFloat(e.min)),n=H(()=>parseFloat(e.max)),f=H(()=>+e.step>0?parseFloat(e.step):0),g=H(()=>Math.max(bl(f.value),bl(t.value)));function m(y){if(y=parseFloat(y),f.value<=0)return y;const u=_t(y,t.value,n.value),i=t.value%f.value,h=Math.round((u-i)/f.value)*f.value+i;return parseFloat(Math.min(h,n.value).toFixed(g.value))}return{min:t,max:n,step:f,decimals:g,roundValue:m}},Xy=e=>{let{props:t,steps:n,onSliderStart:f,onSliderMove:g,onSliderEnd:m,getActiveThumb:y}=e;const{isRtl:u}=Ot(),i=pe(t,"reverse"),h=H(()=>t.direction==="vertical"),c=H(()=>h.value!==i.value),{min:r,max:a,step:s,decimals:o,roundValue:d}=n,l=H(()=>parseInt(t.thumbSize,10)),v=H(()=>parseInt(t.tickSize,10)),p=H(()=>parseInt(t.trackSize,10)),b=H(()=>(a.value-r.value)/s.value),_=pe(t,"disabled"),C=H(()=>t.error||t.disabled?void 0:t.thumbColor??t.color),S=H(()=>t.error||t.disabled?void 0:t.trackColor??t.color),w=H(()=>t.error||t.disabled?void 0:t.trackFillColor??t.color),x=ye(!1),A=ye(0),V=ge(),z=ge();function R(I){var W;const M=t.direction==="vertical",U=M?"top":"left",Y=M?"height":"width",q=M?"clientY":"clientX",{[U]:se,[Y]:P}=(W=V.value)==null?void 0:W.$el.getBoundingClientRect(),T=Wy(I,q);let k=Math.min(Math.max((T-se-A.value)/P,0),1)||0;return(M?c.value:c.value!==u.value)&&(k=1-k),d(r.value+k*(a.value-r.value))}const G=I=>{m({value:R(I)}),x.value=!1,A.value=0},$=I=>{z.value=y(I),z.value&&(z.value.focus(),x.value=!0,z.value.contains(I.target)?A.value=Hy(I,z.value,t.direction):(A.value=0,g({value:R(I)})),f({value:R(I)}))},ee={passive:!0,capture:!0};function ne(I){g({value:R(I)})}function re(I){I.stopPropagation(),I.preventDefault(),G(I),window.removeEventListener("mousemove",ne,ee),window.removeEventListener("mouseup",re)}function ie(I){var M;G(I),window.removeEventListener("touchmove",ne,ee),(M=I.target)==null||M.removeEventListener("touchend",ie)}function O(I){var M;$(I),window.addEventListener("touchmove",ne,ee),(M=I.target)==null||M.addEventListener("touchend",ie,{passive:!1})}function B(I){I.preventDefault(),$(I),window.addEventListener("mousemove",ne,ee),window.addEventListener("mouseup",re,{passive:!1})}const L=I=>{const M=(I-r.value)/(a.value-r.value)*100;return _t(isNaN(M)?0:M,0,100)},j=pe(t,"showTicks"),J=H(()=>j.value?t.ticks?Array.isArray(t.ticks)?t.ticks.map(I=>({value:I,position:L(I),label:I.toString()})):Object.keys(t.ticks).map(I=>({value:parseFloat(I),position:L(parseFloat(I)),label:t.ticks[I]})):b.value!==1/0?Va(b.value+1).map(I=>{const M=r.value+I*s.value;return{value:M,position:L(M)}}):[]:[]),D=H(()=>J.value.some(I=>{let{label:M}=I;return!!M})),E={activeThumbRef:z,color:pe(t,"color"),decimals:o,disabled:_,direction:pe(t,"direction"),elevation:pe(t,"elevation"),hasLabels:D,isReversed:i,indexFromEnd:c,min:r,max:a,mousePressed:x,numTicks:b,onSliderMousedown:B,onSliderTouchstart:O,parsedTicks:J,parseMouseMove:R,position:L,readonly:pe(t,"readonly"),rounded:pe(t,"rounded"),roundValue:d,showTicks:j,startOffset:A,step:s,thumbSize:l,thumbColor:C,thumbLabel:pe(t,"thumbLabel"),ticks:pe(t,"ticks"),tickSize:v,trackColor:S,trackContainerRef:V,trackFillColor:w,trackSize:p,vertical:h};return Ge(Qa,E),E},Uy=ue({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function pt(e,t,n){return Se()({name:e,props:Uy({mode:n,origin:t}),setup(f,g){let{slots:m}=g;const y={onBeforeEnter(u){f.origin&&(u.style.transformOrigin=f.origin)},onLeave(u){if(f.leaveAbsolute){const{offsetTop:i,offsetLeft:h,offsetWidth:c,offsetHeight:r}=u;u._transitionInitialStyles={position:u.style.position,top:u.style.top,left:u.style.left,width:u.style.width,height:u.style.height},u.style.position="absolute",u.style.top=`${i}px`,u.style.left=`${h}px`,u.style.width=`${c}px`,u.style.height=`${r}px`}f.hideOnLeave&&u.style.setProperty("display","none","important")},onAfterLeave(u){if(f.leaveAbsolute&&(u!=null&&u._transitionInitialStyles)){const{position:i,top:h,left:c,width:r,height:a}=u._transitionInitialStyles;delete u._transitionInitialStyles,u.style.position=i||"",u.style.top=h||"",u.style.left=c||"",u.style.width=r||"",u.style.height=a||""}}};return()=>{const u=f.group?Ia:ai;return Wt(u,{name:f.disabled?"":e,css:!f.disabled,...f.group?void 0:{mode:f.mode},...f.disabled?{}:y},m.default)}}})}function ih(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return Se()({name:e,props:{mode:{type:String,default:n},disabled:Boolean,group:Boolean},setup(f,g){let{slots:m}=g;const y=f.group?Ia:ai;return()=>Wt(y,{name:f.disabled?"":e,css:!f.disabled,...f.disabled?{}:t},m.default)}})}function rh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",f=lt(`offset-${n}`);return{onBeforeEnter(y){y._parent=y.parentNode,y._initialStyle={transition:y.style.transition,overflow:y.style.overflow,[n]:y.style[n]}},onEnter(y){const u=y._initialStyle;y.style.setProperty("transition","none","important"),y.style.overflow="hidden";const i=`${y[f]}px`;y.style[n]="0",y.offsetHeight,y.style.transition=u.transition,e&&y._parent&&y._parent.classList.add(e),requestAnimationFrame(()=>{y.style[n]=i})},onAfterEnter:m,onEnterCancelled:m,onLeave(y){y._initialStyle={transition:"",overflow:y.style.overflow,[n]:y.style[n]},y.style.overflow="hidden",y.style[n]=`${y[f]}px`,y.offsetHeight,requestAnimationFrame(()=>y.style[n]="0")},onAfterLeave:g,onLeaveCancelled:g};function g(y){e&&y._parent&&y._parent.classList.remove(e),m(y)}function m(y){const u=y._initialStyle[n];y.style.overflow=y._initialStyle.overflow,u!=null&&(y.style[n]=u),delete y._initialStyle}}pt("fab-transition","center center","out-in");pt("dialog-bottom-transition");pt("dialog-top-transition");pt("fade-transition");const Gy=pt("scale-transition");pt("scroll-x-transition");pt("scroll-x-reverse-transition");pt("scroll-y-transition");pt("scroll-y-reverse-transition");pt("slide-x-transition");pt("slide-x-reverse-transition");const sh=pt("slide-y-transition");pt("slide-y-reverse-transition");const ah=ih("expand-transition",rh()),$y=ih("expand-x-transition",rh("",!0)),Ky=ue({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,...xe()},"VSliderThumb"),qy=Se()({name:"VSliderThumb",directives:{Ripple:Za},props:Ky(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n,emit:f}=t;const g=Pe(Qa),{isRtl:m,rtlClasses:y}=Ot();if(!g)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:u,step:i,disabled:h,thumbSize:c,thumbLabel:r,direction:a,isReversed:s,vertical:o,readonly:d,elevation:l,mousePressed:v,decimals:p,indexFromEnd:b}=g,_=H(()=>h.value?void 0:l.value),{elevationClasses:C}=Sn(_),{textColorClasses:S,textColorStyles:w}=Zt(u),{pageup:x,pagedown:A,end:V,home:z,left:R,right:G,down:$,up:ee}=Bm,ne=[x,A,V,z,R,G,$,ee],re=H(()=>i.value?[1,2,3]:[1,5,10]);function ie(B,L){if(!ne.includes(B.key))return;B.preventDefault();const j=i.value||.1,J=(e.max-e.min)/j;if([R,G,$,ee].includes(B.key)){const E=(o.value?[m.value?R:G,s.value?$:ee]:b.value!==m.value?[R,ee]:[G,ee]).includes(B.key)?1:-1,I=B.shiftKey?2:B.ctrlKey?1:0;L=L+E*j*re.value[I]}else if(B.key===z)L=e.min;else if(B.key===V)L=e.max;else{const D=B.key===A?1:-1;L=L-D*j*(J>100?J/10:10)}return Math.max(e.min,Math.min(e.max,L))}function O(B){const L=ie(B,e.modelValue);L!=null&&f("update:modelValue",L)}return we(()=>{const B=de(b.value?100-e.position:e.position,"%");return F("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&v.value},e.class,y.value],style:[{"--v-slider-thumb-position":B,"--v-slider-thumb-size":de(c.value)},e.style],role:"slider",tabindex:h.value?-1:0,"aria-label":e.name,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.modelValue,"aria-readonly":!!d.value,"aria-orientation":a.value,onKeydown:d.value?void 0:O},[F("div",{class:["v-slider-thumb__surface",S.value,C.value],style:{...w.value}},null),Ft(F("div",{class:["v-slider-thumb__ripple",S.value],style:w.value},null),[[Yi("ripple"),e.ripple,null,{circle:!0,center:!0}]]),F(Gy,{origin:"bottom center"},{default:()=>{var L;return[Ft(F("div",{class:"v-slider-thumb__label-container"},[F("div",{class:["v-slider-thumb__label"]},[F("div",null,[((L=n["thumb-label"])==null?void 0:L.call(n,{modelValue:e.modelValue}))??e.modelValue.toFixed(i.value?p.value:1)])])]),[[oi,r.value&&e.focused||r.value==="always"]])]}})])}),{}}}),Jy=ue({start:{type:Number,required:!0},stop:{type:Number,required:!0},...xe()},"VSliderTrack"),Zy=Se()({name:"VSliderTrack",props:Jy(),emits:{},setup(e,t){let{slots:n}=t;const f=Pe(Qa);if(!f)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:g,parsedTicks:m,rounded:y,showTicks:u,tickSize:i,trackColor:h,trackFillColor:c,trackSize:r,vertical:a,min:s,max:o,indexFromEnd:d}=f,{roundedClasses:l}=Pt(y),{backgroundColorClasses:v,backgroundColorStyles:p}=gt(c),{backgroundColorClasses:b,backgroundColorStyles:_}=gt(h),C=H(()=>`inset-${a.value?"block":"inline"}-${d.value?"end":"start"}`),S=H(()=>a.value?"height":"width"),w=H(()=>({[C.value]:"0%",[S.value]:"100%"})),x=H(()=>e.stop-e.start),A=H(()=>({[C.value]:de(e.start,"%"),[S.value]:de(x.value,"%")})),V=H(()=>u.value?(a.value?m.value.slice().reverse():m.value).map((R,G)=>{var ee;const $=R.value!==s.value&&R.value!==o.value?de(R.position,"%"):void 0;return F("div",{key:R.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":R.position>=e.start&&R.position<=e.stop,"v-slider-track__tick--first":R.value===s.value,"v-slider-track__tick--last":R.value===o.value}],style:{[C.value]:$}},[(R.label||n["tick-label"])&&F("div",{class:"v-slider-track__tick-label"},[((ee=n["tick-label"])==null?void 0:ee.call(n,{tick:R,index:G}))??R.label])])}):[]);return we(()=>F("div",{class:["v-slider-track",l.value,e.class],style:[{"--v-slider-track-size":de(r.value),"--v-slider-tick-size":de(i.value)},e.style]},[F("div",{class:["v-slider-track__background",b.value,{"v-slider-track__background--opacity":!!g.value||!c.value}],style:{...w.value,..._.value}},null),F("div",{class:["v-slider-track__fill",v.value],style:{...A.value,...p.value}},null),u.value&&F("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":u.value==="always"}]},[V.value])])),{}}});function oh(e){const{t}=Ip();function n(f){let{name:g}=f;const m={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[g],y=e[`onClick:${g}`],u=y&&m?t(`$vuetify.input.${m}`,e.label??""):void 0;return F(vt,{icon:e[`${g}Icon`],"aria-label":u,onClick:y},null)}return{InputIcon:n}}const ts=ue({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:e=>e!==!0}},"transition"),fn=(e,t)=>{let{slots:n}=t;const{transition:f,disabled:g,group:m,...y}=e,{component:u=m?Ia:ai,...i}=typeof f=="object"?f:{};return Wt(u,Me(typeof f=="string"?{name:g?"":f}:i,typeof f=="string"?{}:Object.fromEntries(Object.entries({disabled:g,group:m}).filter(h=>{let[c,r]=h;return r!==void 0})),y),n)},Qy=ue({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...xe(),...ts({transition:{component:sh,leaveAbsolute:!0,group:!0}})},"VMessages"),e0=Se()({name:"VMessages",props:Qy(),setup(e,t){let{slots:n}=t;const f=H(()=>Ln(e.messages)),{textColorClasses:g,textColorStyles:m}=Zt(H(()=>e.color));return we(()=>F(fn,{transition:e.transition,tag:"div",class:["v-messages",g.value,e.class],style:[m.value,e.style],role:"alert","aria-live":"polite"},{default:()=>[e.active&&f.value.map((y,u)=>F("div",{class:"v-messages__message",key:`${u}-${f.value}`},[n.message?n.message({message:y}):y]))]})),{}}}),eo=ue({focused:Boolean,"onUpdate:focused":wt()},"focus");function to(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zt();const n=Ze(e,"focused"),f=H(()=>({[`${t}--focused`]:n.value}));function g(){n.value=!0}function m(){n.value=!1}return{focusClasses:f,isFocused:n,focus:g,blur:m}}const t0=Symbol.for("vuetify:form");function n0(e){const t=Pe(t0,null);return{...t,isReadonly:H(()=>!!((e==null?void 0:e.readonly)??(t==null?void 0:t.isReadonly.value))),isDisabled:H(()=>!!((e==null?void 0:e.disabled)??(t==null?void 0:t.isDisabled.value)))}}const i0=ue({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...eo()},"validation");function r0(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zt(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:tn();const f=Ze(e,"modelValue"),g=H(()=>e.validationValue===void 0?f.value:e.validationValue),m=n0(e),y=ge([]),u=ye(!0),i=H(()=>!!(Ln(f.value===""?null:f.value).length||Ln(g.value===""?null:g.value).length)),h=H(()=>{var b;return(b=e.errorMessages)!=null&&b.length?Ln(e.errorMessages).concat(y.value).slice(0,Math.max(0,+e.maxErrors)):y.value}),c=H(()=>{var C;let b=(e.validateOn??((C=m.validateOn)==null?void 0:C.value))||"input";b==="lazy"&&(b="input lazy"),b==="eager"&&(b="input eager");const _=new Set((b==null?void 0:b.split(" "))??[]);return{input:_.has("input"),blur:_.has("blur")||_.has("input")||_.has("invalid-input"),invalidInput:_.has("invalid-input"),lazy:_.has("lazy"),eager:_.has("eager")}}),r=H(()=>{var b;return e.error||(b=e.errorMessages)!=null&&b.length?!1:e.rules.length?u.value?y.value.length||c.value.lazy?null:!0:!y.value.length:!0}),a=ye(!1),s=H(()=>({[`${t}--error`]:r.value===!1,[`${t}--dirty`]:i.value,[`${t}--disabled`]:m.isDisabled.value,[`${t}--readonly`]:m.isReadonly.value})),o=He("validation"),d=H(()=>e.name??Ie(n));si(()=>{var b;(b=m.register)==null||b.call(m,{id:d.value,vm:o,validate:p,reset:l,resetValidation:v})}),at(()=>{var b;(b=m.unregister)==null||b.call(m,d.value)}),Tt(async()=>{var b;c.value.lazy||await p(!c.value.eager),(b=m.update)==null||b.call(m,d.value,r.value,h.value)}),Mt(()=>c.value.input||c.value.invalidInput&&r.value===!1,()=>{me(g,()=>{if(g.value!=null)p();else if(e.focused){const b=me(()=>e.focused,_=>{_||p(),b()})}})}),Mt(()=>c.value.blur,()=>{me(()=>e.focused,b=>{b||p()})}),me([r,h],()=>{var b;(b=m.update)==null||b.call(m,d.value,r.value,h.value)});async function l(){f.value=null,await ct(),await v()}async function v(){u.value=!0,c.value.lazy?y.value=[]:await p(!c.value.eager)}async function p(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const _=[];a.value=!0;for(const C of e.rules){if(_.length>=+(e.maxErrors??1))break;const w=await(typeof C=="function"?C:()=>C)(g.value);if(w!==!0){if(w!==!1&&typeof w!="string"){console.warn(`${w} is not a valid value. Rule functions must return boolean true or a string.`);continue}_.push(w||"")}}return y.value=_,a.value=!1,u.value=b,y.value}return{errorMessages:h,isDirty:i,isDisabled:m.isDisabled,isReadonly:m.isReadonly,isPristine:u,isValid:r,isValidating:a,reset:l,resetValidation:v,validate:p,validationClasses:s}}const no=ue({id:String,appendIcon:Xe,centerAffix:{type:Boolean,default:!0},prependIcon:Xe,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":wt(),"onClick:append":wt(),...xe(),...ci(),...jm(pn(),["maxWidth","minWidth","width"]),...$e(),...i0()},"VInput"),Ar=Se()({name:"VInput",props:{...no()},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:f,emit:g}=t;const{densityClasses:m}=ui(e),{dimensionStyles:y}=yn(e),{themeClasses:u}=Qe(e),{rtlClasses:i}=Ot(),{InputIcon:h}=oh(e),c=tn(),r=H(()=>e.id||`input-${c}`),a=H(()=>`${r.value}-messages`),{errorMessages:s,isDirty:o,isDisabled:d,isReadonly:l,isPristine:v,isValid:p,isValidating:b,reset:_,resetValidation:C,validate:S,validationClasses:w}=r0(e,"v-input",r),x=H(()=>({id:r,messagesId:a,isDirty:o,isDisabled:d,isReadonly:l,isPristine:v,isValid:p,isValidating:b,reset:_,resetValidation:C,validate:S})),A=H(()=>{var V;return(V=e.errorMessages)!=null&&V.length||!v.value&&s.value.length?s.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages});return we(()=>{var $,ee,ne,re;const V=!!(f.prepend||e.prependIcon),z=!!(f.append||e.appendIcon),R=A.value.length>0,G=!e.hideDetails||e.hideDetails==="auto"&&(R||!!f.details);return F("div",{class:["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix,"v-input--hide-spin-buttons":e.hideSpinButtons},m.value,u.value,i.value,w.value,e.class],style:[y.value,e.style]},[V&&F("div",{key:"prepend",class:"v-input__prepend"},[($=f.prepend)==null?void 0:$.call(f,x.value),e.prependIcon&&F(h,{key:"prepend-icon",name:"prepend"},null)]),f.default&&F("div",{class:"v-input__control"},[(ee=f.default)==null?void 0:ee.call(f,x.value)]),z&&F("div",{key:"append",class:"v-input__append"},[e.appendIcon&&F(h,{key:"append-icon",name:"append"},null),(ne=f.append)==null?void 0:ne.call(f,x.value)]),G&&F("div",{class:"v-input__details"},[F(e0,{id:a.value,active:R,messages:A.value},{message:f.message}),(re=f.details)==null?void 0:re.call(f,x.value)])])}),{reset:_,resetValidation:C,validate:S,isValid:p,errorMessages:s}}}),s0=ue({text:String,onClick:wt(),...xe(),...$e()},"VLabel"),lh=Se()({name:"VLabel",props:s0(),setup(e,t){let{slots:n}=t;return we(()=>{var f;return F("label",{class:["v-label",{"v-label--clickable":!!e.onClick},e.class],style:e.style,onClick:e.onClick},[e.text,(f=n.default)==null?void 0:f.call(n)])}),{}}}),a0=ue({...eo(),...zy(),...no(),modelValue:{type:[Number,String],default:0}},"VSlider"),aa=Se()({name:"VSlider",props:a0(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,t){let{slots:n,emit:f}=t;const g=ge(),{rtlClasses:m}=Ot(),y=Yy(e),u=Ze(e,"modelValue",void 0,S=>y.roundValue(S??y.min.value)),{min:i,max:h,mousePressed:c,roundValue:r,onSliderMousedown:a,onSliderTouchstart:s,trackContainerRef:o,position:d,hasLabels:l,readonly:v}=Xy({props:e,steps:y,onSliderStart:()=>{f("start",u.value)},onSliderEnd:S=>{let{value:w}=S;const x=r(w);u.value=x,f("end",x)},onSliderMove:S=>{let{value:w}=S;return u.value=r(w)},getActiveThumb:()=>{var S;return(S=g.value)==null?void 0:S.$el}}),{isFocused:p,focus:b,blur:_}=to(e),C=H(()=>d(u.value));return we(()=>{const S=Ar.filterProps(e),w=!!(e.label||n.label||n.prepend);return F(Ar,Me({class:["v-slider",{"v-slider--has-labels":!!n["tick-label"]||l.value,"v-slider--focused":p.value,"v-slider--pressed":c.value,"v-slider--disabled":e.disabled},m.value,e.class],style:e.style},S,{focused:p.value}),{...n,prepend:w?x=>{var A,V;return F(Re,null,[((A=n.label)==null?void 0:A.call(n,x))??(e.label?F(lh,{id:x.id.value,class:"v-slider__label",text:e.label},null):void 0),(V=n.prepend)==null?void 0:V.call(n,x)])}:void 0,default:x=>{let{id:A,messagesId:V}=x;return F("div",{class:"v-slider__container",onMousedown:v.value?void 0:a,onTouchstartPassive:v.value?void 0:s},[F("input",{id:A.value,name:e.name||A.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:u.value},null),F(Zy,{ref:o,start:0,stop:C.value},{"tick-label":n["tick-label"]}),F(qy,{ref:g,"aria-describedby":V.value,focused:p.value,min:i.value,max:h.value,modelValue:u.value,"onUpdate:modelValue":z=>u.value=z,position:C.value,elevation:e.elevation,onFocus:b,onBlur:_,ripple:e.ripple,name:e.name},{"thumb-label":n["thumb-label"]})])}})}),{}}}),o0=ue({color:{type:Object},disabled:Boolean,hideAlpha:Boolean,...xe()},"VColorPickerPreview"),l0=It({name:"VColorPickerPreview",props:o0(),emits:{"update:color":e=>!0},setup(e,t){let{emit:n}=t;const f=new AbortController;Ea(()=>f.abort());async function g(){if(!gl)return;const m=new window.EyeDropper;try{const y=await m.open({signal:f.signal}),u=wf(y.sRGBHex);n("update:color",{...e.color??Jn,...u})}catch{}}return we(()=>{var m,y;return F("div",{class:["v-color-picker-preview",{"v-color-picker-preview--hide-alpha":e.hideAlpha},e.class],style:e.style},[gl&&F("div",{class:"v-color-picker-preview__eye-dropper",key:"eyeDropper"},[F(Nn,{onClick:g,icon:"$eyeDropper",variant:"plain",density:"comfortable"},null)]),F("div",{class:"v-color-picker-preview__dot"},[F("div",{style:{background:_f(e.color??Jn)}},null)]),F("div",{class:"v-color-picker-preview__sliders"},[F(aa,{class:"v-color-picker-preview__track v-color-picker-preview__hue",modelValue:(m=e.color)==null?void 0:m.h,"onUpdate:modelValue":u=>n("update:color",{...e.color??Jn,h:u}),step:0,min:0,max:360,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null),!e.hideAlpha&&F(aa,{class:"v-color-picker-preview__track v-color-picker-preview__alpha",modelValue:((y=e.color)==null?void 0:y.a)??1,"onUpdate:modelValue":u=>n("update:color",{...e.color??Jn,a:u}),step:1/256,min:0,max:1,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null)])])}),{}}}),c0={base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"},u0={base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"},f0={base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"},h0={base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"},d0={base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"},g0={base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"},v0={base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"},m0={base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"},p0={base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"},y0={base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"},b0={base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"},_0={base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"},C0={base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"},S0={base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"},w0={base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"},x0={base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"},T0={base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"},O0={base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"},k0={base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"},P0={black:"#000000",white:"#ffffff",transparent:"#ffffff00"},E0={red:c0,pink:u0,purple:f0,deepPurple:h0,indigo:d0,blue:g0,lightBlue:v0,cyan:m0,teal:p0,green:y0,lightGreen:b0,lime:_0,yellow:C0,amber:S0,orange:w0,deepOrange:x0,brown:T0,blueGrey:O0,grey:k0,shades:P0},A0=ue({swatches:{type:Array,default:()=>M0(E0)},disabled:Boolean,color:Object,maxHeight:[Number,String],...xe()},"VColorPickerSwatches");function M0(e){return Object.keys(e).map(t=>{const n=e[t];return n.base?[n.base,n.darken4,n.darken3,n.darken2,n.darken1,n.lighten1,n.lighten2,n.lighten3,n.lighten4,n.lighten5]:[n.black,n.white,n.transparent]})}const D0=It({name:"VColorPickerSwatches",props:A0(),emits:{"update:color":e=>!0},setup(e,t){let{emit:n}=t;return we(()=>F("div",{class:["v-color-picker-swatches",e.class],style:[{maxHeight:de(e.maxHeight)},e.style]},[F("div",null,[e.swatches.map(f=>F("div",{class:"v-color-picker-swatches__swatch"},[f.map(g=>{const m=Ct(g),y=$r(m),u=bf(m);return F("div",{class:"v-color-picker-swatches__color",onClick:()=>y&&n("update:color",y)},[F("div",{style:{background:u}},[e.color&&$i(e.color,y)?F(vt,{size:"x-small",icon:"$success",color:yp(g,"#FFFFFF")>2?"white":"black"},null):void 0])])})]))])])),{}}}),ch=ue({color:String,...bn(),...xe(),...pn(),...Cn(),...qa(),...zf(),...kt(),...Ue(),...$e()},"VSheet"),Gl=Se()({name:"VSheet",props:ch(),setup(e,t){let{slots:n}=t;const{themeClasses:f}=Qe(e),{backgroundColorClasses:g,backgroundColorStyles:m}=gt(pe(e,"color")),{borderClasses:y}=_n(e),{dimensionStyles:u}=yn(e),{elevationClasses:i}=Sn(e),{locationStyles:h}=Ja(e),{positionClasses:c}=Yf(e),{roundedClasses:r}=Pt(e);return we(()=>F(e.tag,{class:["v-sheet",f.value,g.value,y.value,i.value,c.value,r.value,e.class],style:[m.value,u.value,h.value,e.style]},n)),{}}}),F0=ue({canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(Bn).includes(e)},modes:{type:Array,default:()=>Object.keys(Bn),validator:e=>Array.isArray(e)&&e.every(t=>Object.keys(Bn).includes(t))},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},modelValue:{type:[Object,String]},...Gr(ch({width:300}),["height","location","minHeight","maxHeight","minWidth","maxWidth"])},"VColorPicker"),L0=It({name:"VColorPicker",props:F0(),emits:{"update:modelValue":e=>!0,"update:mode":e=>!0},setup(e){const t=Ze(e,"mode"),n=ge(null),f=Ze(e,"modelValue",void 0,i=>{if(i==null||i==="")return null;let h;try{h=$r(Ct(i))}catch{return null}return h},i=>i?Ly(i,e.modelValue):null),g=H(()=>f.value?{...f.value,h:n.value??f.value.h}:null),{rtlClasses:m}=Ot();let y=!0;me(f,i=>{if(!y){y=!0;return}i&&(n.value=i.h)},{immediate:!0});const u=i=>{y=!1,n.value=i.h,f.value=i};return si(()=>{e.modes.includes(t.value)||(t.value=e.modes[0])}),li({VSlider:{color:void 0,trackColor:void 0,trackFillColor:void 0}}),we(()=>{const i=Gl.filterProps(e);return F(Gl,Me({rounded:e.rounded,elevation:e.elevation,theme:e.theme,class:["v-color-picker",m.value,e.class],style:[{"--v-color-picker-color-hsv":_f({...g.value??Jn,a:1})},e.style]},i,{maxWidth:e.width}),{default:()=>[!e.hideCanvas&&F(Dy,{key:"canvas",color:g.value,"onUpdate:color":u,disabled:e.disabled,dotSize:e.dotSize,width:e.width,height:e.canvasHeight},null),(!e.hideSliders||!e.hideInputs)&&F("div",{key:"controls",class:"v-color-picker__controls"},[!e.hideSliders&&F(l0,{key:"preview",color:g.value,"onUpdate:color":u,hideAlpha:!t.value.endsWith("a"),disabled:e.disabled},null),!e.hideInputs&&F(Ny,{key:"edit",modes:e.modes,mode:t.value,"onUpdate:mode":h=>t.value=h,color:g.value,"onUpdate:color":u,disabled:e.disabled},null)]),e.showSwatches&&F(D0,{key:"swatches",color:g.value,"onUpdate:color":u,maxHeight:e.swatchesMaxHeight,swatches:e.swatches,disabled:e.disabled},null)]})}),{}}}),I0=ue({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...xe(),...$e()},"VDivider"),io=Se()({name:"VDivider",props:I0(),setup(e,t){let{attrs:n,slots:f}=t;const{themeClasses:g}=Qe(e),{textColorClasses:m,textColorStyles:y}=Zt(pe(e,"color")),u=H(()=>{const i={};return e.length&&(i[e.vertical?"height":"width"]=de(e.length)),e.thickness&&(i[e.vertical?"borderRightWidth":"borderTopWidth"]=de(e.thickness)),i});return we(()=>{const i=F("hr",{class:[{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},g.value,m.value,e.class],style:[u.value,y.value,{"--v-border-opacity":e.opacity},e.style],"aria-orientation":!n.role||n.role==="separator"?e.vertical?"vertical":"horizontal":void 0,role:`${n.role||"separator"}`},null);return f.default?F("div",{class:["v-divider__wrapper",{"v-divider__wrapper--vertical":e.vertical,"v-divider__wrapper--inset":e.inset}]},[i,F("div",{class:"v-divider__content"},[f.default()]),i]):i}),{}}}),ns=["sm","md","lg","xl","xxl"],oa=Symbol.for("vuetify:display"),$l={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},R0=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$l;return dt($l,e)};function Kl(e){return Be&&!e?window.innerWidth:typeof e=="object"&&e.clientWidth||0}function ql(e){return Be&&!e?window.innerHeight:typeof e=="object"&&e.clientHeight||0}function Jl(e){const t=Be&&!e?window.navigator.userAgent:"ssr";function n(o){return!!t.match(o)}const f=n(/android/i),g=n(/iphone|ipad|ipod/i),m=n(/cordova/i),y=n(/electron/i),u=n(/chrome/i),i=n(/edge/i),h=n(/firefox/i),c=n(/opera/i),r=n(/win/i),a=n(/mac/i),s=n(/linux/i);return{android:f,ios:g,cordova:m,electron:y,chrome:u,edge:i,firefox:h,opera:c,win:r,mac:a,linux:s,touch:Dm,ssr:t==="ssr"}}function B0(e,t){const{thresholds:n,mobileBreakpoint:f}=R0(e),g=ye(ql(t)),m=ye(Jl(t)),y=We({}),u=ye(Kl(t));function i(){g.value=ql(),u.value=Kl()}function h(){i(),m.value=Jl()}return Ht(()=>{const c=u.value<n.sm,r=u.value<n.md&&!c,a=u.value<n.lg&&!(r||c),s=u.value<n.xl&&!(a||r||c),o=u.value<n.xxl&&!(s||a||r||c),d=u.value>=n.xxl,l=c?"xs":r?"sm":a?"md":s?"lg":o?"xl":"xxl",v=typeof f=="number"?f:n[f],p=u.value<v;y.xs=c,y.sm=r,y.md=a,y.lg=s,y.xl=o,y.xxl=d,y.smAndUp=!c,y.mdAndUp=!(c||r),y.lgAndUp=!(c||r||a),y.xlAndUp=!(c||r||a||s),y.smAndDown=!(a||s||o||d),y.mdAndDown=!(s||o||d),y.lgAndDown=!(o||d),y.xlAndDown=!d,y.name=l,y.height=g.value,y.width=u.value,y.mobile=p,y.mobileBreakpoint=f,y.platform=m.value,y.thresholds=n}),Be&&window.addEventListener("resize",i,{passive:!0}),{...Vr(y),update:h,ssr:!!t}}const j0=ue({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function uh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zt();const n=Pe(oa);if(!n)throw new Error("Could not find Vuetify display injection");const f=H(()=>{if(e.mobile!=null)return e.mobile;if(!e.mobileBreakpoint)return n.mobile.value;const m=typeof e.mobileBreakpoint=="number"?e.mobileBreakpoint:n.thresholds.value[e.mobileBreakpoint];return n.width.value<m}),g=H(()=>t?{[`${t}--mobile`]:f.value}:{});return{...n,displayClasses:g,mobile:f}}const fh=ns.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}),hh=ns.reduce((e,t)=>{const n="offset"+Qt(t);return e[n]={type:[String,Number],default:null},e},{}),dh=ns.reduce((e,t)=>{const n="order"+Qt(t);return e[n]={type:[String,Number],default:null},e},{}),Zl={col:Object.keys(fh),offset:Object.keys(hh),order:Object.keys(dh)};function V0(e,t,n){let f=e;if(!(n==null||n===!1)){if(t){const g=t.replace(e,"");f+=`-${g}`}return e==="col"&&(f="v-"+f),e==="col"&&(n===""||n===!0)||(f+=`-${n}`),f.toLowerCase()}}const N0=["auto","start","end","center","baseline","stretch"],H0=ue({cols:{type:[Boolean,String,Number],default:!1},...fh,offset:{type:[String,Number],default:null},...hh,order:{type:[String,Number],default:null},...dh,alignSelf:{type:String,default:null,validator:e=>N0.includes(e)},...xe(),...Ue()},"VCol"),Ql=Se()({name:"VCol",props:H0(),setup(e,t){let{slots:n}=t;const f=H(()=>{const g=[];let m;for(m in Zl)Zl[m].forEach(u=>{const i=e[u],h=V0(m,u,i);h&&g.push(h)});const y=g.some(u=>u.startsWith("v-col-"));return g.push({"v-col":!y||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),g});return()=>{var g;return Wt(e.tag,{class:[f.value,e.class],style:e.style},(g=n.default)==null?void 0:g.call(n))}}}),ro=["start","end","center"],gh=["space-between","space-around","space-evenly"];function so(e,t){return ns.reduce((n,f)=>{const g=e+Qt(f);return n[g]=t(),n},{})}const W0=[...ro,"baseline","stretch"],vh=e=>W0.includes(e),mh=so("align",()=>({type:String,default:null,validator:vh})),z0=[...ro,...gh],ph=e=>z0.includes(e),yh=so("justify",()=>({type:String,default:null,validator:ph})),Y0=[...ro,...gh,"stretch"],bh=e=>Y0.includes(e),_h=so("alignContent",()=>({type:String,default:null,validator:bh})),ec={align:Object.keys(mh),justify:Object.keys(yh),alignContent:Object.keys(_h)},X0={align:"align",justify:"justify",alignContent:"align-content"};function U0(e,t,n){let f=X0[e];if(n!=null){if(t){const g=t.replace(e,"");f+=`-${g}`}return f+=`-${n}`,f.toLowerCase()}}const G0=ue({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:vh},...mh,justify:{type:String,default:null,validator:ph},...yh,alignContent:{type:String,default:null,validator:bh},..._h,...xe(),...Ue()},"VRow"),$0=Se()({name:"VRow",props:G0(),setup(e,t){let{slots:n}=t;const f=H(()=>{const g=[];let m;for(m in ec)ec[m].forEach(y=>{const u=e[y],i=U0(m,y,u);i&&g.push(i)});return g.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),g});return()=>{var g;return Wt(e.tag,{class:["v-row",f.value,e.class],style:e.style},(g=n.default)==null?void 0:g.call(n))}}}),la=Symbol.for("vuetify:list");function Ch(){const e=Pe(la,{hasPrepend:ye(!1),updateHasPrepend:()=>null}),t={hasPrepend:ye(!1),updateHasPrepend:n=>{n&&(t.hasPrepend.value=n)}};return Ge(la,t),e}function Sh(){return Pe(la,null)}const ao=e=>{const t={activate:n=>{let{id:f,value:g,activated:m}=n;return f=ve(f),e&&!g&&m.size===1&&m.has(f)||(g?m.add(f):m.delete(f)),m},in:(n,f,g)=>{let m=new Set;if(n!=null)for(const y of Ln(n))m=t.activate({id:y,value:!0,activated:new Set(m),children:f,parents:g});return m},out:n=>Array.from(n)};return t},wh=e=>{const t=ao(e);return{activate:f=>{let{activated:g,id:m,...y}=f;m=ve(m);const u=g.has(m)?new Set([m]):new Set;return t.activate({...y,id:m,activated:u})},in:(f,g,m)=>{let y=new Set;if(f!=null){const u=Ln(f);u.length&&(y=t.in(u.slice(0,1),g,m))}return y},out:(f,g,m)=>t.out(f,g,m)}},K0=e=>{const t=ao(e);return{activate:f=>{let{id:g,activated:m,children:y,...u}=f;return g=ve(g),y.has(g)?m:t.activate({id:g,activated:m,children:y,...u})},in:t.in,out:t.out}},q0=e=>{const t=wh(e);return{activate:f=>{let{id:g,activated:m,children:y,...u}=f;return g=ve(g),y.has(g)?m:t.activate({id:g,activated:m,children:y,...u})},in:t.in,out:t.out}},J0={open:e=>{let{id:t,value:n,opened:f,parents:g}=e;if(n){const m=new Set;m.add(t);let y=g.get(t);for(;y!=null;)m.add(y),y=g.get(y);return m}else return f.delete(t),f},select:()=>null},xh={open:e=>{let{id:t,value:n,opened:f,parents:g}=e;if(n){let m=g.get(t);for(f.add(t);m!=null&&m!==t;)f.add(m),m=g.get(m);return f}else f.delete(t);return f},select:()=>null},Z0={open:xh.open,select:e=>{let{id:t,value:n,opened:f,parents:g}=e;if(!n)return f;const m=[];let y=g.get(t);for(;y!=null;)m.push(y),y=g.get(y);return new Set(m)}},oo=e=>{const t={select:n=>{let{id:f,value:g,selected:m}=n;if(f=ve(f),e&&!g){const y=Array.from(m.entries()).reduce((u,i)=>{let[h,c]=i;return c==="on"&&u.push(h),u},[]);if(y.length===1&&y[0]===f)return m}return m.set(f,g?"on":"off"),m},in:(n,f,g)=>{let m=new Map;for(const y of n||[])m=t.select({id:y,value:!0,selected:new Map(m),children:f,parents:g});return m},out:n=>{const f=[];for(const[g,m]of n.entries())m==="on"&&f.push(g);return f}};return t},Th=e=>{const t=oo(e);return{select:f=>{let{selected:g,id:m,...y}=f;m=ve(m);const u=g.has(m)?new Map([[m,g.get(m)]]):new Map;return t.select({...y,id:m,selected:u})},in:(f,g,m)=>{let y=new Map;return f!=null&&f.length&&(y=t.in(f.slice(0,1),g,m)),y},out:(f,g,m)=>t.out(f,g,m)}},Q0=e=>{const t=oo(e);return{select:f=>{let{id:g,selected:m,children:y,...u}=f;return g=ve(g),y.has(g)?m:t.select({id:g,selected:m,children:y,...u})},in:t.in,out:t.out}},eb=e=>{const t=Th(e);return{select:f=>{let{id:g,selected:m,children:y,...u}=f;return g=ve(g),y.has(g)?m:t.select({id:g,selected:m,children:y,...u})},in:t.in,out:t.out}},tb=e=>{const t={select:n=>{let{id:f,value:g,selected:m,children:y,parents:u}=n;f=ve(f);const i=new Map(m),h=[f];for(;h.length;){const r=h.shift();m.set(ve(r),g?"on":"off"),y.has(r)&&h.push(...y.get(r))}let c=ve(u.get(f));for(;c;){const r=y.get(c),a=r.every(o=>m.get(ve(o))==="on"),s=r.every(o=>!m.has(ve(o))||m.get(ve(o))==="off");m.set(c,a?"on":s?"off":"indeterminate"),c=ve(u.get(c))}return e&&!g&&Array.from(m.entries()).reduce((a,s)=>{let[o,d]=s;return d==="on"&&a.push(o),a},[]).length===0?i:m},in:(n,f,g)=>{let m=new Map;for(const y of n||[])m=t.select({id:y,value:!0,selected:new Map(m),children:f,parents:g});return m},out:(n,f)=>{const g=[];for(const[m,y]of n.entries())y==="on"&&!f.has(m)&&g.push(m);return g}};return t},Ni=Symbol.for("vuetify:nested"),Oh={id:ye(),root:{register:()=>null,unregister:()=>null,parents:ge(new Map),children:ge(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:ge(!1),selectable:ge(!1),opened:ge(new Set),activated:ge(new Set),selected:ge(new Map),selectedValues:ge([]),getPath:()=>[]}},nb=ue({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),ib=e=>{let t=!1;const n=ge(new Map),f=ge(new Map),g=Ze(e,"opened",e.opened,o=>new Set(o),o=>[...o.values()]),m=H(()=>{if(typeof e.activeStrategy=="object")return e.activeStrategy;if(typeof e.activeStrategy=="function")return e.activeStrategy(e.mandatory);switch(e.activeStrategy){case"leaf":return K0(e.mandatory);case"single-leaf":return q0(e.mandatory);case"independent":return ao(e.mandatory);case"single-independent":default:return wh(e.mandatory)}}),y=H(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;if(typeof e.selectStrategy=="function")return e.selectStrategy(e.mandatory);switch(e.selectStrategy){case"single-leaf":return eb(e.mandatory);case"leaf":return Q0(e.mandatory);case"independent":return oo(e.mandatory);case"single-independent":return Th(e.mandatory);case"classic":default:return tb(e.mandatory)}}),u=H(()=>{if(typeof e.openStrategy=="object")return e.openStrategy;switch(e.openStrategy){case"list":return Z0;case"single":return J0;case"multiple":default:return xh}}),i=Ze(e,"activated",e.activated,o=>m.value.in(o,n.value,f.value),o=>m.value.out(o,n.value,f.value)),h=Ze(e,"selected",e.selected,o=>y.value.in(o,n.value,f.value),o=>y.value.out(o,n.value,f.value));at(()=>{t=!0});function c(o){const d=[];let l=o;for(;l!=null;)d.unshift(l),l=f.value.get(l);return d}const r=He("nested"),a=new Set,s={id:ye(),root:{opened:g,activatable:pe(e,"activatable"),selectable:pe(e,"selectable"),activated:i,selected:h,selectedValues:H(()=>{const o=[];for(const[d,l]of h.value.entries())l==="on"&&o.push(d);return o}),register:(o,d,l)=>{if(a.has(o)){c(o).map(String).join(" -> "),c(d).concat(o).map(String).join(" -> ");return}else a.add(o);d&&o!==d&&f.value.set(o,d),l&&n.value.set(o,[]),d!=null&&n.value.set(d,[...n.value.get(d)||[],o])},unregister:o=>{if(t)return;a.delete(o),n.value.delete(o);const d=f.value.get(o);if(d){const l=n.value.get(d)??[];n.value.set(d,l.filter(v=>v!==o))}f.value.delete(o)},open:(o,d,l)=>{r.emit("click:open",{id:o,value:d,path:c(o),event:l});const v=u.value.open({id:o,value:d,opened:new Set(g.value),children:n.value,parents:f.value,event:l});v&&(g.value=v)},openOnSelect:(o,d,l)=>{const v=u.value.select({id:o,value:d,selected:new Map(h.value),opened:new Set(g.value),children:n.value,parents:f.value,event:l});v&&(g.value=v)},select:(o,d,l)=>{r.emit("click:select",{id:o,value:d,path:c(o),event:l});const v=y.value.select({id:o,value:d,selected:new Map(h.value),children:n.value,parents:f.value,event:l});v&&(h.value=v),s.root.openOnSelect(o,d,l)},activate:(o,d,l)=>{if(!e.activatable)return s.root.select(o,!0,l);r.emit("click:activate",{id:o,value:d,path:c(o),event:l});const v=m.value.activate({id:o,value:d,activated:new Set(i.value),children:n.value,parents:f.value,event:l});v&&(i.value=v)},children:n,parents:f,getPath:c}};return Ge(Ni,s),s.root},kh=(e,t)=>{const n=Pe(Ni,Oh),f=Symbol(tn()),g=H(()=>e.value!==void 0?e.value:f),m={...n,id:g,open:(y,u)=>n.root.open(g.value,y,u),openOnSelect:(y,u)=>n.root.openOnSelect(g.value,y,u),isOpen:H(()=>n.root.opened.value.has(g.value)),parent:H(()=>n.root.parents.value.get(g.value)),activate:(y,u)=>n.root.activate(g.value,y,u),isActivated:H(()=>n.root.activated.value.has(ve(g.value))),select:(y,u)=>n.root.select(g.value,y,u),isSelected:H(()=>n.root.selected.value.get(ve(g.value))==="on"),isIndeterminate:H(()=>n.root.selected.value.get(g.value)==="indeterminate"),isLeaf:H(()=>!n.root.children.value.get(g.value)),isGroupActivator:n.isGroupActivator};return si(()=>{!n.isGroupActivator&&n.root.register(g.value,n.id.value,t)}),at(()=>{!n.isGroupActivator&&n.root.unregister(g.value)}),t&&Ge(Ni,m),m},rb=()=>{const e=Pe(Ni,Oh);Ge(Ni,{...e,isGroupActivator:!0})},sb=It({name:"VListGroupActivator",setup(e,t){let{slots:n}=t;return rb(),()=>{var f;return(f=n.default)==null?void 0:f.call(n)}}}),ab=ue({activeColor:String,baseColor:String,color:String,collapseIcon:{type:Xe,default:"$collapse"},expandIcon:{type:Xe,default:"$expand"},prependIcon:Xe,appendIcon:Xe,fluid:Boolean,subgroup:Boolean,title:String,value:null,...xe(),...Ue()},"VListGroup"),tc=Se()({name:"VListGroup",props:ab(),setup(e,t){let{slots:n}=t;const{isOpen:f,open:g,id:m}=kh(pe(e,"value"),!0),y=H(()=>`v-list-group--id-${String(m.value)}`),u=Sh(),{isBooted:i}=Kr();function h(s){s.stopPropagation(),g(!f.value,s)}const c=H(()=>({onClick:h,class:"v-list-group__header",id:y.value})),r=H(()=>f.value?e.collapseIcon:e.expandIcon),a=H(()=>({VListItem:{active:f.value,activeColor:e.activeColor,baseColor:e.baseColor,color:e.color,prependIcon:e.prependIcon||e.subgroup&&r.value,appendIcon:e.appendIcon||!e.subgroup&&r.value,title:e.title,value:e.value}}));return we(()=>F(e.tag,{class:["v-list-group",{"v-list-group--prepend":u==null?void 0:u.hasPrepend.value,"v-list-group--fluid":e.fluid,"v-list-group--subgroup":e.subgroup,"v-list-group--open":f.value},e.class],style:e.style},{default:()=>[n.activator&&F(xt,{defaults:a.value},{default:()=>[F(sb,null,{default:()=>[n.activator({props:c.value,isOpen:f.value})]})]}),F(fn,{transition:{component:ah},disabled:!i.value},{default:()=>{var s;return[Ft(F("div",{class:"v-list-group__items",role:"group","aria-labelledby":y.value},[(s=n.default)==null?void 0:s.call(n)]),[[oi,f.value]])]}})]})),{isOpen:f}}}),ob=ue({opacity:[Number,String],...xe(),...Ue()},"VListItemSubtitle"),lb=Se()({name:"VListItemSubtitle",props:ob(),setup(e,t){let{slots:n}=t;return we(()=>F(e.tag,{class:["v-list-item-subtitle",e.class],style:[{"--v-list-item-subtitle-opacity":e.opacity},e.style]},n)),{}}}),cb=wp("v-list-item-title");function ub(e){return{aspectStyles:H(()=>{const t=Number(e.aspectRatio);return t?{paddingBottom:String(1/t*100)+"%"}:void 0})}}const Ph=ue({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...xe(),...pn()},"VResponsive"),nc=Se()({name:"VResponsive",props:Ph(),setup(e,t){let{slots:n}=t;const{aspectStyles:f}=ub(e),{dimensionStyles:g}=yn(e);return we(()=>{var m;return F("div",{class:["v-responsive",{"v-responsive--inline":e.inline},e.class],style:[g.value,e.style]},[F("div",{class:"v-responsive__sizer",style:f.value},null),(m=n.additional)==null?void 0:m.call(n),n.default&&F("div",{class:["v-responsive__content",e.contentClass]},[n.default()])])}),{}}});function fb(e,t){if(!ja)return;const n=t.modifiers||{},f=t.value,{handler:g,options:m}=typeof f=="object"?f:{handler:f,options:{}},y=new IntersectionObserver(function(){var r;let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments.length>1?arguments[1]:void 0;const h=(r=e._observe)==null?void 0:r[t.instance.$.uid];if(!h)return;const c=u.some(a=>a.isIntersecting);g&&(!n.quiet||h.init)&&(!n.once||c||h.init)&&g(c,u,i),c&&n.once?Eh(e,t):h.init=!0},m);e._observe=Object(e._observe),e._observe[t.instance.$.uid]={init:!1,observer:y},y.observe(e)}function Eh(e,t){var f;const n=(f=e._observe)==null?void 0:f[t.instance.$.uid];n&&(n.observer.unobserve(e),delete e._observe[t.instance.$.uid])}const Ah={mounted:fb,unmounted:Eh},hb=ue({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...Ph(),...xe(),...kt(),...ts()},"VImg"),lo=Se()({name:"VImg",directives:{intersect:Ah},props:hb(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,t){let{emit:n,slots:f}=t;const{backgroundColorClasses:g,backgroundColorStyles:m}=gt(pe(e,"color")),{roundedClasses:y}=Pt(e),u=He("VImg"),i=ye(""),h=ge(),c=ye(e.eager?"loading":"idle"),r=ye(),a=ye(),s=H(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),o=H(()=>s.value.aspect||r.value/a.value||0);me(()=>e.src,()=>{d(c.value!=="idle")}),me(o,(R,G)=>{!R&&G&&h.value&&_(h.value)}),si(()=>d());function d(R){if(!(e.eager&&R)&&!(ja&&!R&&!e.eager)){if(c.value="loading",s.value.lazySrc){const G=new Image;G.src=s.value.lazySrc,_(G,null)}s.value.src&&ct(()=>{var G;n("loadstart",((G=h.value)==null?void 0:G.currentSrc)||s.value.src),setTimeout(()=>{var $;if(!u.isUnmounted)if(($=h.value)!=null&&$.complete){if(h.value.naturalWidth||v(),c.value==="error")return;o.value||_(h.value,null),c.value==="loading"&&l()}else o.value||_(h.value),p()})})}}function l(){var R;u.isUnmounted||(p(),_(h.value),c.value="loaded",n("load",((R=h.value)==null?void 0:R.currentSrc)||s.value.src))}function v(){var R;u.isUnmounted||(c.value="error",n("error",((R=h.value)==null?void 0:R.currentSrc)||s.value.src))}function p(){const R=h.value;R&&(i.value=R.currentSrc||R.src)}let b=-1;at(()=>{clearTimeout(b)});function _(R){let G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const $=()=>{if(clearTimeout(b),u.isUnmounted)return;const{naturalHeight:ee,naturalWidth:ne}=R;ee||ne?(r.value=ne,a.value=ee):!R.complete&&c.value==="loading"&&G!=null?b=window.setTimeout($,G):(R.currentSrc.endsWith(".svg")||R.currentSrc.startsWith("data:image/svg+xml"))&&(r.value=1,a.value=1)};$()}const C=H(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),S=()=>{var $;if(!s.value.src||c.value==="idle")return null;const R=F("img",{class:["v-img__img",C.value],style:{objectPosition:e.position},src:s.value.src,srcset:s.value.srcset,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable,sizes:e.sizes,ref:h,onLoad:l,onError:v},null),G=($=f.sources)==null?void 0:$.call(f);return F(fn,{transition:e.transition,appear:!0},{default:()=>[Ft(G?F("picture",{class:"v-img__picture"},[G,R]):R,[[oi,c.value==="loaded"]])]})},w=()=>F(fn,{transition:e.transition},{default:()=>[s.value.lazySrc&&c.value!=="loaded"&&F("img",{class:["v-img__img","v-img__img--preload",C.value],style:{objectPosition:e.position},src:s.value.lazySrc,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable},null)]}),x=()=>f.placeholder?F(fn,{transition:e.transition,appear:!0},{default:()=>[(c.value==="loading"||c.value==="error"&&!f.error)&&F("div",{class:"v-img__placeholder"},[f.placeholder()])]}):null,A=()=>f.error?F(fn,{transition:e.transition,appear:!0},{default:()=>[c.value==="error"&&F("div",{class:"v-img__error"},[f.error()])]}):null,V=()=>e.gradient?F("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,z=ye(!1);{const R=me(o,G=>{G&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{z.value=!0})}),R())})}return we(()=>{const R=nc.filterProps(e);return Ft(F(nc,Me({class:["v-img",{"v-img--absolute":e.absolute,"v-img--booting":!z.value},g.value,y.value,e.class],style:[{width:de(e.width==="auto"?r.value:e.width)},m.value,e.style]},R,{aspectRatio:o.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>F(Re,null,[F(S,null,null),F(w,null,null),F(V,null,null),F(x,null,null),F(A,null,null)]),default:f.default}),[[Yi("intersect"),{handler:d,options:e.options},null,{once:!0}]])}),{currentSrc:i,image:h,state:c,naturalWidth:r,naturalHeight:a}}}),db=ue({start:Boolean,end:Boolean,icon:Xe,image:String,text:String,...bn(),...xe(),...ci(),...kt(),...Qr(),...Ue(),...$e(),...Ki({variant:"flat"})},"VAvatar"),ic=Se()({name:"VAvatar",props:db(),setup(e,t){let{slots:n}=t;const{themeClasses:f}=Qe(e),{borderClasses:g}=_n(e),{colorClasses:m,colorStyles:y,variantClasses:u}=Ka(e),{densityClasses:i}=ui(e),{roundedClasses:h}=Pt(e),{sizeClasses:c,sizeStyles:r}=es(e);return we(()=>F(e.tag,{class:["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},f.value,g.value,m.value,i.value,h.value,c.value,u.value,e.class],style:[y.value,r.value,e.style]},{default:()=>[n.default?F(xt,{key:"content-defaults",defaults:{VImg:{cover:!0,src:e.image},VIcon:{icon:e.icon}}},{default:()=>[n.default()]}):e.image?F(lo,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?F(vt,{key:"icon",icon:e.icon},null):e.text,$a(!1,"v-avatar")]})),{}}}),gb=ue({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:Xe,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:Xe,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:[String,Number],title:[String,Number],value:null,onClick:wt(),onClickOnce:wt(),...bn(),...xe(),...ci(),...pn(),...Cn(),...kt(),...Gf(),...Ue(),...$e(),...Ki({variant:"text"})},"VListItem"),Ei=Se()({name:"VListItem",directives:{Ripple:Za},props:gb(),emits:{click:e=>!0},setup(e,t){let{attrs:n,slots:f,emit:g}=t;const m=Uf(e,n),y=H(()=>e.value===void 0?m.href.value:e.value),{activate:u,isActivated:i,select:h,isOpen:c,isSelected:r,isIndeterminate:a,isGroupActivator:s,root:o,parent:d,openOnSelect:l,id:v}=kh(y,!1),p=Sh(),b=H(()=>{var D;return e.active!==!1&&(e.active||((D=m.isActive)==null?void 0:D.value)||(o.activatable.value?i.value:r.value))}),_=H(()=>e.link!==!1&&m.isLink.value),C=H(()=>!!p&&(o.selectable.value||o.activatable.value||e.value!=null)),S=H(()=>!e.disabled&&e.link!==!1&&(e.link||m.isClickable.value||C.value)),w=H(()=>e.rounded||e.nav),x=H(()=>e.color??e.activeColor),A=H(()=>({color:b.value?x.value??e.baseColor:e.baseColor,variant:e.variant}));me(()=>{var D;return(D=m.isActive)==null?void 0:D.value},D=>{D&&V()}),si(()=>{var D;(D=m.isActive)!=null&&D.value&&V()});function V(){d.value!=null&&o.open(d.value,!0),l(!0)}const{themeClasses:z}=Qe(e),{borderClasses:R}=_n(e),{colorClasses:G,colorStyles:$,variantClasses:ee}=Ka(A),{densityClasses:ne}=ui(e),{dimensionStyles:re}=yn(e),{elevationClasses:ie}=Sn(e),{roundedClasses:O}=Pt(w),B=H(()=>e.lines?`v-list-item--${e.lines}-line`:void 0),L=H(()=>({isActive:b.value,select:h,isOpen:c.value,isSelected:r.value,isIndeterminate:a.value}));function j(D){var E;g("click",D),S.value&&((E=m.navigate)==null||E.call(m,D),!s&&(o.activatable.value?u(!i.value,D):(o.selectable.value||e.value!=null)&&h(!r.value,D)))}function J(D){(D.key==="Enter"||D.key===" ")&&(D.preventDefault(),D.target.dispatchEvent(new MouseEvent("click",D)))}return we(()=>{const D=_.value?"a":e.tag,E=f.title||e.title!=null,I=f.subtitle||e.subtitle!=null,M=!!(e.appendAvatar||e.appendIcon),U=!!(M||f.append),Y=!!(e.prependAvatar||e.prependIcon),q=!!(Y||f.prepend);return p==null||p.updateHasPrepend(q),e.activeColor&&ap("active-color",["color","base-color"]),Ft(F(D,Me({class:["v-list-item",{"v-list-item--active":b.value,"v-list-item--disabled":e.disabled,"v-list-item--link":S.value,"v-list-item--nav":e.nav,"v-list-item--prepend":!q&&(p==null?void 0:p.hasPrepend.value),"v-list-item--slim":e.slim,[`${e.activeClass}`]:e.activeClass&&b.value},z.value,R.value,G.value,ne.value,ie.value,B.value,O.value,ee.value,e.class],style:[$.value,re.value,e.style],tabindex:S.value?p?-2:0:void 0,"aria-selected":C.value?o.activatable.value?i.value:o.selectable.value?r.value:b.value:void 0,onClick:j,onKeydown:S.value&&!_.value&&J},m.linkProps),{default:()=>{var se;return[$a(S.value||b.value,"v-list-item"),q&&F("div",{key:"prepend",class:"v-list-item__prepend"},[f.prepend?F(xt,{key:"prepend-defaults",disabled:!Y,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var P;return[(P=f.prepend)==null?void 0:P.call(f,L.value)]}}):F(Re,null,[e.prependAvatar&&F(ic,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&F(vt,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)]),F("div",{class:"v-list-item__spacer"},null)]),F("div",{class:"v-list-item__content","data-no-activator":""},[E&&F(cb,{key:"title"},{default:()=>{var P;return[((P=f.title)==null?void 0:P.call(f,{title:e.title}))??e.title]}}),I&&F(lb,{key:"subtitle"},{default:()=>{var P;return[((P=f.subtitle)==null?void 0:P.call(f,{subtitle:e.subtitle}))??e.subtitle]}}),(se=f.default)==null?void 0:se.call(f,L.value)]),U&&F("div",{key:"append",class:"v-list-item__append"},[f.append?F(xt,{key:"append-defaults",disabled:!M,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var P;return[(P=f.append)==null?void 0:P.call(f,L.value)]}}):F(Re,null,[e.appendIcon&&F(vt,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&F(ic,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)]),F("div",{class:"v-list-item__spacer"},null)])]}}),[[Yi("ripple"),S.value&&e.ripple]])}),{activate:u,isActivated:i,isGroupActivator:s,isSelected:r,list:p,select:h,root:o,id:v}}}),vb=ue({color:String,inset:Boolean,sticky:Boolean,title:String,...xe(),...Ue()},"VListSubheader"),Mh=Se()({name:"VListSubheader",props:vb(),setup(e,t){let{slots:n}=t;const{textColorClasses:f,textColorStyles:g}=Zt(pe(e,"color"));return we(()=>{const m=!!(n.default||e.title);return F(e.tag,{class:["v-list-subheader",{"v-list-subheader--inset":e.inset,"v-list-subheader--sticky":e.sticky},f.value,e.class],style:[{textColorStyles:g},e.style]},{default:()=>{var y;return[m&&F("div",{class:"v-list-subheader__text"},[((y=n.default)==null?void 0:y.call(n))??e.title])]}})}),{}}}),mb=ue({items:Array,returnObject:Boolean},"VListChildren"),Dh=Se()({name:"VListChildren",props:mb(),setup(e,t){let{slots:n}=t;return Ch(),()=>{var f,g;return((f=n.default)==null?void 0:f.call(n))??((g=e.items)==null?void 0:g.map(m=>{var a,s;let{children:y,props:u,type:i,raw:h}=m;if(i==="divider")return((a=n.divider)==null?void 0:a.call(n,{props:u}))??F(io,u,null);if(i==="subheader")return((s=n.subheader)==null?void 0:s.call(n,{props:u}))??F(Mh,u,null);const c={subtitle:n.subtitle?o=>{var d;return(d=n.subtitle)==null?void 0:d.call(n,{...o,item:h})}:void 0,prepend:n.prepend?o=>{var d;return(d=n.prepend)==null?void 0:d.call(n,{...o,item:h})}:void 0,append:n.append?o=>{var d;return(d=n.append)==null?void 0:d.call(n,{...o,item:h})}:void 0,title:n.title?o=>{var d;return(d=n.title)==null?void 0:d.call(n,{...o,item:h})}:void 0},r=tc.filterProps(u);return y?F(tc,Me({value:u==null?void 0:u.value},r),{activator:o=>{let{props:d}=o;const l={...u,...d,value:e.returnObject?h:u.value};return n.header?n.header({props:l}):F(Ei,l,c)},default:()=>F(Dh,{items:y,returnObject:e.returnObject},n)}):n.item?n.item({props:u}):F(Ei,Me(u,{value:e.returnObject?h:u.value}),c)}))}}}),pb=ue({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:$i}},"list-items");function yb(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"}function bb(e,t){const n=mi(t,e.itemType,"item"),f=yb(t)?t:mi(t,e.itemTitle),g=mi(t,e.itemValue,void 0),m=mi(t,e.itemChildren),y=e.itemProps===!0?Gr(t,["children"]):mi(t,e.itemProps),u={title:f,value:g,...y};return{type:n,title:u.title,value:u.value,props:u,children:n==="item"&&m?Fh(e,m):void 0,raw:t}}function Fh(e,t){const n=[];for(const f of t)n.push(bb(e,f));return n}function _b(e){return{items:H(()=>Fh(e,e.items))}}const Cb=ue({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:Xe,collapseIcon:Xe,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":wt(),"onClick:select":wt(),"onUpdate:opened":wt(),...nb({selectStrategy:"single-leaf",openStrategy:"list"}),...bn(),...xe(),...ci(),...pn(),...Cn(),itemType:{type:String,default:"type"},...pb(),...kt(),...Ue(),...$e(),...Ki({variant:"text"})},"VList"),Sb=Se()({name:"VList",props:Cb(),emits:{"update:selected":e=>!0,"update:activated":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:activate":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:n}=t;const{items:f}=_b(e),{themeClasses:g}=Qe(e),{backgroundColorClasses:m,backgroundColorStyles:y}=gt(pe(e,"bgColor")),{borderClasses:u}=_n(e),{densityClasses:i}=ui(e),{dimensionStyles:h}=yn(e),{elevationClasses:c}=Sn(e),{roundedClasses:r}=Pt(e),{children:a,open:s,parents:o,select:d,getPath:l}=ib(e),v=H(()=>e.lines?`v-list--${e.lines}-line`:void 0),p=pe(e,"activeColor"),b=pe(e,"baseColor"),_=pe(e,"color");Ch(),li({VListGroup:{activeColor:p,baseColor:b,color:_,expandIcon:pe(e,"expandIcon"),collapseIcon:pe(e,"collapseIcon")},VListItem:{activeClass:pe(e,"activeClass"),activeColor:p,baseColor:b,color:_,density:pe(e,"density"),disabled:pe(e,"disabled"),lines:pe(e,"lines"),nav:pe(e,"nav"),slim:pe(e,"slim"),variant:pe(e,"variant")}});const C=ye(!1),S=ge();function w(G){C.value=!0}function x(G){C.value=!1}function A(G){var $;!C.value&&!(G.relatedTarget&&(($=S.value)!=null&&$.contains(G.relatedTarget)))&&R()}function V(G){const $=G.target;if(!(!S.value||["INPUT","TEXTAREA"].includes($.tagName))){if(G.key==="ArrowDown")R("next");else if(G.key==="ArrowUp")R("prev");else if(G.key==="Home")R("first");else if(G.key==="End")R("last");else return;G.preventDefault()}}function z(G){C.value=!0}function R(G){if(S.value)return ff(S.value,G)}return we(()=>F(e.tag,{ref:S,class:["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav,"v-list--slim":e.slim},g.value,m.value,u.value,i.value,c.value,v.value,r.value,e.class],style:[y.value,h.value,e.style],tabindex:e.disabled||C.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:w,onFocusout:x,onFocus:A,onKeydown:V,onMousedown:z},{default:()=>[F(Dh,{items:f.value,returnObject:e.returnObject},n)]})),{open:s,select:d,focus:R,children:a,parents:o,getPath:l}}});function wb(e){let{rootEl:t,isSticky:n,layoutItemStyles:f}=e;const g=ye(!1),m=ye(0),y=H(()=>{const h=typeof g.value=="boolean"?"top":g.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,g.value?{[h]:de(m.value)}:{top:f.value.top}]});Tt(()=>{me(n,h=>{h?window.addEventListener("scroll",i,{passive:!0}):window.removeEventListener("scroll",i)},{immediate:!0})}),at(()=>{window.removeEventListener("scroll",i)});let u=0;function i(){const h=u>window.scrollY?"up":"down",c=t.value.getBoundingClientRect(),r=parseFloat(f.value.top??0),a=window.scrollY-Math.max(0,m.value-r),s=c.height+Math.max(m.value,r)-window.scrollY-window.innerHeight,o=parseFloat(getComputedStyle(t.value).getPropertyValue("--v-body-scroll-y"))||0;c.height<window.innerHeight-r?(g.value="top",m.value=r):h==="up"&&g.value==="bottom"||h==="down"&&g.value==="top"?(m.value=window.scrollY+c.top-o,g.value=!0):h==="down"&&s<=0?(m.value=0,g.value="bottom"):h==="up"&&a<=0&&(o?g.value!=="top"&&(m.value=-a+o+r,g.value="top"):(m.value=c.top+a,g.value="top")),u=window.scrollY}return{isStuck:g,stickyStyles:y}}const xb=100,Tb=20;function rc(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function sc(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let t=0;for(let n=e.length-1;n>0;n--){if(e[n].t===e[n-1].t)continue;const f=rc(t),g=(e[n].d-e[n-1].d)/(e[n].t-e[n-1].t);t+=(g-f)*Math.abs(g),n===e.length-1&&(t*=.5)}return rc(t)*1e3}function Ob(){const e={};function t(g){Array.from(g.changedTouches).forEach(m=>{(e[m.identifier]??(e[m.identifier]=new Wm(Tb))).push([g.timeStamp,m])})}function n(g){Array.from(g.changedTouches).forEach(m=>{delete e[m.identifier]})}function f(g){var h;const m=(h=e[g])==null?void 0:h.values().reverse();if(!m)throw new Error(`No samples for touch id ${g}`);const y=m[0],u=[],i=[];for(const c of m){if(y[0]-c[0]>xb)break;u.push({t:c[0],d:c[1].clientX}),i.push({t:c[0],d:c[1].clientY})}return{x:sc(u),y:sc(i),get direction(){const{x:c,y:r}=this,[a,s]=[Math.abs(c),Math.abs(r)];return a>s&&c>=0?"right":a>s&&c<=0?"left":s>a&&r>=0?"down":s>a&&r<=0?"up":kb()}}}return{addMovement:t,endTouch:n,getVelocity:f}}function kb(){throw new Error}function Pb(e){let{el:t,isActive:n,isTemporary:f,width:g,touchless:m,position:y}=e;Tt(()=>{window.addEventListener("touchstart",p,{passive:!0}),window.addEventListener("touchmove",b,{passive:!1}),window.addEventListener("touchend",_,{passive:!0})}),at(()=>{window.removeEventListener("touchstart",p),window.removeEventListener("touchmove",b),window.removeEventListener("touchend",_)});const u=H(()=>["left","right"].includes(y.value)),{addMovement:i,endTouch:h,getVelocity:c}=Ob();let r=!1;const a=ye(!1),s=ye(0),o=ye(0);let d;function l(S,w){return(y.value==="left"?S:y.value==="right"?document.documentElement.clientWidth-S:y.value==="top"?S:y.value==="bottom"?document.documentElement.clientHeight-S:Un())-(w?g.value:0)}function v(S){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const x=y.value==="left"?(S-o.value)/g.value:y.value==="right"?(document.documentElement.clientWidth-S-o.value)/g.value:y.value==="top"?(S-o.value)/g.value:y.value==="bottom"?(document.documentElement.clientHeight-S-o.value)/g.value:Un();return w?Math.max(0,Math.min(1,x)):x}function p(S){if(m.value)return;const w=S.changedTouches[0].clientX,x=S.changedTouches[0].clientY,A=25,V=y.value==="left"?w<A:y.value==="right"?w>document.documentElement.clientWidth-A:y.value==="top"?x<A:y.value==="bottom"?x>document.documentElement.clientHeight-A:Un(),z=n.value&&(y.value==="left"?w<g.value:y.value==="right"?w>document.documentElement.clientWidth-g.value:y.value==="top"?x<g.value:y.value==="bottom"?x>document.documentElement.clientHeight-g.value:Un());(V||z||n.value&&f.value)&&(d=[w,x],o.value=l(u.value?w:x,n.value),s.value=v(u.value?w:x),r=o.value>-20&&o.value<80,h(S),i(S))}function b(S){const w=S.changedTouches[0].clientX,x=S.changedTouches[0].clientY;if(r){if(!S.cancelable){r=!1;return}const V=Math.abs(w-d[0]),z=Math.abs(x-d[1]);(u.value?V>z&&V>3:z>V&&z>3)?(a.value=!0,r=!1):(u.value?z:V)>3&&(r=!1)}if(!a.value)return;S.preventDefault(),i(S);const A=v(u.value?w:x,!1);s.value=Math.max(0,Math.min(1,A)),A>1?o.value=l(u.value?w:x,!0):A<0&&(o.value=l(u.value?w:x,!1))}function _(S){if(r=!1,!a.value)return;i(S),a.value=!1;const w=c(S.changedTouches[0].identifier),x=Math.abs(w.x),A=Math.abs(w.y);(u.value?x>A&&x>400:A>x&&A>3)?n.value=w.direction===({left:"right",right:"left",top:"down",bottom:"up"}[y.value]||Un()):n.value=s.value>.5}const C=H(()=>a.value?{transform:y.value==="left"?`translateX(calc(-100% + ${s.value*g.value}px))`:y.value==="right"?`translateX(calc(100% - ${s.value*g.value}px))`:y.value==="top"?`translateY(calc(-100% + ${s.value*g.value}px))`:y.value==="bottom"?`translateY(calc(100% - ${s.value*g.value}px))`:Un(),transition:"none"}:void 0);return Mt(a,()=>{var x,A;const S=((x=t.value)==null?void 0:x.style.transform)??null,w=((A=t.value)==null?void 0:A.style.transition)??null;Ht(()=>{var V,z,R,G;(z=t.value)==null||z.style.setProperty("transform",((V=C.value)==null?void 0:V.transform)||"none"),(G=t.value)==null||G.style.setProperty("transition",((R=C.value)==null?void 0:R.transition)||null)}),mt(()=>{var V,z;(V=t.value)==null||V.style.setProperty("transform",S),(z=t.value)==null||z.style.setProperty("transition",w)})}),{isDragging:a,dragProgress:s,dragStyles:C}}function Un(){throw new Error}const is={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function Eb(e,t,n){const f=[];let g=[];const m=Lh(e),y=Ih(e),u=n??is[t.slice(-2).toUpperCase()]??0,i=(m.getDay()-u+7)%7,h=(y.getDay()-u+7)%7;for(let c=0;c<i;c++){const r=new Date(m);r.setDate(r.getDate()-(i-c)),g.push(r)}for(let c=1;c<=y.getDate();c++){const r=new Date(e.getFullYear(),e.getMonth(),c);g.push(r),g.length===7&&(f.push(g),g=[])}for(let c=1;c<7-h;c++){const r=new Date(y);r.setDate(r.getDate()+c),g.push(r)}return g.length>0&&f.push(g),f}function Ab(e,t,n){const f=n??is[t.slice(-2).toUpperCase()]??0,g=new Date(e);for(;g.getDay()!==f;)g.setDate(g.getDate()-1);return g}function Mb(e,t){const n=new Date(e),f=((is[t.slice(-2).toUpperCase()]??0)+6)%7;for(;n.getDay()!==f;)n.setDate(n.getDate()+1);return n}function Lh(e){return new Date(e.getFullYear(),e.getMonth(),1)}function Ih(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}function Db(e){const t=e.split("-").map(Number);return new Date(t[0],t[1]-1,t[2])}const Fb=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function Rh(e){if(e==null)return new Date;if(e instanceof Date)return e;if(typeof e=="string"){let t;if(Fb.test(e))return Db(e);if(t=Date.parse(e),!isNaN(t))return new Date(t)}return null}const ac=new Date(2e3,0,2);function Lb(e,t){const n=t??is[e.slice(-2).toUpperCase()]??0;return Va(7).map(f=>{const g=new Date(ac);return g.setDate(ac.getDate()+n+f),new Intl.DateTimeFormat(e,{weekday:"narrow"}).format(g)})}function Ib(e,t,n,f){const g=Rh(e)??new Date,m=f==null?void 0:f[t];if(typeof m=="function")return m(g,t,n);let y={};switch(t){case"fullDate":y={year:"numeric",month:"long",day:"numeric"};break;case"fullDateWithWeekday":y={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const u=g.getDate(),i=new Intl.DateTimeFormat(n,{month:"long"}).format(g);return`${u} ${i}`;case"normalDateWithWeekday":y={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":y={month:"short",day:"numeric"};break;case"year":y={year:"numeric"};break;case"month":y={month:"long"};break;case"monthShort":y={month:"short"};break;case"monthAndYear":y={month:"long",year:"numeric"};break;case"monthAndDate":y={month:"long",day:"numeric"};break;case"weekday":y={weekday:"long"};break;case"weekdayShort":y={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(n).format(g.getDate());case"hours12h":y={hour:"numeric",hour12:!0};break;case"hours24h":y={hour:"numeric",hour12:!1};break;case"minutes":y={minute:"numeric"};break;case"seconds":y={second:"numeric"};break;case"fullTime":y={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime12h":y={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime24h":y={hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"fullDateTime":y={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime12h":y={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime24h":y={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDate":y={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":y={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDateTime12h":y={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"keyboardDateTime24h":y={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;default:y=m??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(n,y).format(g)}function Rb(e,t){const n=e.toJsDate(t),f=n.getFullYear(),g=Cl(String(n.getMonth()+1),2,"0"),m=Cl(String(n.getDate()),2,"0");return`${f}-${g}-${m}`}function Bb(e){const[t,n,f]=e.split("-").map(Number);return new Date(t,n-1,f)}function jb(e,t){const n=new Date(e);return n.setMinutes(n.getMinutes()+t),n}function Vb(e,t){const n=new Date(e);return n.setHours(n.getHours()+t),n}function Nb(e,t){const n=new Date(e);return n.setDate(n.getDate()+t),n}function Hb(e,t){const n=new Date(e);return n.setDate(n.getDate()+t*7),n}function Wb(e,t){const n=new Date(e);return n.setDate(1),n.setMonth(n.getMonth()+t),n}function zb(e){return e.getFullYear()}function Yb(e){return e.getMonth()}function Xb(e){return e.getDate()}function Ub(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}function Gb(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}function $b(e){return e.getHours()}function Kb(e){return e.getMinutes()}function qb(e){return new Date(e.getFullYear(),0,1)}function Jb(e){return new Date(e.getFullYear(),11,31)}function Zb(e,t){return Mr(e,t[0])&&t_(e,t[1])}function Qb(e){const t=new Date(e);return t instanceof Date&&!isNaN(t.getTime())}function Mr(e,t){return e.getTime()>t.getTime()}function e_(e,t){return Mr(ca(e),ca(t))}function t_(e,t){return e.getTime()<t.getTime()}function oc(e,t){return e.getTime()===t.getTime()}function n_(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function i_(e,t){return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function r_(e,t){return e.getFullYear()===t.getFullYear()}function s_(e,t,n){const f=new Date(e),g=new Date(t);switch(n){case"years":return f.getFullYear()-g.getFullYear();case"quarters":return Math.floor((f.getMonth()-g.getMonth()+(f.getFullYear()-g.getFullYear())*12)/4);case"months":return f.getMonth()-g.getMonth()+(f.getFullYear()-g.getFullYear())*12;case"weeks":return Math.floor((f.getTime()-g.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((f.getTime()-g.getTime())/(1e3*60*60*24));case"hours":return Math.floor((f.getTime()-g.getTime())/(1e3*60*60));case"minutes":return Math.floor((f.getTime()-g.getTime())/(1e3*60));case"seconds":return Math.floor((f.getTime()-g.getTime())/1e3);default:return f.getTime()-g.getTime()}}function a_(e,t){const n=new Date(e);return n.setHours(t),n}function o_(e,t){const n=new Date(e);return n.setMinutes(t),n}function l_(e,t){const n=new Date(e);return n.setMonth(t),n}function c_(e,t){const n=new Date(e);return n.setDate(t),n}function u_(e,t){const n=new Date(e);return n.setFullYear(t),n}function ca(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0)}function f_(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59,999)}class h_{constructor(t){this.locale=t.locale,this.formats=t.formats}date(t){return Rh(t)}toJsDate(t){return t}toISO(t){return Rb(this,t)}parseISO(t){return Bb(t)}addMinutes(t,n){return jb(t,n)}addHours(t,n){return Vb(t,n)}addDays(t,n){return Nb(t,n)}addWeeks(t,n){return Hb(t,n)}addMonths(t,n){return Wb(t,n)}getWeekArray(t,n){return Eb(t,this.locale,n?Number(n):void 0)}startOfWeek(t,n){return Ab(t,this.locale,n?Number(n):void 0)}endOfWeek(t){return Mb(t,this.locale)}startOfMonth(t){return Lh(t)}endOfMonth(t){return Ih(t)}format(t,n){return Ib(t,n,this.locale,this.formats)}isEqual(t,n){return oc(t,n)}isValid(t){return Qb(t)}isWithinRange(t,n){return Zb(t,n)}isAfter(t,n){return Mr(t,n)}isAfterDay(t,n){return e_(t,n)}isBefore(t,n){return!Mr(t,n)&&!oc(t,n)}isSameDay(t,n){return n_(t,n)}isSameMonth(t,n){return i_(t,n)}isSameYear(t,n){return r_(t,n)}setMinutes(t,n){return o_(t,n)}setHours(t,n){return a_(t,n)}setMonth(t,n){return l_(t,n)}setDate(t,n){return c_(t,n)}setYear(t,n){return u_(t,n)}getDiff(t,n,f){return s_(t,n,f)}getWeekdays(t){return Lb(this.locale,t?Number(t):void 0)}getYear(t){return zb(t)}getMonth(t){return Yb(t)}getDate(t){return Xb(t)}getNextMonth(t){return Ub(t)}getPreviousMonth(t){return Gb(t)}getHours(t){return $b(t)}getMinutes(t){return Kb(t)}startOfDay(t){return ca(t)}endOfDay(t){return f_(t)}startOfYear(t){return qb(t)}endOfYear(t){return Jb(t)}}const d_=Symbol.for("vuetify:date-options"),lc=Symbol.for("vuetify:date-adapter");function g_(e,t){const n=dt({adapter:h_,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},e);return{options:n,instance:v_(n,t)}}function v_(e,t){const n=We(typeof e.adapter=="function"?new e.adapter({locale:e.locale[t.current.value]??t.current.value,formats:e.formats}):e.adapter);return me(t.current,f=>{n.locale=e.locale[f]??f??n.locale}),n}const m_=Symbol.for("vuetify:goto");function p_(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:e=>e,easeInQuad:e=>e**2,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e**2:-1+(4-2*e)*e,easeInCubic:e=>e**3,easeOutCubic:e=>--e**3+1,easeInOutCubic:e=>e<.5?4*e**3:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e**4,easeOutQuart:e=>1- --e**4,easeInOutQuart:e=>e<.5?8*e**4:1-8*--e**4,easeInQuint:e=>e**5,easeOutQuint:e=>1+--e**5,easeInOutQuint:e=>e<.5?16*e**5:1+16*--e**5}}}function y_(e,t){return{rtl:t.isRtl,options:dt(p_(),e)}}const Bh=ue({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function jh(e,t){let n=()=>{};function f(y){n==null||n();const u=Number(y?e.openDelay:e.closeDelay);return new Promise(i=>{n=$m(u,()=>{t==null||t(y),i(y)})})}function g(){return f(!0)}function m(){return f(!1)}return{clearDelay:n,runOpenDelay:g,runCloseDelay:m}}function co(){const t=He("useScopeId").vnode.scopeId;return{scopeId:t?{[t]:""}:void 0}}const b_=["start","end","left","right","top","bottom"],__=ue({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>b_.includes(e)},sticky:Boolean,...bn(),...xe(),...Bh(),...j0({mobile:null}),...Cn(),...Af(),...kt(),...Ue({tag:"nav"}),...$e()},"VNavigationDrawer"),Vh=Se()({name:"VNavigationDrawer",props:__(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,t){let{attrs:n,emit:f,slots:g}=t;const{isRtl:m}=Ot(),{themeClasses:y}=Qe(e),{borderClasses:u}=_n(e),{backgroundColorClasses:i,backgroundColorStyles:h}=gt(pe(e,"color")),{elevationClasses:c}=Sn(e),{displayClasses:r,mobile:a}=uh(e),{roundedClasses:s}=Pt(e),o=Xf(),d=Ze(e,"modelValue",null,L=>!!L),{ssrBootStyles:l}=Kr(),{scopeId:v}=co(),p=ge(),b=ye(!1),{runOpenDelay:_,runCloseDelay:C}=jh(e,L=>{b.value=L}),S=H(()=>e.rail&&e.expandOnHover&&b.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),w=H(()=>Zs(e.location,m.value)),x=H(()=>e.persistent),A=H(()=>!e.permanent&&(a.value||e.temporary)),V=H(()=>e.sticky&&!A.value&&w.value!=="bottom");Mt(()=>e.expandOnHover&&e.rail!=null,()=>{me(b,L=>f("update:rail",!L))}),Mt(()=>!e.disableResizeWatcher,()=>{me(A,L=>!e.permanent&&ct(()=>d.value=!L))}),Mt(()=>!e.disableRouteWatcher&&!!o,()=>{me(o.currentRoute,()=>A.value&&(d.value=!1))}),me(()=>e.permanent,L=>{L&&(d.value=!0)}),e.modelValue==null&&!A.value&&(d.value=e.permanent||!a.value);const{isDragging:z,dragProgress:R}=Pb({el:p,isActive:d,isTemporary:A,width:S,touchless:pe(e,"touchless"),position:w}),G=H(()=>{const L=A.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):S.value;return z.value?L*R.value:L}),$=H(()=>["top","bottom"].includes(e.location)?0:S.value),{layoutItemStyles:ee,layoutItemScrimStyles:ne}=Mf({id:e.name,order:H(()=>parseInt(e.order,10)),position:w,layoutSize:G,elementSize:$,active:H(()=>d.value||z.value),disableTransitions:H(()=>z.value),absolute:H(()=>e.absolute||V.value&&typeof re.value!="string")}),{isStuck:re,stickyStyles:ie}=wb({rootEl:p,isSticky:V,layoutItemStyles:ee}),O=gt(H(()=>typeof e.scrim=="string"?e.scrim:null)),B=H(()=>({...z.value?{opacity:R.value*.2,transition:"none"}:void 0,...ne.value}));return li({VList:{bgColor:"transparent"}}),we(()=>{const L=g.image||e.image;return F(Re,null,[F(e.tag,Me({ref:p,onMouseenter:_,onMouseleave:C,class:["v-navigation-drawer",`v-navigation-drawer--${w.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":b.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":A.value,"v-navigation-drawer--persistent":x.value,"v-navigation-drawer--active":d.value,"v-navigation-drawer--sticky":V.value},y.value,i.value,u.value,r.value,c.value,s.value,e.class],style:[h.value,ee.value,l.value,ie.value,e.style,["top","bottom"].includes(w.value)?{height:"auto"}:{}]},v,n),{default:()=>{var j,J,D;return[L&&F("div",{key:"image",class:"v-navigation-drawer__img"},[g.image?F(xt,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},g.image):F(lo,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),g.prepend&&F("div",{class:"v-navigation-drawer__prepend"},[(j=g.prepend)==null?void 0:j.call(g)]),F("div",{class:"v-navigation-drawer__content"},[(J=g.default)==null?void 0:J.call(g)]),g.append&&F("div",{class:"v-navigation-drawer__append"},[(D=g.append)==null?void 0:D.call(g)])]}}),F(ai,{name:"fade-transition"},{default:()=>[A.value&&(z.value||d.value)&&!!e.scrim&&F("div",Me({class:["v-navigation-drawer__scrim",O.backgroundColorClasses.value],style:[B.value,O.backgroundColorStyles.value],onClick:()=>{x.value||(d.value=!1)}},v),null)]})])}),{isStuck:re}}}),C_=ue({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...xe(),...ts({transition:{component:sh}})},"VCounter"),S_=Se()({name:"VCounter",functional:!0,props:C_(),setup(e,t){let{slots:n}=t;const f=H(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return we(()=>F(fn,{transition:e.transition},{default:()=>[Ft(F("div",{class:["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class],style:e.style},[n.default?n.default({counter:f.value,max:e.max,value:e.value}):f.value]),[[oi,e.active]])]})),{}}}),w_=ue({floating:Boolean,...xe()},"VFieldLabel"),sr=Se()({name:"VFieldLabel",props:w_(),setup(e,t){let{slots:n}=t;return we(()=>F(lh,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},n)),{}}}),x_=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],Nh=ue({appendInnerIcon:Xe,bgColor:String,clearable:Boolean,clearIcon:{type:Xe,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:Xe,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>x_.includes(e)},"onClick:clear":wt(),"onClick:appendInner":wt(),"onClick:prependInner":wt(),...xe(),...Hf(),...kt(),...$e()},"VField"),Hh=Se()({name:"VField",inheritAttrs:!1,props:{id:String,...eo(),...Nh()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:f,slots:g}=t;const{themeClasses:m}=Qe(e),{loaderClasses:y}=Wf(e),{focusClasses:u,isFocused:i,focus:h,blur:c}=to(e),{InputIcon:r}=oh(e),{roundedClasses:a}=Pt(e),{rtlClasses:s}=Ot(),o=H(()=>e.dirty||e.active),d=H(()=>!e.singleLine&&!!(e.label||g.label)),l=tn(),v=H(()=>e.id||`input-${l}`),p=H(()=>`${v.value}-messages`),b=ge(),_=ge(),C=ge(),S=H(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:w,backgroundColorStyles:x}=gt(pe(e,"bgColor")),{textColorClasses:A,textColorStyles:V}=Zt(H(()=>e.error||e.disabled?void 0:o.value&&i.value?e.color:e.baseColor));me(o,$=>{if(d.value){const ee=b.value.$el,ne=_.value.$el;requestAnimationFrame(()=>{const re=df(ee),ie=ne.getBoundingClientRect(),O=ie.x-re.x,B=ie.y-re.y-(re.height/2-ie.height/2),L=ie.width/.75,j=Math.abs(L-re.width)>1?{maxWidth:de(L)}:void 0,J=getComputedStyle(ee),D=getComputedStyle(ne),E=parseFloat(J.transitionDuration)*1e3||150,I=parseFloat(D.getPropertyValue("--v-field-label-scale")),M=D.getPropertyValue("color");ee.style.visibility="visible",ne.style.visibility="hidden",gf(ee,{transform:`translate(${O}px, ${B}px) scale(${I})`,color:M,...j},{duration:E,easing:Pf,direction:$?"normal":"reverse"}).finished.then(()=>{ee.style.removeProperty("visibility"),ne.style.removeProperty("visibility")})})}},{flush:"post"});const z=H(()=>({isActive:o,isFocused:i,controlRef:C,blur:c,focus:h}));function R($){$.target!==document.activeElement&&$.preventDefault()}function G($){var ee;$.key!=="Enter"&&$.key!==" "||($.preventDefault(),$.stopPropagation(),(ee=e["onClick:clear"])==null||ee.call(e,new MouseEvent("click")))}return we(()=>{var O,B,L;const $=e.variant==="outlined",ee=!!(g["prepend-inner"]||e.prependInnerIcon),ne=!!(e.clearable||g.clear),re=!!(g["append-inner"]||e.appendInnerIcon||ne),ie=()=>g.label?g.label({...z.value,label:e.label,props:{for:v.value}}):e.label;return F("div",Me({class:["v-field",{"v-field--active":o.value,"v-field--appended":re,"v-field--center-affix":e.centerAffix??!S.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":ee,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!ie(),[`v-field--variant-${e.variant}`]:!0},m.value,w.value,u.value,y.value,a.value,s.value,e.class],style:[x.value,e.style],onClick:R},n),[F("div",{class:"v-field__overlay"},null),F(_y,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:g.loader}),ee&&F("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&F(r,{key:"prepend-icon",name:"prependInner"},null),(O=g["prepend-inner"])==null?void 0:O.call(g,z.value)]),F("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&d.value&&F(sr,{key:"floating-label",ref:_,class:[A.value],floating:!0,for:v.value,style:V.value},{default:()=>[ie()]}),d.value&&F(sr,{key:"label",ref:b,for:v.value},{default:()=>[ie()]}),(B=g.default)==null?void 0:B.call(g,{...z.value,props:{id:v.value,class:"v-field__input","aria-describedby":p.value},focus:h,blur:c})]),ne&&F($y,{key:"clear"},{default:()=>[Ft(F("div",{class:"v-field__clearable",onMousedown:j=>{j.preventDefault(),j.stopPropagation()}},[F(xt,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[g.clear?g.clear({...z.value,props:{onKeydown:G,onFocus:h,onBlur:c,onClick:e["onClick:clear"]}}):F(r,{name:"clear",onKeydown:G,onFocus:h,onBlur:c},null)]})]),[[oi,e.dirty]])]}),re&&F("div",{key:"append",class:"v-field__append-inner"},[(L=g["append-inner"])==null?void 0:L.call(g,z.value),e.appendInnerIcon&&F(r,{key:"append-icon",name:"appendInner"},null)]),F("div",{class:["v-field__outline",A.value],style:V.value},[$&&F(Re,null,[F("div",{class:"v-field__outline__start"},null),d.value&&F("div",{class:"v-field__outline__notch"},[F(sr,{ref:_,floating:!0,for:v.value},{default:()=>[ie()]})]),F("div",{class:"v-field__outline__end"},null)]),S.value&&d.value&&F(sr,{ref:_,floating:!0,for:v.value},{default:()=>[ie()]})])])}),{controlRef:C}}});function T_(e){const t=Object.keys(Hh.props).filter(n=>!Na(n)&&n!=="class"&&n!=="style");return of(e,t)}const Ps=Symbol("Forwarded refs");function Es(e,t){let n=e;for(;n;){const f=Reflect.getOwnPropertyDescriptor(n,t);if(f)return f;n=Object.getPrototypeOf(n)}}function Wh(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),f=1;f<t;f++)n[f-1]=arguments[f];return e[Ps]=n,new Proxy(e,{get(g,m){if(Reflect.has(g,m))return Reflect.get(g,m);if(!(typeof m=="symbol"||m.startsWith("$")||m.startsWith("__"))){for(const y of n)if(y.value&&Reflect.has(y.value,m)){const u=Reflect.get(y.value,m);return typeof u=="function"?u.bind(y.value):u}}},has(g,m){if(Reflect.has(g,m))return!0;if(typeof m=="symbol"||m.startsWith("$")||m.startsWith("__"))return!1;for(const y of n)if(y.value&&Reflect.has(y.value,m))return!0;return!1},set(g,m,y){if(Reflect.has(g,m))return Reflect.set(g,m,y);if(typeof m=="symbol"||m.startsWith("$")||m.startsWith("__"))return!1;for(const u of n)if(u.value&&Reflect.has(u.value,m))return Reflect.set(u.value,m,y);return!1},getOwnPropertyDescriptor(g,m){var u;const y=Reflect.getOwnPropertyDescriptor(g,m);if(y)return y;if(!(typeof m=="symbol"||m.startsWith("$")||m.startsWith("__"))){for(const i of n){if(!i.value)continue;const h=Es(i.value,m)??("_"in i.value?Es((u=i.value._)==null?void 0:u.setupState,m):void 0);if(h)return h}for(const i of n){const h=i.value&&i.value[Ps];if(!h)continue;const c=h.slice();for(;c.length;){const r=c.shift(),a=Es(r.value,m);if(a)return a;const s=r.value&&r.value[Ps];s&&c.push(...s)}}}}})}const O_=["color","file","time","date","datetime-local","week","month"],k_=ue({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...no(),...Nh()},"VTextField"),P_=Se()({name:"VTextField",directives:{Intersect:Ah},inheritAttrs:!1,props:k_(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:f,slots:g}=t;const m=Ze(e,"modelValue"),{isFocused:y,focus:u,blur:i}=to(e),h=H(()=>typeof e.counterValue=="function"?e.counterValue(m.value):typeof e.counterValue=="number"?e.counterValue:(m.value??"").toString().length),c=H(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),r=H(()=>["plain","underlined"].includes(e.variant));function a(S,w){var x,A;!e.autofocus||!S||(A=(x=w[0].target)==null?void 0:x.focus)==null||A.call(x)}const s=ge(),o=ge(),d=ge(),l=H(()=>O_.includes(e.type)||e.persistentPlaceholder||y.value||e.active);function v(){var S;d.value!==document.activeElement&&((S=d.value)==null||S.focus()),y.value||u()}function p(S){f("mousedown:control",S),S.target!==d.value&&(v(),S.preventDefault())}function b(S){v(),f("click:control",S)}function _(S){S.stopPropagation(),v(),ct(()=>{m.value=null,Ym(e["onClick:clear"],S)})}function C(S){var x;const w=S.target;if(m.value=w.value,(x=e.modelModifiers)!=null&&x.trim&&["text","search","password","tel","url"].includes(e.type)){const A=[w.selectionStart,w.selectionEnd];ct(()=>{w.selectionStart=A[0],w.selectionEnd=A[1]})}}return we(()=>{const S=!!(g.counter||e.counter!==!1&&e.counter!=null),w=!!(S||g.details),[x,A]=Nm(n),{modelValue:V,...z}=Ar.filterProps(e),R=T_(e);return F(Ar,Me({ref:s,modelValue:m.value,"onUpdate:modelValue":G=>m.value=G,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":r.value},e.class],style:e.style},x,z,{centerAffix:!r.value,focused:y.value}),{...g,default:G=>{let{id:$,isDisabled:ee,isDirty:ne,isReadonly:re,isValid:ie}=G;return F(Hh,Me({ref:o,onMousedown:p,onClick:b,"onClick:clear":_,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},R,{id:$.value,active:l.value||ne.value,dirty:ne.value||e.dirty,disabled:ee.value,focused:y.value,error:ie.value===!1}),{...g,default:O=>{let{props:{class:B,...L}}=O;const j=Ft(F("input",Me({ref:d,value:m.value,onInput:C,autofocus:e.autofocus,readonly:re.value,disabled:ee.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:v,onBlur:i},L,A),null),[[Yi("intersect"),{handler:a},null,{once:!0}]]);return F(Re,null,[e.prefix&&F("span",{class:"v-text-field__prefix"},[F("span",{class:"v-text-field__prefix__text"},[e.prefix])]),g.default?F("div",{class:B,"data-no-activator":""},[g.default(),j]):qt(j,{class:B}),e.suffix&&F("span",{class:"v-text-field__suffix"},[F("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:w?G=>{var $;return F(Re,null,[($=g.details)==null?void 0:$.call(g,G),S&&F(Re,null,[F("span",null,null),F(S_,{active:e.persistentCounter||y.value,value:h.value,max:c.value,disabled:e.disabled},g.counter)])])}:void 0})}),Wh({},s,o,d)}});function As(e,t){return{x:e.x+t.x,y:e.y+t.y}}function E_(e,t){return{x:e.x-t.x,y:e.y-t.y}}function cc(e,t){if(e.side==="top"||e.side==="bottom"){const{side:n,align:f}=e,g=f==="left"?0:f==="center"?t.width/2:f==="right"?t.width:f,m=n==="top"?0:n==="bottom"?t.height:n;return As({x:g,y:m},t)}else if(e.side==="left"||e.side==="right"){const{side:n,align:f}=e,g=n==="left"?0:n==="right"?t.width:n,m=f==="top"?0:f==="center"?t.height/2:f==="bottom"?t.height:f;return As({x:g,y:m},t)}return As({x:t.width/2,y:t.height/2},t)}const zh={static:D_,connected:L_},A_=ue({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in zh},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function M_(e,t){const n=ge({}),f=ge();Be&&Mt(()=>!!(t.isActive.value&&e.locationStrategy),m=>{var y,u;me(()=>e.locationStrategy,m),mt(()=>{window.removeEventListener("resize",g),f.value=void 0}),window.addEventListener("resize",g,{passive:!0}),typeof e.locationStrategy=="function"?f.value=(y=e.locationStrategy(t,e,n))==null?void 0:y.updateLocation:f.value=(u=zh[e.locationStrategy](t,e,n))==null?void 0:u.updateLocation});function g(m){var y;(y=f.value)==null||y.call(f,m)}return{contentStyles:n,updateLocation:f}}function D_(){}function F_(e,t){const n=df(e);return t?n.x+=parseFloat(e.style.right||0):n.x-=parseFloat(e.style.left||0),n.y-=parseFloat(e.style.top||0),n}function L_(e,t,n){(Array.isArray(e.target.value)||Op(e.target.value))&&Object.assign(n.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:g,preferredOrigin:m}=Ha(()=>{const o=Js(t.location,e.isRtl.value),d=t.origin==="overlap"?o:t.origin==="auto"?Ss(o):Js(t.origin,e.isRtl.value);return o.side===d.side&&o.align===ws(d).align?{preferredAnchor:wl(o),preferredOrigin:wl(d)}:{preferredAnchor:o,preferredOrigin:d}}),[y,u,i,h]=["minWidth","minHeight","maxWidth","maxHeight"].map(o=>H(()=>{const d=parseFloat(t[o]);return isNaN(d)?1/0:d})),c=H(()=>{if(Array.isArray(t.offset))return t.offset;if(typeof t.offset=="string"){const o=t.offset.split(" ").map(parseFloat);return o.length<2&&o.push(0),o}return typeof t.offset=="number"?[t.offset,0]:[0,0]});let r=!1;const a=new ResizeObserver(()=>{r&&s()});me([e.target,e.contentEl],(o,d)=>{let[l,v]=o,[p,b]=d;p&&!Array.isArray(p)&&a.unobserve(p),l&&!Array.isArray(l)&&a.observe(l),b&&a.unobserve(b),v&&a.observe(v)},{immediate:!0}),mt(()=>{a.disconnect()});function s(){if(r=!1,requestAnimationFrame(()=>r=!0),!e.target.value||!e.contentEl.value)return;const o=qm(e.target.value),d=F_(e.contentEl.value,e.isRtl.value),l=Tr(e.contentEl.value),v=12;l.length||(l.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(d.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),d.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const p=l.reduce((z,R)=>{const G=R.getBoundingClientRect(),$=new Rn({x:R===document.documentElement?0:G.x,y:R===document.documentElement?0:G.y,width:R.clientWidth,height:R.clientHeight});return z?new Rn({x:Math.max(z.left,$.left),y:Math.max(z.top,$.top),width:Math.min(z.right,$.right)-Math.max(z.left,$.left),height:Math.min(z.bottom,$.bottom)-Math.max(z.top,$.top)}):$},void 0);p.x+=v,p.y+=v,p.width-=v*2,p.height-=v*2;let b={anchor:g.value,origin:m.value};function _(z){const R=new Rn(d),G=cc(z.anchor,o),$=cc(z.origin,R);let{x:ee,y:ne}=E_(G,$);switch(z.anchor.side){case"top":ne-=c.value[0];break;case"bottom":ne+=c.value[0];break;case"left":ee-=c.value[0];break;case"right":ee+=c.value[0];break}switch(z.anchor.align){case"top":ne-=c.value[1];break;case"bottom":ne+=c.value[1];break;case"left":ee-=c.value[1];break;case"right":ee+=c.value[1];break}return R.x+=ee,R.y+=ne,R.width=Math.min(R.width,i.value),R.height=Math.min(R.height,h.value),{overflows:Tl(R,p),x:ee,y:ne}}let C=0,S=0;const w={x:0,y:0},x={x:!1,y:!1};let A=-1;for(;!(A++>10);){const{x:z,y:R,overflows:G}=_(b);C+=z,S+=R,d.x+=z,d.y+=R;{const $=xl(b.anchor),ee=G.x.before||G.x.after,ne=G.y.before||G.y.after;let re=!1;if(["x","y"].forEach(ie=>{if(ie==="x"&&ee&&!x.x||ie==="y"&&ne&&!x.y){const O={anchor:{...b.anchor},origin:{...b.origin}},B=ie==="x"?$==="y"?ws:Ss:$==="y"?Ss:ws;O.anchor=B(O.anchor),O.origin=B(O.origin);const{overflows:L}=_(O);(L[ie].before<=G[ie].before&&L[ie].after<=G[ie].after||L[ie].before+L[ie].after<(G[ie].before+G[ie].after)/2)&&(b=O,re=x[ie]=!0)}}),re)continue}G.x.before&&(C+=G.x.before,d.x+=G.x.before),G.x.after&&(C-=G.x.after,d.x-=G.x.after),G.y.before&&(S+=G.y.before,d.y+=G.y.before),G.y.after&&(S-=G.y.after,d.y-=G.y.after);{const $=Tl(d,p);w.x=p.width-$.x.before-$.x.after,w.y=p.height-$.y.before-$.y.after,C+=$.x.before,d.x+=$.x.before,S+=$.y.before,d.y+=$.y.before}break}const V=xl(b.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${b.anchor.side} ${b.anchor.align}`,transformOrigin:`${b.origin.side} ${b.origin.align}`,top:de(Ms(S)),left:e.isRtl.value?void 0:de(Ms(C)),right:e.isRtl.value?de(Ms(-C)):void 0,minWidth:de(V==="y"?Math.min(y.value,o.width):y.value),maxWidth:de(uc(_t(w.x,y.value===1/0?0:y.value,i.value))),maxHeight:de(uc(_t(w.y,u.value===1/0?0:u.value,h.value)))}),{available:w,contentBox:d}}return me(()=>[g.value,m.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>s()),ct(()=>{const o=s();if(!o)return;const{available:d,contentBox:l}=o;l.height>d.y&&requestAnimationFrame(()=>{s(),requestAnimationFrame(()=>{s()})})}),{updateLocation:s}}function Ms(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function uc(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let ua=!0;const Dr=[];function I_(e){!ua||Dr.length?(Dr.push(e),fa()):(ua=!1,e(),fa())}let fc=-1;function fa(){cancelAnimationFrame(fc),fc=requestAnimationFrame(()=>{const e=Dr.shift();e&&e(),Dr.length?fa():ua=!0})}const fr={none:null,close:j_,block:V_,reposition:N_},R_=ue({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in fr}},"VOverlay-scroll-strategies");function B_(e,t){if(!Be)return;let n;Ht(async()=>{n==null||n.stop(),t.isActive.value&&e.scrollStrategy&&(n=Hi(),await new Promise(f=>setTimeout(f)),n.active&&n.run(()=>{var f;typeof e.scrollStrategy=="function"?e.scrollStrategy(t,e,n):(f=fr[e.scrollStrategy])==null||f.call(fr,t,e,n)}))}),mt(()=>{n==null||n.stop()})}function j_(e){function t(n){e.isActive.value=!1}Yh(e.targetEl.value??e.contentEl.value,t)}function V_(e,t){var y;const n=(y=e.root.value)==null?void 0:y.offsetParent,f=[...new Set([...Tr(e.targetEl.value,t.contained?n:void 0),...Tr(e.contentEl.value,t.contained?n:void 0)])].filter(u=>!u.classList.contains("v-overlay-scroll-blocked")),g=window.innerWidth-document.documentElement.offsetWidth,m=(u=>Xa(u)&&u)(n||document.documentElement);m&&e.root.value.classList.add("v-overlay--scroll-blocked"),f.forEach((u,i)=>{u.style.setProperty("--v-body-scroll-x",de(-u.scrollLeft)),u.style.setProperty("--v-body-scroll-y",de(-u.scrollTop)),u!==document.documentElement&&u.style.setProperty("--v-scrollbar-offset",de(g)),u.classList.add("v-overlay-scroll-blocked")}),mt(()=>{f.forEach((u,i)=>{const h=parseFloat(u.style.getPropertyValue("--v-body-scroll-x")),c=parseFloat(u.style.getPropertyValue("--v-body-scroll-y")),r=u.style.scrollBehavior;u.style.scrollBehavior="auto",u.style.removeProperty("--v-body-scroll-x"),u.style.removeProperty("--v-body-scroll-y"),u.style.removeProperty("--v-scrollbar-offset"),u.classList.remove("v-overlay-scroll-blocked"),u.scrollLeft=-h,u.scrollTop=-c,u.style.scrollBehavior=r}),m&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function N_(e,t,n){let f=!1,g=-1,m=-1;function y(u){I_(()=>{var c,r;const i=performance.now();(r=(c=e.updateLocation).value)==null||r.call(c,u),f=(performance.now()-i)/(1e3/60)>2})}m=(typeof requestIdleCallback>"u"?u=>u():requestIdleCallback)(()=>{n.run(()=>{Yh(e.targetEl.value??e.contentEl.value,u=>{f?(cancelAnimationFrame(g),g=requestAnimationFrame(()=>{g=requestAnimationFrame(()=>{y(u)})})):y(u)})})}),mt(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(m),cancelAnimationFrame(g)})}function Yh(e,t){const n=[document,...Tr(e)];n.forEach(f=>{f.addEventListener("scroll",t,{passive:!0})}),mt(()=>{n.forEach(f=>{f.removeEventListener("scroll",t)})})}const H_=Symbol.for("vuetify:v-menu"),W_=ue({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...Bh()},"VOverlay-activator");function z_(e,t){let{isActive:n,isTop:f,contentEl:g}=t;const m=He("useActivator"),y=ge();let u=!1,i=!1,h=!0;const c=H(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),r=H(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!c.value),{runOpenDelay:a,runCloseDelay:s}=jh(e,x=>{x===(e.openOnHover&&u||c.value&&i)&&!(e.openOnHover&&n.value&&!f.value)&&(n.value!==x&&(h=!0),n.value=x)}),o=ge(),d={onClick:x=>{x.stopPropagation(),y.value=x.currentTarget||x.target,n.value||(o.value=[x.clientX,x.clientY]),n.value=!n.value},onMouseenter:x=>{var A;(A=x.sourceCapabilities)!=null&&A.firesTouchEvents||(u=!0,y.value=x.currentTarget||x.target,a())},onMouseleave:x=>{u=!1,s()},onFocus:x=>{Gm(x.target,":focus-visible")!==!1&&(i=!0,x.stopPropagation(),y.value=x.currentTarget||x.target,a())},onBlur:x=>{i=!1,x.stopPropagation(),s()}},l=H(()=>{const x={};return r.value&&(x.onClick=d.onClick),e.openOnHover&&(x.onMouseenter=d.onMouseenter,x.onMouseleave=d.onMouseleave),c.value&&(x.onFocus=d.onFocus,x.onBlur=d.onBlur),x}),v=H(()=>{const x={};if(e.openOnHover&&(x.onMouseenter=()=>{u=!0,a()},x.onMouseleave=()=>{u=!1,s()}),c.value&&(x.onFocusin=()=>{i=!0,a()},x.onFocusout=()=>{i=!1,s()}),e.closeOnContentClick){const A=Pe(H_,null);x.onClick=()=>{n.value=!1,A==null||A.closeParents()}}return x}),p=H(()=>{const x={};return e.openOnHover&&(x.onMouseenter=()=>{h&&(u=!0,h=!1,a())},x.onMouseleave=()=>{u=!1,s()}),x});me(f,x=>{var A;x&&(e.openOnHover&&!u&&(!c.value||!i)||c.value&&!i&&(!e.openOnHover||!u))&&!((A=g.value)!=null&&A.contains(document.activeElement))&&(n.value=!1)}),me(n,x=>{x||setTimeout(()=>{o.value=void 0})},{flush:"post"});const b=qs();Ht(()=>{b.value&&ct(()=>{y.value=b.el})});const _=qs(),C=H(()=>e.target==="cursor"&&o.value?o.value:_.value?_.el:Xh(e.target,m)||y.value),S=H(()=>Array.isArray(C.value)?void 0:C.value);let w;return me(()=>!!e.activator,x=>{x&&Be?(w=Hi(),w.run(()=>{Y_(e,m,{activatorEl:y,activatorEvents:l})})):w&&w.stop()},{flush:"post",immediate:!0}),mt(()=>{w==null||w.stop()}),{activatorEl:y,activatorRef:b,target:C,targetEl:S,targetRef:_,activatorEvents:l,contentEvents:v,scrimEvents:p}}function Y_(e,t,n){let{activatorEl:f,activatorEvents:g}=n;me(()=>e.activator,(i,h)=>{if(h&&i!==h){const c=u(h);c&&y(c)}i&&ct(()=>m())},{immediate:!0}),me(()=>e.activatorProps,()=>{m()}),mt(()=>{y()});function m(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:u(),h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;i&&Jm(i,Me(g.value,h))}function y(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:u(),h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;i&&Zm(i,Me(g.value,h))}function u(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator;const h=Xh(i,t);return f.value=(h==null?void 0:h.nodeType)===Node.ELEMENT_NODE?h:void 0,f.value}}function Xh(e,t){var f,g;if(!e)return;let n;if(e==="parent"){let m=(g=(f=t==null?void 0:t.proxy)==null?void 0:f.$el)==null?void 0:g.parentNode;for(;m!=null&&m.hasAttribute("data-no-activator");)m=m.parentNode;n=m}else typeof e=="string"?n=document.querySelector(e):"$el"in e?n=e.$el:n=e;return n}function X_(){if(!Be)return ye(!1);const{ssr:e}=uh();if(e){const t=ye(!1);return Tt(()=>{t.value=!0}),t}else return ye(!0)}const U_=ue({eager:Boolean},"lazy");function G_(e,t){const n=ye(!1),f=H(()=>n.value||e.eager||t.value);me(t,()=>n.value=!0);function g(){e.eager||(n.value=!1)}return{isBooted:n,hasContent:f,onAfterLeave:g}}const hc=Symbol.for("vuetify:stack"),pi=We([]);function $_(e,t,n){const f=He("useStack"),g=!n,m=Pe(hc,void 0),y=We({activeChildren:new Set});Ge(hc,y);const u=ye(+t.value);Mt(e,()=>{var r;const c=(r=pi.at(-1))==null?void 0:r[1];u.value=c?c+10:+t.value,g&&pi.push([f.uid,u.value]),m==null||m.activeChildren.add(f.uid),mt(()=>{if(g){const a=ve(pi).findIndex(s=>s[0]===f.uid);pi.splice(a,1)}m==null||m.activeChildren.delete(f.uid)})});const i=ye(!0);g&&Ht(()=>{var r;const c=((r=pi.at(-1))==null?void 0:r[0])===f.uid;setTimeout(()=>i.value=c)});const h=H(()=>!y.activeChildren.size);return{globalTop:Wi(i),localTop:h,stackStyles:H(()=>({zIndex:u.value}))}}function K_(e){return{teleportTarget:H(()=>{const n=e();if(n===!0||!Be)return;const f=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(f==null)return;let g=[...f.children].find(m=>m.matches(".v-overlay-container"));return g||(g=document.createElement("div"),g.className="v-overlay-container",f.appendChild(g)),g})}}function q_(){return!0}function Uh(e,t,n){if(!e||Gh(e,n)===!1)return!1;const f=kf(t);if(typeof ShadowRoot<"u"&&f instanceof ShadowRoot&&f.host===e.target)return!1;const g=(typeof n.value=="object"&&n.value.include||(()=>[]))();return g.push(t),!g.some(m=>m==null?void 0:m.contains(e.target))}function Gh(e,t){return(typeof t.value=="object"&&t.value.closeConditional||q_)(e)}function J_(e,t,n){const f=typeof n.value=="function"?n.value:n.value.handler;e.shadowTarget=e.target,t._clickOutside.lastMousedownWasOutside&&Uh(e,t,n)&&setTimeout(()=>{Gh(e,n)&&f&&f(e)},0)}function dc(e,t){const n=kf(e);t(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&t(n)}const Z_={mounted(e,t){const n=g=>J_(g,e,t),f=g=>{e._clickOutside.lastMousedownWasOutside=Uh(g,e,t)};dc(e,g=>{g.addEventListener("click",n,!0),g.addEventListener("mousedown",f,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[t.instance.$.uid]={onClick:n,onMousedown:f}},beforeUnmount(e,t){e._clickOutside&&(dc(e,n=>{var m;if(!n||!((m=e._clickOutside)!=null&&m[t.instance.$.uid]))return;const{onClick:f,onMousedown:g}=e._clickOutside[t.instance.$.uid];n.removeEventListener("click",f,!0),n.removeEventListener("mousedown",g,!0)}),delete e._clickOutside[t.instance.$.uid])}};function Q_(e){const{modelValue:t,color:n,...f}=e;return F(ai,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&F("div",Me({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},f),null)]})}const $h=ue({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...W_(),...xe(),...pn(),...U_(),...A_(),...R_(),...$e(),...ts()},"VOverlay"),gc=Se()({name:"VOverlay",directives:{ClickOutside:Z_},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...$h()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{slots:n,attrs:f,emit:g}=t;const m=He("VOverlay"),y=ge(),u=ge(),i=ge(),h=Ze(e,"modelValue"),c=H({get:()=>h.value,set:I=>{I&&e.disabled||(h.value=I)}}),{themeClasses:r}=Qe(e),{rtlClasses:a,isRtl:s}=Ot(),{hasContent:o,onAfterLeave:d}=G_(e,c),l=gt(H(()=>typeof e.scrim=="string"?e.scrim:null)),{globalTop:v,localTop:p,stackStyles:b}=$_(c,pe(e,"zIndex"),e._disableGlobalStack),{activatorEl:_,activatorRef:C,target:S,targetEl:w,targetRef:x,activatorEvents:A,contentEvents:V,scrimEvents:z}=z_(e,{isActive:c,isTop:p,contentEl:i}),{teleportTarget:R}=K_(()=>{var U,Y,q;const I=e.attach||e.contained;if(I)return I;const M=((U=_==null?void 0:_.value)==null?void 0:U.getRootNode())||((q=(Y=m.proxy)==null?void 0:Y.$el)==null?void 0:q.getRootNode());return M instanceof ShadowRoot?M:!1}),{dimensionStyles:G}=yn(e),$=X_(),{scopeId:ee}=co();me(()=>e.disabled,I=>{I&&(c.value=!1)});const{contentStyles:ne,updateLocation:re}=M_(e,{isRtl:s,contentEl:i,target:S,isActive:c});B_(e,{root:y,contentEl:i,targetEl:w,isActive:c,updateLocation:re});function ie(I){g("click:outside",I),e.persistent?J():c.value=!1}function O(I){return c.value&&v.value&&(!e.scrim||I.target===u.value||I instanceof MouseEvent&&I.shadowTarget===u.value)}Be&&me(c,I=>{I?window.addEventListener("keydown",B):window.removeEventListener("keydown",B)},{immediate:!0}),at(()=>{Be&&window.removeEventListener("keydown",B)});function B(I){var M,U;I.key==="Escape"&&v.value&&(e.persistent?J():(c.value=!1,(M=i.value)!=null&&M.contains(document.activeElement)&&((U=_.value)==null||U.focus())))}const L=Xf();Mt(()=>e.closeOnBack,()=>{wy(L,I=>{v.value&&c.value?(I(!1),e.persistent?J():c.value=!1):I()})});const j=ge();me(()=>c.value&&(e.absolute||e.contained)&&R.value==null,I=>{if(I){const M=xp(y.value);M&&M!==document.scrollingElement&&(j.value=M.scrollTop)}});function J(){e.noClickAnimation||i.value&&gf(i.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:Pf})}function D(){g("afterEnter")}function E(){d(),g("afterLeave")}return we(()=>{var I;return F(Re,null,[(I=n.activator)==null?void 0:I.call(n,{isActive:c.value,targetRef:x,props:Me({ref:C},A.value,e.activatorProps)}),$.value&&o.value&&F(Wd,{disabled:!R.value,to:R.value},{default:()=>[F("div",Me({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":c.value,"v-overlay--contained":e.contained},r.value,a.value,e.class],style:[b.value,{"--v-overlay-opacity":e.opacity,top:de(j.value)},e.style],ref:y},ee,f),[F(Q_,Me({color:l,modelValue:c.value&&!!e.scrim,ref:u},z.value),null),F(fn,{appear:!0,persisted:!0,transition:e.transition,target:S.value,onAfterEnter:D,onAfterLeave:E},{default:()=>{var M;return[Ft(F("div",Me({ref:i,class:["v-overlay__content",e.contentClass],style:[G.value,ne.value]},V.value,e.contentProps),[(M=n.default)==null?void 0:M.call(n,{isActive:c})]),[[oi,c.value],[Yi("click-outside"),{handler:ie,closeConditional:O,include:()=>[_.value]}]])]}})])]})])}),{activatorEl:_,scrimEl:u,target:S,animateClick:J,contentEl:i,globalTop:v,localTop:p,updateLocation:re}}}),eC=ue({id:String,text:String,...Gr($h({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),tC=Se()({name:"VTooltip",props:eC(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const f=Ze(e,"modelValue"),{scopeId:g}=co(),m=tn(),y=H(()=>e.id||`v-tooltip-${m}`),u=ge(),i=H(()=>e.location.split(" ").length>1?e.location:e.location+" center"),h=H(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),c=H(()=>e.transition?e.transition:f.value?"scale-transition":"fade-transition"),r=H(()=>Me({"aria-describedby":y.value},e.activatorProps));return we(()=>{const a=gc.filterProps(e);return F(gc,Me({ref:u,class:["v-tooltip",e.class],style:e.style,id:y.value},a,{modelValue:f.value,"onUpdate:modelValue":s=>f.value=s,transition:c.value,absolute:!0,location:i.value,origin:h.value,persistent:!0,role:"tooltip",activatorProps:r.value,_disableGlobalStack:!0},g),{activator:n.activator,default:function(){var l;for(var s=arguments.length,o=new Array(s),d=0;d<s;d++)o[d]=arguments[d];return((l=n.default)==null?void 0:l.call(n,...o))??e.text}})}),Wh({},u)}}),nC=["onClick"],iC=["onClick"],rC={__name:"ToolOptionsBar",setup(e){const t=qr();function n(u){t.canvas.freeDrawingBrush.color=u}function f(u){t.canvas.freeDrawingBrush.width=u}const g=ge(!1);function m(u){g.value=u,u&&y(u)}function y(u){t.currentLayer=u}return(u,i)=>(ut(),Kt(Vh,{location:"right",permanent:""},{default:De(()=>[F(Sb,null,{default:De(()=>[F(Ei,null,{default:De(()=>[F(L0,{"hide-inputs":"",width:"220","onUpdate:modelValue":n})]),_:1}),F(Ei,{title:"Width"},{default:De(()=>[F(aa,{"onUpdate:modelValue":f,min:"1",max:"20"})]),_:1}),F(io),F(Mh,null,{default:De(()=>[i[3]||(i[3]=Et(" Layers ")),F(Nn,{size:"small",icon:"",variant:"text",class:"position-absolute right-0 mr-3 mt-n2",onClick:Ie(t).addLayer},{default:De(()=>[F(vt,null,{default:De(()=>i[1]||(i[1]=[Et("mdi-plus")])),_:1}),F(tC,{activator:"parent"},{default:De(()=>i[2]||(i[2]=[Et("Add new Layer")])),_:1})]),_:1},8,["onClick"])]),_:1}),(ut(!0),yr(Re,null,eg(Ie(t).layers,(h,c)=>(ut(),Kt(Ei,null,{append:De(()=>[c>0?(ut(),Kt(Nn,{key:0,onClick:r=>Ie(t).removeLayer(c),class:"flex-",size:"small",icon:"",variant:"plain"},{default:De(()=>[F(vt,{color:"error"},{default:De(()=>i[5]||(i[5]=[Et("mdi-trash-can-outline")])),_:1})]),_:2},1032,["onClick"])):Fg("",!0)]),default:De(()=>[F($0,{"no-gutters":""},{default:De(()=>[F(Ql,null,{default:De(()=>[Ui("div",{class:Br(["canvas-preview",{"active-layer":Ie(t).currentLayer==c}]),onClick:r=>y(c)},[F(vt,null,{default:De(()=>i[4]||(i[4]=[Et("mdi-eye")])),_:1})],10,nC)]),_:2},1024),F(Ql,null,{default:De(()=>[Ie(g)===c?(ut(),Kt(P_,{key:0,autofocus:"",density:"compact",modelValue:Ie(t).layers[c],"onUpdate:modelValue":r=>Ie(t).layers[c]=r,onBlur:i[0]||(i[0]=r=>m(!1)),variant:"underlined"},null,8,["modelValue","onUpdate:modelValue"])):(ut(),yr("span",{key:1,onClick:r=>m(c)},xc(h),9,iC))]),_:2},1024)]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1}))}},sC=Jr(rC,[["__scopeId","data-v-64d8a3d6"]]),aC={__name:"Tool",props:["value"],setup(e){const t=qr(),n=e,f=H(()=>n.value==t.tool);return(g,m)=>(ut(),Kt(Nn,{variant:"flat",class:"my-2",size:"small",color:Ie(f)?"primary":"default",onClick:m[0]||(m[0]=y=>Ie(t).setTool(e.value))},null,8,["color"]))}},oC={};function lC(e,t){const n=aC;return ut(),Kt(Vh,{rail:"",permanent:"",class:"text-center"},{default:De(()=>[F(n,{icon:"mdi-brush",value:"pencil"}),F(n,{icon:"mdi-format-color-fill",value:"bucket",disabled:""}),F(n,{icon:"mdi-eraser",value:"eraser",disabled:""}),F(n,{icon:"mdi-shape",value:"shape",disabled:""}),F(n,{icon:"mdi-format-text",value:"text"}),F(io),F(n,{icon:"mdi-cursor-default-outline",value:"cursor"})]),_:1})}const cC=Jr(oC,[["render",lC]]),uC=ue({text:String,...xe(),...Ue()},"VToolbarTitle"),Kh=Se()({name:"VToolbarTitle",props:uC(),setup(e,t){let{slots:n}=t;return we(()=>{const f=!!(n.default||n.text||e.text);return F(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var g;return[f&&F("div",{class:"v-toolbar-title__placeholder"},[n.text?n.text():e.text,(g=n.default)==null?void 0:g.call(n)])]}})}),{}}}),fC=[null,"prominent","default","comfortable","compact"],qh=ue({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>fC.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...bn(),...xe(),...Cn(),...kt(),...Ue({tag:"header"}),...$e()},"VToolbar"),vc=Se()({name:"VToolbar",props:qh(),setup(e,t){var s;let{slots:n}=t;const{backgroundColorClasses:f,backgroundColorStyles:g}=gt(pe(e,"color")),{borderClasses:m}=_n(e),{elevationClasses:y}=Sn(e),{roundedClasses:u}=Pt(e),{themeClasses:i}=Qe(e),{rtlClasses:h}=Ot(),c=ye(!!(e.extended||(s=n.extension)!=null&&s.call(n))),r=H(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),a=H(()=>c.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return li({VBtn:{variant:"text"}}),we(()=>{var v;const o=!!(e.title||n.title),d=!!(n.image||e.image),l=(v=n.extension)==null?void 0:v.call(n);return c.value=!!(e.extended||l),F(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},f.value,m.value,y.value,u.value,i.value,h.value,e.class],style:[g.value,e.style]},{default:()=>[d&&F("div",{key:"image",class:"v-toolbar__image"},[n.image?F(xt,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},n.image):F(lo,{key:"image-img",cover:!0,src:e.image},null)]),F(xt,{defaults:{VTabs:{height:de(r.value)}}},{default:()=>{var p,b,_;return[F("div",{class:"v-toolbar__content",style:{height:de(r.value)}},[n.prepend&&F("div",{class:"v-toolbar__prepend"},[(p=n.prepend)==null?void 0:p.call(n)]),o&&F(Kh,{key:"title",text:e.title},{text:n.title}),(b=n.default)==null?void 0:b.call(n),n.append&&F("div",{class:"v-toolbar__append"},[(_=n.append)==null?void 0:_.call(n)])])]}}),F(xt,{defaults:{VTabs:{height:de(a.value)}}},{default:()=>[F(ah,null,{default:()=>[c.value&&F("div",{class:"v-toolbar__extension",style:{height:de(a.value)}},[l])]})]})]})}),{contentHeight:r,extensionHeight:a}}}),hC=ue({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function dC(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:n}=t;let f=0,g=0;const m=ge(null),y=ye(0),u=ye(0),i=ye(0),h=ye(!1),c=ye(!1),r=H(()=>Number(e.scrollThreshold)),a=H(()=>_t((r.value-y.value)/r.value||0)),s=()=>{const o=m.value;if(!o||n&&!n.value)return;f=y.value,y.value="window"in o?o.pageYOffset:o.scrollTop;const d=o instanceof Window?document.documentElement.scrollHeight:o.scrollHeight;if(g!==d){g=d;return}c.value=y.value<f,i.value=Math.abs(y.value-r.value)};return me(c,()=>{u.value=u.value||y.value}),me(h,()=>{u.value=0}),Tt(()=>{me(()=>e.scrollTarget,o=>{var l;const d=o?document.querySelector(o):window;d&&d!==m.value&&((l=m.value)==null||l.removeEventListener("scroll",s),m.value=d,m.value.addEventListener("scroll",s,{passive:!0}))},{immediate:!0})}),at(()=>{var o;(o=m.value)==null||o.removeEventListener("scroll",s)}),n&&me(n,s,{immediate:!0}),{scrollThreshold:r,currentScroll:y,currentThreshold:i,isScrollActive:h,scrollRatio:a,isScrollingUp:c,savedScroll:u}}const gC=ue({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...qh(),...Af(),...hC(),height:{type:[Number,String],default:64}},"VAppBar"),vC=Se()({name:"VAppBar",props:gC(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const f=ge(),g=Ze(e,"modelValue"),m=H(()=>{var b;const p=new Set(((b=e.scrollBehavior)==null?void 0:b.split(" "))??[]);return{hide:p.has("hide"),fullyHide:p.has("fully-hide"),inverted:p.has("inverted"),collapse:p.has("collapse"),elevate:p.has("elevate"),fadeImage:p.has("fade-image")}}),y=H(()=>{const p=m.value;return p.hide||p.fullyHide||p.inverted||p.collapse||p.elevate||p.fadeImage||!g.value}),{currentScroll:u,scrollThreshold:i,isScrollingUp:h,scrollRatio:c}=dC(e,{canScroll:y}),r=H(()=>m.value.hide||m.value.fullyHide),a=H(()=>e.collapse||m.value.collapse&&(m.value.inverted?c.value>0:c.value===0)),s=H(()=>e.flat||m.value.fullyHide&&!g.value||m.value.elevate&&(m.value.inverted?u.value>0:u.value===0)),o=H(()=>m.value.fadeImage?m.value.inverted?1-c.value:c.value:void 0),d=H(()=>{var _,C;if(m.value.hide&&m.value.inverted)return 0;const p=((_=f.value)==null?void 0:_.contentHeight)??0,b=((C=f.value)==null?void 0:C.extensionHeight)??0;return r.value?u.value<i.value||m.value.fullyHide?p+b:p:p+b});Mt(H(()=>!!e.scrollBehavior),()=>{Ht(()=>{r.value?m.value.inverted?g.value=u.value>i.value:g.value=h.value||u.value<i.value:g.value=!0})});const{ssrBootStyles:l}=Kr(),{layoutItemStyles:v}=Mf({id:e.name,order:H(()=>parseInt(e.order,10)),position:pe(e,"location"),layoutSize:d,elementSize:ye(void 0),active:g,absolute:pe(e,"absolute")});return we(()=>{const p=vc.filterProps(e);return F(vc,Me({ref:f,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...v.value,"--v-toolbar-image-opacity":o.value,height:void 0,...l.value},e.style]},p,{collapse:a.value,flat:s.value}),n)}),{}}}),mC={__name:"Menu",setup(e){const t=qr();function n(){console.log("saving?");var f=document.createElement("a");f.download="MyDrawing.png",f.href=t.canvas.toDataURL(),document.body.appendChild(f),f.click(),document.body.removeChild(f)}return(f,g)=>(ut(),Kt(vC,{density:"compact"},{default:De(()=>[F(Kh,null,{default:De(()=>g[0]||(g[0]=[Et("Live Draw")])),_:1}),g[5]||(g[5]=Ui("div",{class:"pr-12"},null,-1)),F(Nn,{disabled:""},{default:De(()=>[F(vt,{class:"mr-2"},{default:De(()=>g[1]||(g[1]=[Et("mdi-floppy")])),_:1}),g[2]||(g[2]=Et(" Save"))]),_:1}),F(Nn,{onClick:n},{default:De(()=>[F(vt,{class:"mr-2"},{default:De(()=>g[3]||(g[3]=[Et("mdi-export")])),_:1}),g[4]||(g[4]=Et(" Export"))]),_:1})]),_:1}))}},pC={};function yC(e,t){const n=mC,f=cC,g=sC,m=Zp;return ut(),yr(Re,null,[F(n),F(f),F(g),F(m)],64)}const bC=Jr(pC,[["render",yC]]),_C=Am({history:am("/dist/"),routes:[{path:"/",name:"attic",component:bC}]});function Jh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:t,...n}=e,f=dt(t,n),{aliases:g={},components:m={},directives:y={}}=f,u=_p(f.defaults),i=B0(f.display,f.ssr),h=Vp(f.theme),c=hy(f.icons),r=Lp(f.locale),a=g_(f.date,r),s=y_(f.goTo,r);return{install:d=>{for(const l in y)d.directive(l,y[l]);for(const l in m)d.component(l,m[l]);for(const l in g)d.component(l,It({...g[l],name:l,aliasName:g[l].name}));if(h.install(d),d.provide(ri,u),d.provide(oa,i),d.provide(Pr,h),d.provide(ta,c),d.provide(kr,r),d.provide(d_,a.options),d.provide(lc,a.instance),d.provide(m_,s),Be&&f.ssr)if(d.$nuxt)d.$nuxt.hook("app:suspense:resolve",()=>{i.update()});else{const{mount:l}=d;d.mount=function(){const v=l(...arguments);return ct(()=>i.update()),d.mount=l,v}}tn.reset(),d.mixin({computed:{$vuetify(){return We({defaults:Gn.call(this,ri),display:Gn.call(this,oa),theme:Gn.call(this,Pr),icons:Gn.call(this,ta),locale:Gn.call(this,kr),date:Gn.call(this,lc)})}}})},defaults:u,display:i,theme:h,icons:c,locale:r,date:a,goTo:s}}const CC="3.7.6";Jh.version=CC;function Gn(e){var f,g;const t=this.$,n=((f=t.parent)==null?void 0:f.provides)??((g=t.vnode.appContext)==null?void 0:g.provides);if(n&&e in n)return n[e]}const SC=Jh({theme:{defaultTheme:"dark"}}),rs=bv(Yp);rs.use(wv());rs.use(_C);rs.use(SC);rs.mount("#app");
