(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const v of document.querySelectorAll('link[rel="modulepreload"]'))h(v);new MutationObserver(v=>{for(const p of v)if(p.type==="childList")for(const y of p.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&h(y)}).observe(document,{childList:!0,subtree:!0});function a(v){const p={};return v.integrity&&(p.integrity=v.integrity),v.referrerPolicy&&(p.referrerPolicy=v.referrerPolicy),v.crossOrigin==="use-credentials"?p.credentials="include":v.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function h(v){if(v.ep)return;v.ep=!0;const p=a(v);fetch(v.href,p)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function As(e){const t=Object.create(null);for(const a of e.split(","))t[a]=1;return a=>a in t}const Ee={},Un=[],kt=()=>{},df=()=>!1,dr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Ds=e=>e.startsWith("onUpdate:"),Be=Object.assign,Ms=(e,t)=>{const a=e.indexOf(t);a>-1&&e.splice(a,1)},gf=Object.prototype.hasOwnProperty,Oe=(e,t)=>gf.call(e,t),me=Array.isArray,fi=e=>gr(e)==="[object Map]",vf=e=>gr(e)==="[object Set]",pe=e=>typeof e=="function",Le=e=>typeof e=="string",Zn=e=>typeof e=="symbol",Me=e=>e!==null&&typeof e=="object",vl=e=>(Me(e)||pe(e))&&pe(e.then)&&pe(e.catch),mf=Object.prototype.toString,gr=e=>mf.call(e),pf=e=>gr(e).slice(8,-1),yf=e=>gr(e)==="[object Object]",Fs=e=>Le(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,hi=As(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),vr=e=>{const t=Object.create(null);return a=>t[a]||(t[a]=e(a))},bf=/-(\w)/g,tt=vr(e=>e.replace(bf,(t,a)=>a?a.toUpperCase():"")),_f=/\B([A-Z])/g,Pn=vr(e=>e.replace(_f,"-$1").toLowerCase()),Qn=vr(e=>e.charAt(0).toUpperCase()+e.slice(1)),Lr=vr(e=>e?`on${Qn(e)}`:""),qt=(e,t)=>!Object.is(e,t),Rr=(e,...t)=>{for(let a=0;a<e.length;a++)e[a](...t)},ml=(e,t,a,h=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:h,value:a})},Cf=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Sf=e=>{const t=Le(e)?Number(e):NaN;return isNaN(t)?e:t};let xa;const mr=()=>xa||(xa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Is(e){if(me(e)){const t={};for(let a=0;a<e.length;a++){const h=e[a],v=Le(h)?Of(h):Is(h);if(v)for(const p in v)t[p]=v[p]}return t}else if(Le(e)||Me(e))return e}const wf=/;(?![^(]*\))/g,xf=/:([^]+)/,Tf=/\/\*[^]*?\*\//g;function Of(e){const t={};return e.replace(Tf,"").split(wf).forEach(a=>{if(a){const h=a.split(xf);h.length>1&&(t[h[0].trim()]=h[1].trim())}}),t}function Ls(e){let t="";if(Le(e))t=e;else if(me(e))for(let a=0;a<e.length;a++){const h=Ls(e[a]);h&&(t+=h+" ")}else if(Me(e))for(const a in e)e[a]&&(t+=a+" ");return t.trim()}const kf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Pf=As(kf);function pl(e){return!!e||e===""}/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ge;class yl{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ge,!t&&Ge&&(this.index=(Ge.scopes||(Ge.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,a;if(this.scopes)for(t=0,a=this.scopes.length;t<a;t++)this.scopes[t].pause();for(t=0,a=this.effects.length;t<a;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,a;if(this.scopes)for(t=0,a=this.scopes.length;t<a;t++)this.scopes[t].resume();for(t=0,a=this.effects.length;t<a;t++)this.effects[t].resume()}}run(t){if(this._active){const a=Ge;try{return Ge=this,t()}finally{Ge=a}}}on(){Ge=this}off(){Ge=this.parent}stop(t){if(this._active){this._active=!1;let a,h;for(a=0,h=this.effects.length;a<h;a++)this.effects[a].stop();for(this.effects.length=0,a=0,h=this.cleanups.length;a<h;a++)this.cleanups[a]();if(this.cleanups.length=0,this.scopes){for(a=0,h=this.scopes.length;a<h;a++)this.scopes[a].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const v=this.parent.scopes.pop();v&&v!==this&&(this.parent.scopes[this.index]=v,v.index=this.index)}this.parent=void 0}}}function Rs(e){return new yl(e)}function bl(){return Ge}function Bs(e,t=!1){Ge&&Ge.cleanups.push(e)}let De;const Br=new WeakSet;class _l{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ge&&Ge.active&&Ge.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Br.has(this)&&(Br.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Sl(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ta(this),wl(this);const t=De,a=mt;De=this,mt=!0;try{return this.fn()}finally{xl(this),De=t,mt=a,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Ns(t);this.deps=this.depsTail=void 0,Ta(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Br.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){es(this)&&this.run()}get dirty(){return es(this)}}let Cl=0,di,gi;function Sl(e,t=!1){if(e.flags|=8,t){e.next=gi,gi=e;return}e.next=di,di=e}function js(){Cl++}function Vs(){if(--Cl>0)return;if(gi){let t=gi;for(gi=void 0;t;){const a=t.next;t.next=void 0,t.flags&=-9,t=a}}let e;for(;di;){let t=di;for(di=void 0;t;){const a=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(h){e||(e=h)}t=a}}if(e)throw e}function wl(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function xl(e){let t,a=e.depsTail,h=a;for(;h;){const v=h.prevDep;h.version===-1?(h===a&&(a=v),Ns(h),Ef(h)):t=h,h.dep.activeLink=h.prevActiveLink,h.prevActiveLink=void 0,h=v}e.deps=t,e.depsTail=a}function es(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Tl(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Tl(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Ci))return;e.globalVersion=Ci;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!es(e)){e.flags&=-3;return}const a=De,h=mt;De=e,mt=!0;try{wl(e);const v=e.fn(e._value);(t.version===0||qt(v,e._value))&&(e._value=v,t.version++)}catch(v){throw t.version++,v}finally{De=a,mt=h,xl(e),e.flags&=-3}}function Ns(e,t=!1){const{dep:a,prevSub:h,nextSub:v}=e;if(h&&(h.nextSub=v,e.prevSub=void 0),v&&(v.prevSub=h,e.nextSub=void 0),a.subs===e&&(a.subs=h,!h&&a.computed)){a.computed.flags&=-5;for(let p=a.computed.deps;p;p=p.nextDep)Ns(p,!0)}!t&&!--a.sc&&a.map&&a.map.delete(a.key)}function Ef(e){const{prevDep:t,nextDep:a}=e;t&&(t.nextDep=a,e.prevDep=void 0),a&&(a.prevDep=t,e.nextDep=void 0)}let mt=!0;const Ol=[];function en(){Ol.push(mt),mt=!1}function tn(){const e=Ol.pop();mt=e===void 0?!0:e}function Ta(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const a=De;De=void 0;try{t()}finally{De=a}}}let Ci=0;class Af{constructor(t,a){this.sub=t,this.dep=a,this.version=a.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Hs{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!De||!mt||De===this.computed)return;let a=this.activeLink;if(a===void 0||a.sub!==De)a=this.activeLink=new Af(De,this),De.deps?(a.prevDep=De.depsTail,De.depsTail.nextDep=a,De.depsTail=a):De.deps=De.depsTail=a,kl(a);else if(a.version===-1&&(a.version=this.version,a.nextDep)){const h=a.nextDep;h.prevDep=a.prevDep,a.prevDep&&(a.prevDep.nextDep=h),a.prevDep=De.depsTail,a.nextDep=void 0,De.depsTail.nextDep=a,De.depsTail=a,De.deps===a&&(De.deps=h)}return a}trigger(t){this.version++,Ci++,this.notify(t)}notify(t){js();try{for(let a=this.subs;a;a=a.prevSub)a.sub.notify()&&a.sub.dep.notify()}finally{Vs()}}}function kl(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let h=t.deps;h;h=h.nextDep)kl(h)}const a=e.dep.subs;a!==e&&(e.prevSub=a,a&&(a.nextSub=e)),e.dep.subs=e}}const qi=new WeakMap,yn=Symbol(""),ts=Symbol(""),Si=Symbol("");function Ye(e,t,a){if(mt&&De){let h=qi.get(e);h||qi.set(e,h=new Map);let v=h.get(a);v||(h.set(a,v=new Hs),v.map=h,v.key=a),v.track()}}function Lt(e,t,a,h,v,p){const y=qi.get(e);if(!y){Ci++;return}const f=r=>{r&&r.trigger()};if(js(),t==="clear")y.forEach(f);else{const r=me(e),u=r&&Fs(a);if(r&&a==="length"){const c=Number(h);y.forEach((n,s)=>{(s==="length"||s===Si||!Zn(s)&&s>=c)&&f(n)})}else switch((a!==void 0||y.has(void 0))&&f(y.get(a)),u&&f(y.get(Si)),t){case"add":r?u&&f(y.get("length")):(f(y.get(yn)),fi(e)&&f(y.get(ts)));break;case"delete":r||(f(y.get(yn)),fi(e)&&f(y.get(ts)));break;case"set":fi(e)&&f(y.get(yn));break}}Vs()}function Df(e,t){const a=qi.get(e);return a&&a.get(t)}function In(e){const t=de(e);return t===e?t:(Ye(t,"iterate",Si),pt(e)?t:t.map($e))}function Ws(e){return Ye(e=de(e),"iterate",Si),e}const Mf={__proto__:null,[Symbol.iterator](){return jr(this,Symbol.iterator,$e)},concat(...e){return In(this).concat(...e.map(t=>me(t)?In(t):t))},entries(){return jr(this,"entries",e=>(e[1]=$e(e[1]),e))},every(e,t){return Mt(this,"every",e,t,void 0,arguments)},filter(e,t){return Mt(this,"filter",e,t,a=>a.map($e),arguments)},find(e,t){return Mt(this,"find",e,t,$e,arguments)},findIndex(e,t){return Mt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Mt(this,"findLast",e,t,$e,arguments)},findLastIndex(e,t){return Mt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Mt(this,"forEach",e,t,void 0,arguments)},includes(...e){return Vr(this,"includes",e)},indexOf(...e){return Vr(this,"indexOf",e)},join(e){return In(this).join(e)},lastIndexOf(...e){return Vr(this,"lastIndexOf",e)},map(e,t){return Mt(this,"map",e,t,void 0,arguments)},pop(){return si(this,"pop")},push(...e){return si(this,"push",e)},reduce(e,...t){return Oa(this,"reduce",e,t)},reduceRight(e,...t){return Oa(this,"reduceRight",e,t)},shift(){return si(this,"shift")},some(e,t){return Mt(this,"some",e,t,void 0,arguments)},splice(...e){return si(this,"splice",e)},toReversed(){return In(this).toReversed()},toSorted(e){return In(this).toSorted(e)},toSpliced(...e){return In(this).toSpliced(...e)},unshift(...e){return si(this,"unshift",e)},values(){return jr(this,"values",$e)}};function jr(e,t,a){const h=Ws(e),v=h[t]();return h!==e&&!pt(e)&&(v._next=v.next,v.next=()=>{const p=v._next();return p.value&&(p.value=a(p.value)),p}),v}const Ff=Array.prototype;function Mt(e,t,a,h,v,p){const y=Ws(e),f=y!==e&&!pt(e),r=y[t];if(r!==Ff[t]){const n=r.apply(e,p);return f?$e(n):n}let u=a;y!==e&&(f?u=function(n,s){return a.call(this,$e(n),s,e)}:a.length>2&&(u=function(n,s){return a.call(this,n,s,e)}));const c=r.call(y,u,h);return f&&v?v(c):c}function Oa(e,t,a,h){const v=Ws(e);let p=a;return v!==e&&(pt(e)?a.length>3&&(p=function(y,f,r){return a.call(this,y,f,r,e)}):p=function(y,f,r){return a.call(this,y,$e(f),r,e)}),v[t](p,...h)}function Vr(e,t,a){const h=de(e);Ye(h,"iterate",Si);const v=h[t](...a);return(v===-1||v===!1)&&Xs(a[0])?(a[0]=de(a[0]),h[t](...a)):v}function si(e,t,a=[]){en(),js();const h=de(e)[t].apply(e,a);return Vs(),tn(),h}const If=As("__proto__,__v_isRef,__isVue"),Pl=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Zn));function Lf(e){Zn(e)||(e=String(e));const t=de(this);return Ye(t,"has",e),t.hasOwnProperty(e)}class El{constructor(t=!1,a=!1){this._isReadonly=t,this._isShallow=a}get(t,a,h){if(a==="__v_skip")return t.__v_skip;const v=this._isReadonly,p=this._isShallow;if(a==="__v_isReactive")return!v;if(a==="__v_isReadonly")return v;if(a==="__v_isShallow")return p;if(a==="__v_raw")return h===(v?p?Xf:Fl:p?Ml:Dl).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(h)?t:void 0;const y=me(t);if(!v){let r;if(y&&(r=Mf[a]))return r;if(a==="hasOwnProperty")return Lf}const f=Reflect.get(t,a,Pe(t)?t:h);return(Zn(a)?Pl.has(a):If(a))||(v||Ye(t,"get",a),p)?f:Pe(f)?y&&Fs(a)?f:f.value:Me(f)?v?pr(f):Ne(f):f}}class Al extends El{constructor(t=!1){super(!1,t)}set(t,a,h,v){let p=t[a];if(!this._isShallow){const r=xn(p);if(!pt(h)&&!xn(h)&&(p=de(p),h=de(h)),!me(t)&&Pe(p)&&!Pe(h))return r?!1:(p.value=h,!0)}const y=me(t)&&Fs(a)?Number(a)<t.length:Oe(t,a),f=Reflect.set(t,a,h,Pe(t)?t:v);return t===de(v)&&(y?qt(h,p)&&Lt(t,"set",a,h):Lt(t,"add",a,h)),f}deleteProperty(t,a){const h=Oe(t,a);t[a];const v=Reflect.deleteProperty(t,a);return v&&h&&Lt(t,"delete",a,void 0),v}has(t,a){const h=Reflect.has(t,a);return(!Zn(a)||!Pl.has(a))&&Ye(t,"has",a),h}ownKeys(t){return Ye(t,"iterate",me(t)?"length":yn),Reflect.ownKeys(t)}}class Rf extends El{constructor(t=!1){super(!0,t)}set(t,a){return!0}deleteProperty(t,a){return!0}}const Bf=new Al,jf=new Rf,Vf=new Al(!0);const ns=e=>e,Vi=e=>Reflect.getPrototypeOf(e);function Nf(e,t,a){return function(...h){const v=this.__v_raw,p=de(v),y=fi(p),f=e==="entries"||e===Symbol.iterator&&y,r=e==="keys"&&y,u=v[e](...h),c=a?ns:t?is:$e;return!t&&Ye(p,"iterate",r?ts:yn),{next(){const{value:n,done:s}=u.next();return s?{value:n,done:s}:{value:f?[c(n[0]),c(n[1])]:c(n),done:s}},[Symbol.iterator](){return this}}}}function Ni(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Hf(e,t){const a={get(v){const p=this.__v_raw,y=de(p),f=de(v);e||(qt(v,f)&&Ye(y,"get",v),Ye(y,"get",f));const{has:r}=Vi(y),u=t?ns:e?is:$e;if(r.call(y,v))return u(p.get(v));if(r.call(y,f))return u(p.get(f));p!==y&&p.get(v)},get size(){const v=this.__v_raw;return!e&&Ye(de(v),"iterate",yn),Reflect.get(v,"size",v)},has(v){const p=this.__v_raw,y=de(p),f=de(v);return e||(qt(v,f)&&Ye(y,"has",v),Ye(y,"has",f)),v===f?p.has(v):p.has(v)||p.has(f)},forEach(v,p){const y=this,f=y.__v_raw,r=de(f),u=t?ns:e?is:$e;return!e&&Ye(r,"iterate",yn),f.forEach((c,n)=>v.call(p,u(c),u(n),y))}};return Be(a,e?{add:Ni("add"),set:Ni("set"),delete:Ni("delete"),clear:Ni("clear")}:{add(v){!t&&!pt(v)&&!xn(v)&&(v=de(v));const p=de(this);return Vi(p).has.call(p,v)||(p.add(v),Lt(p,"add",v,v)),this},set(v,p){!t&&!pt(p)&&!xn(p)&&(p=de(p));const y=de(this),{has:f,get:r}=Vi(y);let u=f.call(y,v);u||(v=de(v),u=f.call(y,v));const c=r.call(y,v);return y.set(v,p),u?qt(p,c)&&Lt(y,"set",v,p):Lt(y,"add",v,p),this},delete(v){const p=de(this),{has:y,get:f}=Vi(p);let r=y.call(p,v);r||(v=de(v),r=y.call(p,v)),f&&f.call(p,v);const u=p.delete(v);return r&&Lt(p,"delete",v,void 0),u},clear(){const v=de(this),p=v.size!==0,y=v.clear();return p&&Lt(v,"clear",void 0,void 0),y}}),["keys","values","entries",Symbol.iterator].forEach(v=>{a[v]=Nf(v,e,t)}),a}function Ys(e,t){const a=Hf(e,t);return(h,v,p)=>v==="__v_isReactive"?!e:v==="__v_isReadonly"?e:v==="__v_raw"?h:Reflect.get(Oe(a,v)&&v in h?a:h,v,p)}const Wf={get:Ys(!1,!1)},Yf={get:Ys(!1,!0)},zf={get:Ys(!0,!1)};const Dl=new WeakMap,Ml=new WeakMap,Fl=new WeakMap,Xf=new WeakMap;function Uf(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Gf(e){return e.__v_skip||!Object.isExtensible(e)?0:Uf(pf(e))}function Ne(e){return xn(e)?e:zs(e,!1,Bf,Wf,Dl)}function Il(e){return zs(e,!1,Vf,Yf,Ml)}function pr(e){return zs(e,!0,jf,zf,Fl)}function zs(e,t,a,h,v){if(!Me(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const p=v.get(e);if(p)return p;const y=Gf(e);if(y===0)return e;const f=new Proxy(e,y===2?h:a);return v.set(e,f),f}function bn(e){return xn(e)?bn(e.__v_raw):!!(e&&e.__v_isReactive)}function xn(e){return!!(e&&e.__v_isReadonly)}function pt(e){return!!(e&&e.__v_isShallow)}function Xs(e){return e?!!e.__v_raw:!1}function de(e){const t=e&&e.__v_raw;return t?de(t):e}function Us(e){return!Oe(e,"__v_skip")&&Object.isExtensible(e)&&ml(e,"__v_skip",!0),e}const $e=e=>Me(e)?Ne(e):e,is=e=>Me(e)?pr(e):e;function Pe(e){return e?e.__v_isRef===!0:!1}function be(e){return Ll(e,!1)}function ye(e){return Ll(e,!0)}function Ll(e,t){return Pe(e)?e:new $f(e,t)}class $f{constructor(t,a){this.dep=new Hs,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=a?t:de(t),this._value=a?t:$e(t),this.__v_isShallow=a}get value(){return this.dep.track(),this._value}set value(t){const a=this._rawValue,h=this.__v_isShallow||pt(t)||xn(t);t=h?t:de(t),qt(t,a)&&(this._rawValue=t,this._value=h?t:$e(t),this.dep.trigger())}}function Ve(e){return Pe(e)?e.value:e}const Kf={get:(e,t,a)=>t==="__v_raw"?e:Ve(Reflect.get(e,t,a)),set:(e,t,a,h)=>{const v=e[t];return Pe(v)&&!Pe(a)?(v.value=a,!0):Reflect.set(e,t,a,h)}};function Rl(e){return bn(e)?e:new Proxy(e,Kf)}function yr(e){const t=me(e)?new Array(e.length):{};for(const a in e)t[a]=Bl(e,a);return t}class qf{constructor(t,a,h){this._object=t,this._key=a,this._defaultValue=h,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Df(de(this._object),this._key)}}class Jf{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function ge(e,t,a){return Pe(e)?e:pe(e)?new Jf(e):Me(e)&&arguments.length>1?Bl(e,t,a):be(e)}function Bl(e,t,a){const h=e[t];return Pe(h)?h:new qf(e,t,a)}class Zf{constructor(t,a,h){this.fn=t,this.setter=a,this._value=void 0,this.dep=new Hs(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ci-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!a,this.isSSR=h}notify(){if(this.flags|=16,!(this.flags&8)&&De!==this)return Sl(this,!0),!0}get value(){const t=this.dep.track();return Tl(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Qf(e,t,a=!1){let h,v;return pe(e)?h=e:(h=e.get,v=e.set),new Zf(h,v,a)}const Hi={},Ji=new WeakMap;let vn;function eh(e,t=!1,a=vn){if(a){let h=Ji.get(a);h||Ji.set(a,h=[]),h.push(e)}}function th(e,t,a=Ee){const{immediate:h,deep:v,once:p,scheduler:y,augmentJob:f,call:r}=a,u=_=>v?_:pt(_)||v===!1||v===0?Rt(_,1):Rt(_);let c,n,s,i,o=!1,d=!1;if(Pe(e)?(n=()=>e.value,o=pt(e)):bn(e)?(n=()=>u(e),o=!0):me(e)?(d=!0,o=e.some(_=>bn(_)||pt(_)),n=()=>e.map(_=>{if(Pe(_))return _.value;if(bn(_))return u(_);if(pe(_))return r?r(_,2):_()})):pe(e)?t?n=r?()=>r(e,2):e:n=()=>{if(s){en();try{s()}finally{tn()}}const _=vn;vn=c;try{return r?r(e,3,[i]):e(i)}finally{vn=_}}:n=kt,t&&v){const _=n,C=v===!0?1/0:v;n=()=>Rt(_(),C)}const l=bl(),g=()=>{c.stop(),l&&l.active&&Ms(l.effects,c)};if(p&&t){const _=t;t=(...C)=>{_(...C),g()}}let m=d?new Array(e.length).fill(Hi):Hi;const b=_=>{if(!(!(c.flags&1)||!c.dirty&&!_))if(t){const C=c.run();if(v||o||(d?C.some((S,w)=>qt(S,m[w])):qt(C,m))){s&&s();const S=vn;vn=c;try{const w=[C,m===Hi?void 0:d&&m[0]===Hi?[]:m,i];r?r(t,3,w):t(...w),m=C}finally{vn=S}}}else c.run()};return f&&f(b),c=new _l(n),c.scheduler=y?()=>y(b,!1):b,i=_=>eh(_,!1,c),s=c.onStop=()=>{const _=Ji.get(c);if(_){if(r)r(_,4);else for(const C of _)C();Ji.delete(c)}},t?h?b(!0):m=c.run():y?y(b.bind(null,!0),!0):c.run(),g.pause=c.pause.bind(c),g.resume=c.resume.bind(c),g.stop=g,g}function Rt(e,t=1/0,a){if(t<=0||!Me(e)||e.__v_skip||(a=a||new Set,a.has(e)))return e;if(a.add(e),t--,Pe(e))Rt(e.value,t,a);else if(me(e))for(let h=0;h<e.length;h++)Rt(e[h],t,a);else if(vf(e)||fi(e))e.forEach(h=>{Rt(h,t,a)});else if(yf(e)){for(const h in e)Rt(e[h],t,a);for(const h of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,h)&&Rt(e[h],t,a)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Fi(e,t,a,h){try{return h?e(...h):e()}catch(v){br(v,t,a)}}function bt(e,t,a,h){if(pe(e)){const v=Fi(e,t,a,h);return v&&vl(v)&&v.catch(p=>{br(p,t,a)}),v}if(me(e)){const v=[];for(let p=0;p<e.length;p++)v.push(bt(e[p],t,a,h));return v}}function br(e,t,a,h=!0){const v=t?t.vnode:null,{errorHandler:p,throwUnhandledErrorInProduction:y}=t&&t.appContext.config||Ee;if(t){let f=t.parent;const r=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${a}`;for(;f;){const c=f.ec;if(c){for(let n=0;n<c.length;n++)if(c[n](e,r,u)===!1)return}f=f.parent}if(p){en(),Fi(p,null,10,[e,r,u]),tn();return}}nh(e,a,v,h,y)}function nh(e,t,a,h=!0,v=!1){if(v)throw e;console.error(e)}const Ke=[];let Tt=-1;const Gn=[];let Xt=null,Nn=0;const jl=Promise.resolve();let Zi=null;function nn(e){const t=Zi||jl;return e?t.then(this?e.bind(this):e):t}function ih(e){let t=Tt+1,a=Ke.length;for(;t<a;){const h=t+a>>>1,v=Ke[h],p=wi(v);p<e||p===e&&v.flags&2?t=h+1:a=h}return t}function Gs(e){if(!(e.flags&1)){const t=wi(e),a=Ke[Ke.length-1];!a||!(e.flags&2)&&t>=wi(a)?Ke.push(e):Ke.splice(ih(t),0,e),e.flags|=1,Vl()}}function Vl(){Zi||(Zi=jl.then(Hl))}function rh(e){me(e)?Gn.push(...e):Xt&&e.id===-1?Xt.splice(Nn+1,0,e):e.flags&1||(Gn.push(e),e.flags|=1),Vl()}function ka(e,t,a=Tt+1){for(;a<Ke.length;a++){const h=Ke[a];if(h&&h.flags&2){if(e&&h.id!==e.uid)continue;Ke.splice(a,1),a--,h.flags&4&&(h.flags&=-2),h(),h.flags&4||(h.flags&=-2)}}}function Nl(e){if(Gn.length){const t=[...new Set(Gn)].sort((a,h)=>wi(a)-wi(h));if(Gn.length=0,Xt){Xt.push(...t);return}for(Xt=t,Nn=0;Nn<Xt.length;Nn++){const a=Xt[Nn];a.flags&4&&(a.flags&=-2),a.flags&8||a(),a.flags&=-2}Xt=null,Nn=0}}const wi=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Hl(e){try{for(Tt=0;Tt<Ke.length;Tt++){const t=Ke[Tt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Fi(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Tt<Ke.length;Tt++){const t=Ke[Tt];t&&(t.flags&=-2)}Tt=-1,Ke.length=0,Nl(),Zi=null,(Ke.length||Gn.length)&&Hl()}}let qe=null,Wl=null;function Qi(e){const t=qe;return qe=e,Wl=e&&e.type.__scopeId||null,t}function Qe(e,t=qe,a){if(!t||e._n)return e;const h=(...v)=>{h._d&&ja(-1);const p=Qi(t);let y;try{y=e(...v)}finally{Qi(p),h._d&&ja(1)}return y};return h._n=!0,h._c=!0,h._d=!0,h}function Tn(e,t){if(qe===null)return e;const a=wr(qe),h=e.dirs||(e.dirs=[]);for(let v=0;v<t.length;v++){let[p,y,f,r=Ee]=t[v];p&&(pe(p)&&(p={mounted:p,updated:p}),p.deep&&Rt(y),h.push({dir:p,instance:a,value:y,oldValue:void 0,arg:f,modifiers:r}))}return e}function un(e,t,a,h){const v=e.dirs,p=t&&t.dirs;for(let y=0;y<v.length;y++){const f=v[y];p&&(f.oldValue=p[y].value);let r=f.dir[h];r&&(en(),bt(r,a,8,[e.el,f,e,t]),tn())}}const sh=Symbol("_vte"),Yl=e=>e.__isTeleport,Ut=Symbol("_leaveCb"),Wi=Symbol("_enterCb");function zl(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ct(()=>{e.isMounted=!0}),it(()=>{e.isUnmounting=!0}),e}const ht=[Function,Array],Xl={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ht,onEnter:ht,onAfterEnter:ht,onEnterCancelled:ht,onBeforeLeave:ht,onLeave:ht,onAfterLeave:ht,onLeaveCancelled:ht,onBeforeAppear:ht,onAppear:ht,onAfterAppear:ht,onAppearCancelled:ht},Ul=e=>{const t=e.subTree;return t.component?Ul(t.component):t},ah={name:"BaseTransition",props:Xl,setup(e,{slots:t}){const a=ia(),h=zl();return()=>{const v=t.default&&$s(t.default(),!0);if(!v||!v.length)return;const p=Gl(v),y=de(e),{mode:f}=y;if(h.isLeaving)return Nr(p);const r=Pa(p);if(!r)return Nr(p);let u=xi(r,y,h,a,n=>u=n);r.type!==dt&&On(r,u);let c=a.subTree&&Pa(a.subTree);if(c&&c.type!==dt&&!mn(r,c)&&Ul(a).type!==dt){let n=xi(c,y,h,a);if(On(c,n),f==="out-in"&&r.type!==dt)return h.isLeaving=!0,n.afterLeave=()=>{h.isLeaving=!1,a.job.flags&8||a.update(),delete n.afterLeave,c=void 0},Nr(p);f==="in-out"&&r.type!==dt?n.delayLeave=(s,i,o)=>{const d=$l(h,c);d[String(c.key)]=c,s[Ut]=()=>{i(),s[Ut]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{o(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return p}}};function Gl(e){let t=e[0];if(e.length>1){for(const a of e)if(a.type!==dt){t=a;break}}return t}const oh=ah;function $l(e,t){const{leavingVNodes:a}=e;let h=a.get(t.type);return h||(h=Object.create(null),a.set(t.type,h)),h}function xi(e,t,a,h,v){const{appear:p,mode:y,persisted:f=!1,onBeforeEnter:r,onEnter:u,onAfterEnter:c,onEnterCancelled:n,onBeforeLeave:s,onLeave:i,onAfterLeave:o,onLeaveCancelled:d,onBeforeAppear:l,onAppear:g,onAfterAppear:m,onAppearCancelled:b}=t,_=String(e.key),C=$l(a,e),S=(M,N)=>{M&&bt(M,h,9,N)},w=(M,N)=>{const X=N[1];S(M,N),me(M)?M.every(j=>j.length<=1)&&X():M.length<=1&&X()},P={mode:y,persisted:f,beforeEnter(M){let N=r;if(!a.isMounted)if(p)N=l||r;else return;M[Ut]&&M[Ut](!0);const X=C[_];X&&mn(e,X)&&X.el[Ut]&&X.el[Ut](),S(N,[M])},enter(M){let N=u,X=c,j=n;if(!a.isMounted)if(p)N=g||u,X=m||c,j=b||n;else return;let K=!1;const ee=M[Wi]=ne=>{K||(K=!0,ne?S(j,[M]):S(X,[M]),P.delayedLeave&&P.delayedLeave(),M[Wi]=void 0)};N?w(N,[M,ee]):ee()},leave(M,N){const X=String(e.key);if(M[Wi]&&M[Wi](!0),a.isUnmounting)return N();S(s,[M]);let j=!1;const K=M[Ut]=ee=>{j||(j=!0,N(),ee?S(d,[M]):S(o,[M]),M[Ut]=void 0,C[X]===e&&delete C[X])};C[X]=e,i?w(i,[M,K]):K()},clone(M){const N=xi(M,t,a,h,v);return v&&v(N),N}};return P}function Nr(e){if(_r(e))return e=Zt(e),e.children=null,e}function Pa(e){if(!_r(e))return Yl(e.type)&&e.children?Gl(e.children):e;const{shapeFlag:t,children:a}=e;if(a){if(t&16)return a[0];if(t&32&&pe(a.default))return a.default()}}function On(e,t){e.shapeFlag&6&&e.component?(e.transition=t,On(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function $s(e,t=!1,a){let h=[],v=0;for(let p=0;p<e.length;p++){let y=e[p];const f=a==null?y.key:String(a)+String(y.key!=null?y.key:p);y.type===Re?(y.patchFlag&128&&v++,h=h.concat($s(y.children,t,f))):(t||y.type!==dt)&&h.push(f!=null?Zt(y,{key:f}):y)}if(v>1)for(let p=0;p<h.length;p++)h[p].patchFlag=-2;return h}/*! #__NO_SIDE_EFFECTS__ */function Ks(e,t){return pe(e)?Be({name:e.name},t,{setup:e}):e}function Kl(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function er(e,t,a,h,v=!1){if(me(e)){e.forEach((o,d)=>er(o,t&&(me(t)?t[d]:t),a,h,v));return}if(vi(h)&&!v){h.shapeFlag&512&&h.type.__asyncResolved&&h.component.subTree.component&&er(e,t,a,h.component.subTree);return}const p=h.shapeFlag&4?wr(h.component):h.el,y=v?null:p,{i:f,r}=e,u=t&&t.r,c=f.refs===Ee?f.refs={}:f.refs,n=f.setupState,s=de(n),i=n===Ee?()=>!1:o=>Oe(s,o);if(u!=null&&u!==r&&(Le(u)?(c[u]=null,i(u)&&(n[u]=null)):Pe(u)&&(u.value=null)),pe(r))Fi(r,f,12,[y,c]);else{const o=Le(r),d=Pe(r);if(o||d){const l=()=>{if(e.f){const g=o?i(r)?n[r]:c[r]:r.value;v?me(g)&&Ms(g,p):me(g)?g.includes(p)||g.push(p):o?(c[r]=[p],i(r)&&(n[r]=c[r])):(r.value=[p],e.k&&(c[e.k]=r.value))}else o?(c[r]=y,i(r)&&(n[r]=y)):d&&(r.value=y,e.k&&(c[e.k]=y))};y?(l.id=-1,st(l,a)):l()}}}mr().requestIdleCallback;mr().cancelIdleCallback;const vi=e=>!!e.type.__asyncLoader,_r=e=>e.type.__isKeepAlive;function ql(e,t){Zl(e,"a",t)}function Jl(e,t){Zl(e,"da",t)}function Zl(e,t,a=je){const h=e.__wdc||(e.__wdc=()=>{let v=a;for(;v;){if(v.isDeactivated)return;v=v.parent}return e()});if(Cr(t,h,a),a){let v=a.parent;for(;v&&v.parent;)_r(v.parent.vnode)&&lh(h,t,a,v),v=v.parent}}function lh(e,t,a,h){const v=Cr(t,e,h,!0);Js(()=>{Ms(h[t],v)},a)}function Cr(e,t,a=je,h=!1){if(a){const v=a[e]||(a[e]=[]),p=t.__weh||(t.__weh=(...y)=>{en();const f=Ri(a),r=bt(t,a,e,y);return f(),tn(),r});return h?v.unshift(p):v.push(p),p}}const Vt=e=>(t,a=je)=>{(!Oi||e==="sp")&&Cr(e,(...h)=>t(...h),a)},ei=Vt("bm"),Ct=Vt("m"),ch=Vt("bu"),qs=Vt("u"),it=Vt("bum"),Js=Vt("um"),uh=Vt("sp"),fh=Vt("rtg"),hh=Vt("rtc");function dh(e,t=je){Cr("ec",e,t)}const Ql="components",gh="directives",vh=Symbol.for("v-ndc");function mh(e){return Le(e)&&ec(Ql,e,!1)||e}function Zs(e){return ec(gh,e)}function ec(e,t,a=!0,h=!1){const v=qe||je;if(v){const p=v.type;if(e===Ql){const f=nd(p,!1);if(f&&(f===t||f===tt(t)||f===Qn(tt(t))))return p}const y=Ea(v[e]||p[e],t)||Ea(v.appContext[e],t);return!y&&h?p:y}}function Ea(e,t){return e&&(e[t]||e[tt(t)]||e[Qn(tt(t))])}const rs=e=>e?Cc(e)?wr(e):rs(e.parent):null,mi=Be(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>rs(e.parent),$root:e=>rs(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>nc(e),$forceUpdate:e=>e.f||(e.f=()=>{Gs(e.update)}),$nextTick:e=>e.n||(e.n=nn.bind(e.proxy)),$watch:e=>jh.bind(e)}),Hr=(e,t)=>e!==Ee&&!e.__isScriptSetup&&Oe(e,t),ph={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:a,setupState:h,data:v,props:p,accessCache:y,type:f,appContext:r}=e;let u;if(t[0]!=="$"){const i=y[t];if(i!==void 0)switch(i){case 1:return h[t];case 2:return v[t];case 4:return a[t];case 3:return p[t]}else{if(Hr(h,t))return y[t]=1,h[t];if(v!==Ee&&Oe(v,t))return y[t]=2,v[t];if((u=e.propsOptions[0])&&Oe(u,t))return y[t]=3,p[t];if(a!==Ee&&Oe(a,t))return y[t]=4,a[t];ss&&(y[t]=0)}}const c=mi[t];let n,s;if(c)return t==="$attrs"&&Ye(e.attrs,"get",""),c(e);if((n=f.__cssModules)&&(n=n[t]))return n;if(a!==Ee&&Oe(a,t))return y[t]=4,a[t];if(s=r.config.globalProperties,Oe(s,t))return s[t]},set({_:e},t,a){const{data:h,setupState:v,ctx:p}=e;return Hr(v,t)?(v[t]=a,!0):h!==Ee&&Oe(h,t)?(h[t]=a,!0):Oe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(p[t]=a,!0)},has({_:{data:e,setupState:t,accessCache:a,ctx:h,appContext:v,propsOptions:p}},y){let f;return!!a[y]||e!==Ee&&Oe(e,y)||Hr(t,y)||(f=p[0])&&Oe(f,y)||Oe(h,y)||Oe(mi,y)||Oe(v.config.globalProperties,y)},defineProperty(e,t,a){return a.get!=null?e._.accessCache[t]=0:Oe(a,"value")&&this.set(e,t,a.value,null),Reflect.defineProperty(e,t,a)}};function Aa(e){return me(e)?e.reduce((t,a)=>(t[a]=null,t),{}):e}let ss=!0;function yh(e){const t=nc(e),a=e.proxy,h=e.ctx;ss=!1,t.beforeCreate&&Da(t.beforeCreate,e,"bc");const{data:v,computed:p,methods:y,watch:f,provide:r,inject:u,created:c,beforeMount:n,mounted:s,beforeUpdate:i,updated:o,activated:d,deactivated:l,beforeDestroy:g,beforeUnmount:m,destroyed:b,unmounted:_,render:C,renderTracked:S,renderTriggered:w,errorCaptured:P,serverPrefetch:M,expose:N,inheritAttrs:X,components:j,directives:K,filters:ee}=t;if(u&&bh(u,h,null),y)for(const se in y){const oe=y[se];pe(oe)&&(h[se]=oe.bind(a))}if(v){const se=v.call(a,a);Me(se)&&(e.data=Ne(se))}if(ss=!0,p)for(const se in p){const oe=p[se],T=pe(oe)?oe.bind(a,a):pe(oe.get)?oe.get.bind(a,a):kt,L=!pe(oe)&&pe(oe.set)?oe.set.bind(a):kt,F=U({get:T,set:L});Object.defineProperty(h,se,{enumerable:!0,configurable:!0,get:()=>F.value,set:I=>F.value=I})}if(f)for(const se in f)tc(f[se],h,a,se);if(r){const se=pe(r)?r.call(a):r;Reflect.ownKeys(se).forEach(oe=>{ze(oe,se[oe])})}c&&Da(c,e,"c");function ae(se,oe){me(oe)?oe.forEach(T=>se(T.bind(a))):oe&&se(oe.bind(a))}if(ae(ei,n),ae(Ct,s),ae(ch,i),ae(qs,o),ae(ql,d),ae(Jl,l),ae(dh,P),ae(hh,S),ae(fh,w),ae(it,m),ae(Js,_),ae(uh,M),me(N))if(N.length){const se=e.exposed||(e.exposed={});N.forEach(oe=>{Object.defineProperty(se,oe,{get:()=>a[oe],set:T=>a[oe]=T})})}else e.exposed||(e.exposed={});C&&e.render===kt&&(e.render=C),X!=null&&(e.inheritAttrs=X),j&&(e.components=j),K&&(e.directives=K),M&&Kl(e)}function bh(e,t,a=kt){me(e)&&(e=as(e));for(const h in e){const v=e[h];let p;Me(v)?"default"in v?p=Ae(v.from||h,v.default,!0):p=Ae(v.from||h):p=Ae(v),Pe(p)?Object.defineProperty(t,h,{enumerable:!0,configurable:!0,get:()=>p.value,set:y=>p.value=y}):t[h]=p}}function Da(e,t,a){bt(me(e)?e.map(h=>h.bind(t.proxy)):e.bind(t.proxy),t,a)}function tc(e,t,a,h){let v=h.includes(".")?vc(a,h):()=>a[h];if(Le(e)){const p=t[e];pe(p)&&Ce(v,p)}else if(pe(e))Ce(v,e.bind(a));else if(Me(e))if(me(e))e.forEach(p=>tc(p,t,a,h));else{const p=pe(e.handler)?e.handler.bind(a):t[e.handler];pe(p)&&Ce(v,p,e)}}function nc(e){const t=e.type,{mixins:a,extends:h}=t,{mixins:v,optionsCache:p,config:{optionMergeStrategies:y}}=e.appContext,f=p.get(t);let r;return f?r=f:!v.length&&!a&&!h?r=t:(r={},v.length&&v.forEach(u=>tr(r,u,y,!0)),tr(r,t,y)),Me(t)&&p.set(t,r),r}function tr(e,t,a,h=!1){const{mixins:v,extends:p}=t;p&&tr(e,p,a,!0),v&&v.forEach(y=>tr(e,y,a,!0));for(const y in t)if(!(h&&y==="expose")){const f=_h[y]||a&&a[y];e[y]=f?f(e[y],t[y]):t[y]}return e}const _h={data:Ma,props:Fa,emits:Fa,methods:ui,computed:ui,beforeCreate:Ue,created:Ue,beforeMount:Ue,mounted:Ue,beforeUpdate:Ue,updated:Ue,beforeDestroy:Ue,beforeUnmount:Ue,destroyed:Ue,unmounted:Ue,activated:Ue,deactivated:Ue,errorCaptured:Ue,serverPrefetch:Ue,components:ui,directives:ui,watch:Sh,provide:Ma,inject:Ch};function Ma(e,t){return t?e?function(){return Be(pe(e)?e.call(this,this):e,pe(t)?t.call(this,this):t)}:t:e}function Ch(e,t){return ui(as(e),as(t))}function as(e){if(me(e)){const t={};for(let a=0;a<e.length;a++)t[e[a]]=e[a];return t}return e}function Ue(e,t){return e?[...new Set([].concat(e,t))]:t}function ui(e,t){return e?Be(Object.create(null),e,t):t}function Fa(e,t){return e?me(e)&&me(t)?[...new Set([...e,...t])]:Be(Object.create(null),Aa(e),Aa(t??{})):t}function Sh(e,t){if(!e)return t;if(!t)return e;const a=Be(Object.create(null),e);for(const h in t)a[h]=Ue(e[h],t[h]);return a}function ic(){return{app:null,config:{isNativeTag:df,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let wh=0;function xh(e,t){return function(h,v=null){pe(h)||(h=Be({},h)),v!=null&&!Me(v)&&(v=null);const p=ic(),y=new WeakSet,f=[];let r=!1;const u=p.app={_uid:wh++,_component:h,_props:v,_container:null,_context:p,_instance:null,version:rd,get config(){return p.config},set config(c){},use(c,...n){return y.has(c)||(c&&pe(c.install)?(y.add(c),c.install(u,...n)):pe(c)&&(y.add(c),c(u,...n))),u},mixin(c){return p.mixins.includes(c)||p.mixins.push(c),u},component(c,n){return n?(p.components[c]=n,u):p.components[c]},directive(c,n){return n?(p.directives[c]=n,u):p.directives[c]},mount(c,n,s){if(!r){const i=u._ceVNode||Y(h,v);return i.appContext=p,s===!0?s="svg":s===!1&&(s=void 0),e(i,c,s),r=!0,u._container=c,c.__vue_app__=u,wr(i.component)}},onUnmount(c){f.push(c)},unmount(){r&&(bt(f,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,n){return p.provides[c]=n,u},runWithContext(c){const n=_n;_n=u;try{return c()}finally{_n=n}}};return u}}let _n=null;function ze(e,t){if(je){let a=je.provides;const h=je.parent&&je.parent.provides;h===a&&(a=je.provides=Object.create(h)),a[e]=t}}function Ae(e,t,a=!1){const h=je||qe;if(h||_n){const v=_n?_n._context.provides:h?h.parent==null?h.vnode.appContext&&h.vnode.appContext.provides:h.parent.provides:void 0;if(v&&e in v)return v[e];if(arguments.length>1)return a&&pe(t)?t.call(h&&h.proxy):t}}function Th(){return!!(je||qe||_n)}const rc={},sc=()=>Object.create(rc),ac=e=>Object.getPrototypeOf(e)===rc;function Oh(e,t,a,h=!1){const v={},p=sc();e.propsDefaults=Object.create(null),oc(e,t,v,p);for(const y in e.propsOptions[0])y in v||(v[y]=void 0);a?e.props=h?v:Il(v):e.type.props?e.props=v:e.props=p,e.attrs=p}function kh(e,t,a,h){const{props:v,attrs:p,vnode:{patchFlag:y}}=e,f=de(v),[r]=e.propsOptions;let u=!1;if((h||y>0)&&!(y&16)){if(y&8){const c=e.vnode.dynamicProps;for(let n=0;n<c.length;n++){let s=c[n];if(Sr(e.emitsOptions,s))continue;const i=t[s];if(r)if(Oe(p,s))i!==p[s]&&(p[s]=i,u=!0);else{const o=tt(s);v[o]=os(r,f,o,i,e,!1)}else i!==p[s]&&(p[s]=i,u=!0)}}}else{oc(e,t,v,p)&&(u=!0);let c;for(const n in f)(!t||!Oe(t,n)&&((c=Pn(n))===n||!Oe(t,c)))&&(r?a&&(a[n]!==void 0||a[c]!==void 0)&&(v[n]=os(r,f,n,void 0,e,!0)):delete v[n]);if(p!==f)for(const n in p)(!t||!Oe(t,n))&&(delete p[n],u=!0)}u&&Lt(e.attrs,"set","")}function oc(e,t,a,h){const[v,p]=e.propsOptions;let y=!1,f;if(t)for(let r in t){if(hi(r))continue;const u=t[r];let c;v&&Oe(v,c=tt(r))?!p||!p.includes(c)?a[c]=u:(f||(f={}))[c]=u:Sr(e.emitsOptions,r)||(!(r in h)||u!==h[r])&&(h[r]=u,y=!0)}if(p){const r=de(a),u=f||Ee;for(let c=0;c<p.length;c++){const n=p[c];a[n]=os(v,r,n,u[n],e,!Oe(u,n))}}return y}function os(e,t,a,h,v,p){const y=e[a];if(y!=null){const f=Oe(y,"default");if(f&&h===void 0){const r=y.default;if(y.type!==Function&&!y.skipFactory&&pe(r)){const{propsDefaults:u}=v;if(a in u)h=u[a];else{const c=Ri(v);h=u[a]=r.call(null,t),c()}}else h=r;v.ce&&v.ce._setProp(a,h)}y[0]&&(p&&!f?h=!1:y[1]&&(h===""||h===Pn(a))&&(h=!0))}return h}const Ph=new WeakMap;function lc(e,t,a=!1){const h=a?Ph:t.propsCache,v=h.get(e);if(v)return v;const p=e.props,y={},f=[];let r=!1;if(!pe(e)){const c=n=>{r=!0;const[s,i]=lc(n,t,!0);Be(y,s),i&&f.push(...i)};!a&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!p&&!r)return Me(e)&&h.set(e,Un),Un;if(me(p))for(let c=0;c<p.length;c++){const n=tt(p[c]);Ia(n)&&(y[n]=Ee)}else if(p)for(const c in p){const n=tt(c);if(Ia(n)){const s=p[c],i=y[n]=me(s)||pe(s)?{type:s}:Be({},s),o=i.type;let d=!1,l=!0;if(me(o))for(let g=0;g<o.length;++g){const m=o[g],b=pe(m)&&m.name;if(b==="Boolean"){d=!0;break}else b==="String"&&(l=!1)}else d=pe(o)&&o.name==="Boolean";i[0]=d,i[1]=l,(d||Oe(i,"default"))&&f.push(n)}}const u=[y,f];return Me(e)&&h.set(e,u),u}function Ia(e){return e[0]!=="$"&&!hi(e)}const cc=e=>e[0]==="_"||e==="$stable",Qs=e=>me(e)?e.map(Ot):[Ot(e)],Eh=(e,t,a)=>{if(t._n)return t;const h=Qe((...v)=>Qs(t(...v)),a);return h._c=!1,h},uc=(e,t,a)=>{const h=e._ctx;for(const v in e){if(cc(v))continue;const p=e[v];if(pe(p))t[v]=Eh(v,p,h);else if(p!=null){const y=Qs(p);t[v]=()=>y}}},fc=(e,t)=>{const a=Qs(t);e.slots.default=()=>a},hc=(e,t,a)=>{for(const h in t)(a||h!=="_")&&(e[h]=t[h])},Ah=(e,t,a)=>{const h=e.slots=sc();if(e.vnode.shapeFlag&32){const v=t._;v?(hc(h,t,a),a&&ml(h,"_",v,!0)):uc(t,h)}else t&&fc(e,t)},Dh=(e,t,a)=>{const{vnode:h,slots:v}=e;let p=!0,y=Ee;if(h.shapeFlag&32){const f=t._;f?a&&f===1?p=!1:hc(v,t,a):(p=!t.$stable,uc(t,v)),y=t}else t&&(fc(e,t),y={default:1});if(p)for(const f in v)!cc(f)&&y[f]==null&&delete v[f]},st=Xh;function Mh(e){return Fh(e)}function Fh(e,t){const a=mr();a.__VUE__=!0;const{insert:h,remove:v,patchProp:p,createElement:y,createText:f,createComment:r,setText:u,setElementText:c,parentNode:n,nextSibling:s,setScopeId:i=kt,insertStaticContent:o}=e,d=(k,x,O,V=null,W=null,R=null,G=void 0,Z=null,ie=!!x.dynamicChildren)=>{if(k===x)return;k&&!mn(k,x)&&(V=A(k),I(k,W,R,!0),k=null),x.patchFlag===-2&&(ie=!1,x.dynamicChildren=null);const{type:Q,ref:q,shapeFlag:re}=x;switch(Q){case Ii:l(k,x,O,V);break;case dt:g(k,x,O,V);break;case Yr:k==null&&m(x,O,V,G);break;case Re:j(k,x,O,V,W,R,G,Z,ie);break;default:re&1?C(k,x,O,V,W,R,G,Z,ie):re&6?K(k,x,O,V,W,R,G,Z,ie):(re&64||re&128)&&Q.process(k,x,O,V,W,R,G,Z,ie,$)}q!=null&&W&&er(q,k&&k.ref,R,x||k,!x)},l=(k,x,O,V)=>{if(k==null)h(x.el=f(x.children),O,V);else{const W=x.el=k.el;x.children!==k.children&&u(W,x.children)}},g=(k,x,O,V)=>{k==null?h(x.el=r(x.children||""),O,V):x.el=k.el},m=(k,x,O,V)=>{[k.el,k.anchor]=o(k.children,x,O,V,k.el,k.anchor)},b=({el:k,anchor:x},O,V)=>{let W;for(;k&&k!==x;)W=s(k),h(k,O,V),k=W;h(x,O,V)},_=({el:k,anchor:x})=>{let O;for(;k&&k!==x;)O=s(k),v(k),k=O;v(x)},C=(k,x,O,V,W,R,G,Z,ie)=>{x.type==="svg"?G="svg":x.type==="math"&&(G="mathml"),k==null?S(x,O,V,W,R,G,Z,ie):M(k,x,W,R,G,Z,ie)},S=(k,x,O,V,W,R,G,Z)=>{let ie,Q;const{props:q,shapeFlag:re,transition:le,dirs:ce}=k;if(ie=k.el=y(k.type,R,q&&q.is,q),re&8?c(ie,k.children):re&16&&P(k.children,ie,null,V,W,Wr(k,R),G,Z),ce&&un(k,null,V,"created"),w(ie,k,k.scopeId,G,V),q){for(const he in q)he!=="value"&&!hi(he)&&p(ie,he,null,q[he],R,V);"value"in q&&p(ie,"value",null,q.value,R),(Q=q.onVnodeBeforeMount)&&wt(Q,V,k)}ce&&un(k,null,V,"beforeMount");const fe=Ih(W,le);fe&&le.beforeEnter(ie),h(ie,x,O),((Q=q&&q.onVnodeMounted)||fe||ce)&&st(()=>{Q&&wt(Q,V,k),fe&&le.enter(ie),ce&&un(k,null,V,"mounted")},W)},w=(k,x,O,V,W)=>{if(O&&i(k,O),V)for(let R=0;R<V.length;R++)i(k,V[R]);if(W){let R=W.subTree;if(x===R||pc(R.type)&&(R.ssContent===x||R.ssFallback===x)){const G=W.vnode;w(k,G,G.scopeId,G.slotScopeIds,W.parent)}}},P=(k,x,O,V,W,R,G,Z,ie=0)=>{for(let Q=ie;Q<k.length;Q++){const q=k[Q]=Z?Gt(k[Q]):Ot(k[Q]);d(null,q,x,O,V,W,R,G,Z)}},M=(k,x,O,V,W,R,G)=>{const Z=x.el=k.el;let{patchFlag:ie,dynamicChildren:Q,dirs:q}=x;ie|=k.patchFlag&16;const re=k.props||Ee,le=x.props||Ee;let ce;if(O&&fn(O,!1),(ce=le.onVnodeBeforeUpdate)&&wt(ce,O,x,k),q&&un(x,k,O,"beforeUpdate"),O&&fn(O,!0),(re.innerHTML&&le.innerHTML==null||re.textContent&&le.textContent==null)&&c(Z,""),Q?N(k.dynamicChildren,Q,Z,O,V,Wr(x,W),R):G||oe(k,x,Z,null,O,V,Wr(x,W),R,!1),ie>0){if(ie&16)X(Z,re,le,O,W);else if(ie&2&&re.class!==le.class&&p(Z,"class",null,le.class,W),ie&4&&p(Z,"style",re.style,le.style,W),ie&8){const fe=x.dynamicProps;for(let he=0;he<fe.length;he++){const ve=fe[he],Se=re[ve],Fe=le[ve];(Fe!==Se||ve==="value")&&p(Z,ve,Se,Fe,W,O)}}ie&1&&k.children!==x.children&&c(Z,x.children)}else!G&&Q==null&&X(Z,re,le,O,W);((ce=le.onVnodeUpdated)||q)&&st(()=>{ce&&wt(ce,O,x,k),q&&un(x,k,O,"updated")},V)},N=(k,x,O,V,W,R,G)=>{for(let Z=0;Z<x.length;Z++){const ie=k[Z],Q=x[Z],q=ie.el&&(ie.type===Re||!mn(ie,Q)||ie.shapeFlag&70)?n(ie.el):O;d(ie,Q,q,null,V,W,R,G,!0)}},X=(k,x,O,V,W)=>{if(x!==O){if(x!==Ee)for(const R in x)!hi(R)&&!(R in O)&&p(k,R,x[R],null,W,V);for(const R in O){if(hi(R))continue;const G=O[R],Z=x[R];G!==Z&&R!=="value"&&p(k,R,Z,G,W,V)}"value"in O&&p(k,"value",x.value,O.value,W)}},j=(k,x,O,V,W,R,G,Z,ie)=>{const Q=x.el=k?k.el:f(""),q=x.anchor=k?k.anchor:f("");let{patchFlag:re,dynamicChildren:le,slotScopeIds:ce}=x;ce&&(Z=Z?Z.concat(ce):ce),k==null?(h(Q,O,V),h(q,O,V),P(x.children||[],O,q,W,R,G,Z,ie)):re>0&&re&64&&le&&k.dynamicChildren?(N(k.dynamicChildren,le,O,W,R,G,Z),(x.key!=null||W&&x===W.subTree)&&dc(k,x,!0)):oe(k,x,O,q,W,R,G,Z,ie)},K=(k,x,O,V,W,R,G,Z,ie)=>{x.slotScopeIds=Z,k==null?x.shapeFlag&512?W.ctx.activate(x,O,V,G,ie):ee(x,O,V,W,R,G,ie):ne(k,x,ie)},ee=(k,x,O,V,W,R,G)=>{const Z=k.component=Jh(k,V,W);if(_r(k)&&(Z.ctx.renderer=$),Zh(Z,!1,G),Z.asyncDep){if(W&&W.registerDep(Z,ae,G),!k.el){const ie=Z.subTree=Y(dt);g(null,ie,x,O)}}else ae(Z,k,x,O,W,R,G)},ne=(k,x,O)=>{const V=x.component=k.component;if(Yh(k,x,O))if(V.asyncDep&&!V.asyncResolved){se(V,x,O);return}else V.next=x,V.update();else x.el=k.el,V.vnode=x},ae=(k,x,O,V,W,R,G)=>{const Z=()=>{if(k.isMounted){let{next:re,bu:le,u:ce,parent:fe,vnode:he}=k;{const Ie=gc(k);if(Ie){re&&(re.el=he.el,se(k,re,G)),Ie.asyncDep.then(()=>{k.isUnmounted||Z()});return}}let ve=re,Se;fn(k,!1),re?(re.el=he.el,se(k,re,G)):re=he,le&&Rr(le),(Se=re.props&&re.props.onVnodeBeforeUpdate)&&wt(Se,fe,re,he),fn(k,!0);const Fe=Ra(k),We=k.subTree;k.subTree=Fe,d(We,Fe,n(We.el),A(We),k,W,R),re.el=Fe.el,ve===null&&zh(k,Fe.el),ce&&st(ce,W),(Se=re.props&&re.props.onVnodeUpdated)&&st(()=>wt(Se,fe,re,he),W)}else{let re;const{el:le,props:ce}=x,{bm:fe,m:he,parent:ve,root:Se,type:Fe}=k,We=vi(x);fn(k,!1),fe&&Rr(fe),!We&&(re=ce&&ce.onVnodeBeforeMount)&&wt(re,ve,x),fn(k,!0);{Se.ce&&Se.ce._injectChildStyle(Fe);const Ie=k.subTree=Ra(k);d(null,Ie,O,V,k,W,R),x.el=Ie.el}if(he&&st(he,W),!We&&(re=ce&&ce.onVnodeMounted)){const Ie=x;st(()=>wt(re,ve,Ie),W)}(x.shapeFlag&256||ve&&vi(ve.vnode)&&ve.vnode.shapeFlag&256)&&k.a&&st(k.a,W),k.isMounted=!0,x=O=V=null}};k.scope.on();const ie=k.effect=new _l(Z);k.scope.off();const Q=k.update=ie.run.bind(ie),q=k.job=ie.runIfDirty.bind(ie);q.i=k,q.id=k.uid,ie.scheduler=()=>Gs(q),fn(k,!0),Q()},se=(k,x,O)=>{x.component=k;const V=k.vnode.props;k.vnode=x,k.next=null,kh(k,x.props,V,O),Dh(k,x.children,O),en(),ka(k),tn()},oe=(k,x,O,V,W,R,G,Z,ie=!1)=>{const Q=k&&k.children,q=k?k.shapeFlag:0,re=x.children,{patchFlag:le,shapeFlag:ce}=x;if(le>0){if(le&128){L(Q,re,O,V,W,R,G,Z,ie);return}else if(le&256){T(Q,re,O,V,W,R,G,Z,ie);return}}ce&8?(q&16&&B(Q,W,R),re!==Q&&c(O,re)):q&16?ce&16?L(Q,re,O,V,W,R,G,Z,ie):B(Q,W,R,!0):(q&8&&c(O,""),ce&16&&P(re,O,V,W,R,G,Z,ie))},T=(k,x,O,V,W,R,G,Z,ie)=>{k=k||Un,x=x||Un;const Q=k.length,q=x.length,re=Math.min(Q,q);let le;for(le=0;le<re;le++){const ce=x[le]=ie?Gt(x[le]):Ot(x[le]);d(k[le],ce,O,null,W,R,G,Z,ie)}Q>q?B(k,W,R,!0,!1,re):P(x,O,V,W,R,G,Z,ie,re)},L=(k,x,O,V,W,R,G,Z,ie)=>{let Q=0;const q=x.length;let re=k.length-1,le=q-1;for(;Q<=re&&Q<=le;){const ce=k[Q],fe=x[Q]=ie?Gt(x[Q]):Ot(x[Q]);if(mn(ce,fe))d(ce,fe,O,null,W,R,G,Z,ie);else break;Q++}for(;Q<=re&&Q<=le;){const ce=k[re],fe=x[le]=ie?Gt(x[le]):Ot(x[le]);if(mn(ce,fe))d(ce,fe,O,null,W,R,G,Z,ie);else break;re--,le--}if(Q>re){if(Q<=le){const ce=le+1,fe=ce<q?x[ce].el:V;for(;Q<=le;)d(null,x[Q]=ie?Gt(x[Q]):Ot(x[Q]),O,fe,W,R,G,Z,ie),Q++}}else if(Q>le)for(;Q<=re;)I(k[Q],W,R,!0),Q++;else{const ce=Q,fe=Q,he=new Map;for(Q=fe;Q<=le;Q++){const Xe=x[Q]=ie?Gt(x[Q]):Ot(x[Q]);Xe.key!=null&&he.set(Xe.key,Q)}let ve,Se=0;const Fe=le-fe+1;let We=!1,Ie=0;const cn=new Array(Fe);for(Q=0;Q<Fe;Q++)cn[Q]=0;for(Q=ce;Q<=re;Q++){const Xe=k[Q];if(Se>=Fe){I(Xe,W,R,!0);continue}let ft;if(Xe.key!=null)ft=he.get(Xe.key);else for(ve=fe;ve<=le;ve++)if(cn[ve-fe]===0&&mn(Xe,x[ve])){ft=ve;break}ft===void 0?I(Xe,W,R,!0):(cn[ft-fe]=Q+1,ft>=Ie?Ie=ft:We=!0,d(Xe,x[ft],O,null,W,R,G,Z,ie),Se++)}const ri=We?Lh(cn):Un;for(ve=ri.length-1,Q=Fe-1;Q>=0;Q--){const Xe=fe+Q,ft=x[Xe],wa=Xe+1<q?x[Xe+1].el:V;cn[Q]===0?d(null,ft,O,wa,W,R,G,Z,ie):We&&(ve<0||Q!==ri[ve]?F(ft,O,wa,2):ve--)}}},F=(k,x,O,V,W=null)=>{const{el:R,type:G,transition:Z,children:ie,shapeFlag:Q}=k;if(Q&6){F(k.component.subTree,x,O,V);return}if(Q&128){k.suspense.move(x,O,V);return}if(Q&64){G.move(k,x,O,$);return}if(G===Re){h(R,x,O);for(let re=0;re<ie.length;re++)F(ie[re],x,O,V);h(k.anchor,x,O);return}if(G===Yr){b(k,x,O);return}if(V!==2&&Q&1&&Z)if(V===0)Z.beforeEnter(R),h(R,x,O),st(()=>Z.enter(R),W);else{const{leave:re,delayLeave:le,afterLeave:ce}=Z,fe=()=>h(R,x,O),he=()=>{re(R,()=>{fe(),ce&&ce()})};le?le(R,fe,he):he()}else h(R,x,O)},I=(k,x,O,V=!1,W=!1)=>{const{type:R,props:G,ref:Z,children:ie,dynamicChildren:Q,shapeFlag:q,patchFlag:re,dirs:le,cacheIndex:ce}=k;if(re===-2&&(W=!1),Z!=null&&er(Z,null,O,k,!0),ce!=null&&(x.renderCache[ce]=void 0),q&256){x.ctx.deactivate(k);return}const fe=q&1&&le,he=!vi(k);let ve;if(he&&(ve=G&&G.onVnodeBeforeUnmount)&&wt(ve,x,k),q&6)E(k.component,O,V);else{if(q&128){k.suspense.unmount(O,V);return}fe&&un(k,null,x,"beforeUnmount"),q&64?k.type.remove(k,x,O,$,V):Q&&!Q.hasOnce&&(R!==Re||re>0&&re&64)?B(Q,x,O,!1,!0):(R===Re&&re&384||!W&&q&16)&&B(ie,x,O),V&&J(k)}(he&&(ve=G&&G.onVnodeUnmounted)||fe)&&st(()=>{ve&&wt(ve,x,k),fe&&un(k,null,x,"unmounted")},O)},J=k=>{const{type:x,el:O,anchor:V,transition:W}=k;if(x===Re){D(O,V);return}if(x===Yr){_(k);return}const R=()=>{v(O),W&&!W.persisted&&W.afterLeave&&W.afterLeave()};if(k.shapeFlag&1&&W&&!W.persisted){const{leave:G,delayLeave:Z}=W,ie=()=>G(O,R);Z?Z(k.el,R,ie):ie()}else R()},D=(k,x)=>{let O;for(;k!==x;)O=s(k),v(k),k=O;v(x)},E=(k,x,O)=>{const{bum:V,scope:W,job:R,subTree:G,um:Z,m:ie,a:Q}=k;La(ie),La(Q),V&&Rr(V),W.stop(),R&&(R.flags|=8,I(G,k,x,O)),Z&&st(Z,x),st(()=>{k.isUnmounted=!0},x),x&&x.pendingBranch&&!x.isUnmounted&&k.asyncDep&&!k.asyncResolved&&k.suspenseId===x.pendingId&&(x.deps--,x.deps===0&&x.resolve())},B=(k,x,O,V=!1,W=!1,R=0)=>{for(let G=R;G<k.length;G++)I(k[G],x,O,V,W)},A=k=>{if(k.shapeFlag&6)return A(k.component.subTree);if(k.shapeFlag&128)return k.suspense.next();const x=s(k.anchor||k.el),O=x&&x[sh];return O?s(O):x};let z=!1;const H=(k,x,O)=>{k==null?x._vnode&&I(x._vnode,null,null,!0):d(x._vnode||null,k,x,null,null,null,O),x._vnode=k,z||(z=!0,ka(),Nl(),z=!1)},$={p:d,um:I,m:F,r:J,mt:ee,mc:P,pc:oe,pbc:N,n:A,o:e};return{render:H,hydrate:void 0,createApp:xh(H)}}function Wr({type:e,props:t},a){return a==="svg"&&e==="foreignObject"||a==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:a}function fn({effect:e,job:t},a){a?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Ih(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function dc(e,t,a=!1){const h=e.children,v=t.children;if(me(h)&&me(v))for(let p=0;p<h.length;p++){const y=h[p];let f=v[p];f.shapeFlag&1&&!f.dynamicChildren&&((f.patchFlag<=0||f.patchFlag===32)&&(f=v[p]=Gt(v[p]),f.el=y.el),!a&&f.patchFlag!==-2&&dc(y,f)),f.type===Ii&&(f.el=y.el)}}function Lh(e){const t=e.slice(),a=[0];let h,v,p,y,f;const r=e.length;for(h=0;h<r;h++){const u=e[h];if(u!==0){if(v=a[a.length-1],e[v]<u){t[h]=v,a.push(h);continue}for(p=0,y=a.length-1;p<y;)f=p+y>>1,e[a[f]]<u?p=f+1:y=f;u<e[a[p]]&&(p>0&&(t[h]=a[p-1]),a[p]=h)}}for(p=a.length,y=a[p-1];p-- >0;)a[p]=y,y=t[y];return a}function gc(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:gc(t)}function La(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Rh=Symbol.for("v-scx"),Bh=()=>Ae(Rh);function En(e,t){return ea(e,null,t)}function Ce(e,t,a){return ea(e,t,a)}function ea(e,t,a=Ee){const{immediate:h,deep:v,flush:p,once:y}=a,f=Be({},a),r=t&&h||!t&&p!=="post";let u;if(Oi){if(p==="sync"){const i=Bh();u=i.__watcherHandles||(i.__watcherHandles=[])}else if(!r){const i=()=>{};return i.stop=kt,i.resume=kt,i.pause=kt,i}}const c=je;f.call=(i,o,d)=>bt(i,c,o,d);let n=!1;p==="post"?f.scheduler=i=>{st(i,c&&c.suspense)}:p!=="sync"&&(n=!0,f.scheduler=(i,o)=>{o?i():Gs(i)}),f.augmentJob=i=>{t&&(i.flags|=4),n&&(i.flags|=2,c&&(i.id=c.uid,i.i=c))};const s=th(e,t,f);return Oi&&(u?u.push(s):r&&s()),s}function jh(e,t,a){const h=this.proxy,v=Le(e)?e.includes(".")?vc(h,e):()=>h[e]:e.bind(h,h);let p;pe(t)?p=t:(p=t.handler,a=t);const y=Ri(this),f=ea(v,p.bind(h),a);return y(),f}function vc(e,t){const a=t.split(".");return()=>{let h=e;for(let v=0;v<a.length&&h;v++)h=h[a[v]];return h}}const Vh=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${tt(t)}Modifiers`]||e[`${Pn(t)}Modifiers`];function Nh(e,t,...a){if(e.isUnmounted)return;const h=e.vnode.props||Ee;let v=a;const p=t.startsWith("update:"),y=p&&Vh(h,t.slice(7));y&&(y.trim&&(v=a.map(c=>Le(c)?c.trim():c)),y.number&&(v=a.map(Cf)));let f,r=h[f=Lr(t)]||h[f=Lr(tt(t))];!r&&p&&(r=h[f=Lr(Pn(t))]),r&&bt(r,e,6,v);const u=h[f+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[f])return;e.emitted[f]=!0,bt(u,e,6,v)}}function mc(e,t,a=!1){const h=t.emitsCache,v=h.get(e);if(v!==void 0)return v;const p=e.emits;let y={},f=!1;if(!pe(e)){const r=u=>{const c=mc(u,t,!0);c&&(f=!0,Be(y,c))};!a&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return!p&&!f?(Me(e)&&h.set(e,null),null):(me(p)?p.forEach(r=>y[r]=null):Be(y,p),Me(e)&&h.set(e,y),y)}function Sr(e,t){return!e||!dr(t)?!1:(t=t.slice(2).replace(/Once$/,""),Oe(e,t[0].toLowerCase()+t.slice(1))||Oe(e,Pn(t))||Oe(e,t))}function Ra(e){const{type:t,vnode:a,proxy:h,withProxy:v,propsOptions:[p],slots:y,attrs:f,emit:r,render:u,renderCache:c,props:n,data:s,setupState:i,ctx:o,inheritAttrs:d}=e,l=Qi(e);let g,m;try{if(a.shapeFlag&4){const _=v||h,C=_;g=Ot(u.call(C,_,c,n,i,s,o)),m=f}else{const _=t;g=Ot(_.length>1?_(n,{attrs:f,slots:y,emit:r}):_(n,null)),m=t.props?f:Hh(f)}}catch(_){pi.length=0,br(_,e,1),g=Y(dt)}let b=g;if(m&&d!==!1){const _=Object.keys(m),{shapeFlag:C}=b;_.length&&C&7&&(p&&_.some(Ds)&&(m=Wh(m,p)),b=Zt(b,m,!1,!0))}return a.dirs&&(b=Zt(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(a.dirs):a.dirs),a.transition&&On(b,a.transition),g=b,Qi(l),g}const Hh=e=>{let t;for(const a in e)(a==="class"||a==="style"||dr(a))&&((t||(t={}))[a]=e[a]);return t},Wh=(e,t)=>{const a={};for(const h in e)(!Ds(h)||!(h.slice(9)in t))&&(a[h]=e[h]);return a};function Yh(e,t,a){const{props:h,children:v,component:p}=e,{props:y,children:f,patchFlag:r}=t,u=p.emitsOptions;if(t.dirs||t.transition)return!0;if(a&&r>=0){if(r&1024)return!0;if(r&16)return h?Ba(h,y,u):!!y;if(r&8){const c=t.dynamicProps;for(let n=0;n<c.length;n++){const s=c[n];if(y[s]!==h[s]&&!Sr(u,s))return!0}}}else return(v||f)&&(!f||!f.$stable)?!0:h===y?!1:h?y?Ba(h,y,u):!0:!!y;return!1}function Ba(e,t,a){const h=Object.keys(t);if(h.length!==Object.keys(e).length)return!0;for(let v=0;v<h.length;v++){const p=h[v];if(t[p]!==e[p]&&!Sr(a,p))return!0}return!1}function zh({vnode:e,parent:t},a){for(;t;){const h=t.subTree;if(h.suspense&&h.suspense.activeBranch===e&&(h.el=e.el),h===e)(e=t.vnode).el=a,t=t.parent;else break}}const pc=e=>e.__isSuspense;function Xh(e,t){t&&t.pendingBranch?me(e)?t.effects.push(...e):t.effects.push(e):rh(e)}const Re=Symbol.for("v-fgt"),Ii=Symbol.for("v-txt"),dt=Symbol.for("v-cmt"),Yr=Symbol.for("v-stc"),pi=[];let ot=null;function An(e=!1){pi.push(ot=e?null:[])}function Uh(){pi.pop(),ot=pi[pi.length-1]||null}let Ti=1;function ja(e,t=!1){Ti+=e,e<0&&ot&&t&&(ot.hasOnce=!0)}function yc(e){return e.dynamicChildren=Ti>0?ot||Un:null,Uh(),Ti>0&&ot&&ot.push(e),e}function bc(e,t,a,h,v,p){return yc(ta(e,t,a,h,v,p,!0))}function Li(e,t,a,h,v){return yc(Y(e,t,a,h,v,!0))}function nr(e){return e?e.__v_isVNode===!0:!1}function mn(e,t){return e.type===t.type&&e.key===t.key}const _c=({key:e})=>e??null,Gi=({ref:e,ref_key:t,ref_for:a})=>(typeof e=="number"&&(e=""+e),e!=null?Le(e)||Pe(e)||pe(e)?{i:qe,r:e,k:t,f:!!a}:e:null);function ta(e,t=null,a=null,h=0,v=null,p=e===Re?0:1,y=!1,f=!1){const r={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&_c(t),ref:t&&Gi(t),scopeId:Wl,slotScopeIds:null,children:a,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:p,patchFlag:h,dynamicProps:v,dynamicChildren:null,appContext:null,ctx:qe};return f?(na(r,a),p&128&&e.normalize(r)):a&&(r.shapeFlag|=Le(a)?8:16),Ti>0&&!y&&ot&&(r.patchFlag>0||p&6)&&r.patchFlag!==32&&ot.push(r),r}const Y=Gh;function Gh(e,t=null,a=null,h=0,v=null,p=!1){if((!e||e===vh)&&(e=dt),nr(e)){const f=Zt(e,t,!0);return a&&na(f,a),Ti>0&&!p&&ot&&(f.shapeFlag&6?ot[ot.indexOf(e)]=f:ot.push(f)),f.patchFlag=-2,f}if(id(e)&&(e=e.__vccOpts),t){t=$h(t);let{class:f,style:r}=t;f&&!Le(f)&&(t.class=Ls(f)),Me(r)&&(Xs(r)&&!me(r)&&(r=Be({},r)),t.style=Is(r))}const y=Le(e)?1:pc(e)?128:Yl(e)?64:Me(e)?4:pe(e)?2:0;return ta(e,t,a,h,v,y,p,!0)}function $h(e){return e?Xs(e)||ac(e)?Be({},e):e:null}function Zt(e,t,a=!1,h=!1){const{props:v,ref:p,patchFlag:y,children:f,transition:r}=e,u=t?nt(v||{},t):v,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&_c(u),ref:t&&t.ref?a&&p?me(p)?p.concat(Gi(t)):[p,Gi(t)]:Gi(t):p,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:f,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Re?y===-1?16:y|16:y,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:r,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Zt(e.ssContent),ssFallback:e.ssFallback&&Zt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return r&&h&&On(c,r.clone(c)),c}function Hn(e=" ",t=0){return Y(Ii,null,e,t)}function Ot(e){return e==null||typeof e=="boolean"?Y(dt):me(e)?Y(Re,null,e.slice()):nr(e)?Gt(e):Y(Ii,null,String(e))}function Gt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Zt(e)}function na(e,t){let a=0;const{shapeFlag:h}=e;if(t==null)t=null;else if(me(t))a=16;else if(typeof t=="object")if(h&65){const v=t.default;v&&(v._c&&(v._d=!1),na(e,v()),v._c&&(v._d=!0));return}else{a=32;const v=t._;!v&&!ac(t)?t._ctx=qe:v===3&&qe&&(qe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else pe(t)?(t={default:t,_ctx:qe},a=32):(t=String(t),h&64?(a=16,t=[Hn(t)]):a=8);e.children=t,e.shapeFlag|=a}function nt(...e){const t={};for(let a=0;a<e.length;a++){const h=e[a];for(const v in h)if(v==="class")t.class!==h.class&&(t.class=Ls([t.class,h.class]));else if(v==="style")t.style=Is([t.style,h.style]);else if(dr(v)){const p=t[v],y=h[v];y&&p!==y&&!(me(p)&&p.includes(y))&&(t[v]=p?[].concat(p,y):y)}else v!==""&&(t[v]=h[v])}return t}function wt(e,t,a,h=null){bt(e,t,7,[a,h])}const Kh=ic();let qh=0;function Jh(e,t,a){const h=e.type,v=(t?t.appContext:e.appContext)||Kh,p={uid:qh++,vnode:e,type:h,parent:t,appContext:v,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new yl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(v.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:lc(h,v),emitsOptions:mc(h,v),emit:null,emitted:null,propsDefaults:Ee,inheritAttrs:h.inheritAttrs,ctx:Ee,data:Ee,props:Ee,attrs:Ee,slots:Ee,refs:Ee,setupState:Ee,setupContext:null,suspense:a,suspenseId:a?a.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return p.ctx={_:p},p.root=t?t.root:p,p.emit=Nh.bind(null,p),e.ce&&e.ce(p),p}let je=null;const ia=()=>je||qe;let ir,ls;{const e=mr(),t=(a,h)=>{let v;return(v=e[a])||(v=e[a]=[]),v.push(h),p=>{v.length>1?v.forEach(y=>y(p)):v[0](p)}};ir=t("__VUE_INSTANCE_SETTERS__",a=>je=a),ls=t("__VUE_SSR_SETTERS__",a=>Oi=a)}const Ri=e=>{const t=je;return ir(e),e.scope.on(),()=>{e.scope.off(),ir(t)}},Va=()=>{je&&je.scope.off(),ir(null)};function Cc(e){return e.vnode.shapeFlag&4}let Oi=!1;function Zh(e,t=!1,a=!1){t&&ls(t);const{props:h,children:v}=e.vnode,p=Cc(e);Oh(e,h,p,t),Ah(e,v,a);const y=p?Qh(e,t):void 0;return t&&ls(!1),y}function Qh(e,t){const a=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,ph);const{setup:h}=a;if(h){en();const v=e.setupContext=h.length>1?td(e):null,p=Ri(e),y=Fi(h,e,0,[e.props,v]),f=vl(y);if(tn(),p(),(f||e.sp)&&!vi(e)&&Kl(e),f){if(y.then(Va,Va),t)return y.then(r=>{Na(e,r)}).catch(r=>{br(r,e,0)});e.asyncDep=y}else Na(e,y)}else Sc(e)}function Na(e,t,a){pe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Me(t)&&(e.setupState=Rl(t)),Sc(e)}function Sc(e,t,a){const h=e.type;e.render||(e.render=h.render||kt);{const v=Ri(e);en();try{yh(e)}finally{tn(),v()}}}const ed={get(e,t){return Ye(e,"get",""),e[t]}};function td(e){const t=a=>{e.exposed=a||{}};return{attrs:new Proxy(e.attrs,ed),slots:e.slots,emit:e.emit,expose:t}}function wr(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Rl(Us(e.exposed)),{get(t,a){if(a in t)return t[a];if(a in mi)return mi[a](e)},has(t,a){return a in t||a in mi}})):e.proxy}function nd(e,t=!0){return pe(e)?e.displayName||e.name:e.name||t&&e.__name}function id(e){return pe(e)&&"__vccOpts"in e}const U=(e,t)=>Qf(e,t,Oi);function rn(e,t,a){const h=arguments.length;return h===2?Me(t)&&!me(t)?nr(t)?Y(e,null,[t]):Y(e,t):Y(e,null,t):(h>3?a=Array.prototype.slice.call(arguments,2):h===3&&nr(a)&&(a=[a]),Y(e,t,a))}const rd="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let cs;const Ha=typeof window<"u"&&window.trustedTypes;if(Ha)try{cs=Ha.createPolicy("vue",{createHTML:e=>e})}catch{}const wc=cs?e=>cs.createHTML(e):e=>e,sd="http://www.w3.org/2000/svg",ad="http://www.w3.org/1998/Math/MathML",It=typeof document<"u"?document:null,Wa=It&&It.createElement("template"),od={insert:(e,t,a)=>{t.insertBefore(e,a||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,a,h)=>{const v=t==="svg"?It.createElementNS(sd,e):t==="mathml"?It.createElementNS(ad,e):a?It.createElement(e,{is:a}):It.createElement(e);return e==="select"&&h&&h.multiple!=null&&v.setAttribute("multiple",h.multiple),v},createText:e=>It.createTextNode(e),createComment:e=>It.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>It.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,a,h,v,p){const y=a?a.previousSibling:t.lastChild;if(v&&(v===p||v.nextSibling))for(;t.insertBefore(v.cloneNode(!0),a),!(v===p||!(v=v.nextSibling)););else{Wa.innerHTML=wc(h==="svg"?`<svg>${e}</svg>`:h==="mathml"?`<math>${e}</math>`:e);const f=Wa.content;if(h==="svg"||h==="mathml"){const r=f.firstChild;for(;r.firstChild;)f.appendChild(r.firstChild);f.removeChild(r)}t.insertBefore(f,a)}return[y?y.nextSibling:t.firstChild,a?a.previousSibling:t.lastChild]}},Ht="transition",ai="animation",$n=Symbol("_vtc"),xc={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Tc=Be({},Xl,xc),ld=e=>(e.displayName="Transition",e.props=Tc,e),xr=ld((e,{slots:t})=>rn(oh,Oc(e),t)),hn=(e,t=[])=>{me(e)?e.forEach(a=>a(...t)):e&&e(...t)},Ya=e=>e?me(e)?e.some(t=>t.length>1):e.length>1:!1;function Oc(e){const t={};for(const j in e)j in xc||(t[j]=e[j]);if(e.css===!1)return t;const{name:a="v",type:h,duration:v,enterFromClass:p=`${a}-enter-from`,enterActiveClass:y=`${a}-enter-active`,enterToClass:f=`${a}-enter-to`,appearFromClass:r=p,appearActiveClass:u=y,appearToClass:c=f,leaveFromClass:n=`${a}-leave-from`,leaveActiveClass:s=`${a}-leave-active`,leaveToClass:i=`${a}-leave-to`}=e,o=cd(v),d=o&&o[0],l=o&&o[1],{onBeforeEnter:g,onEnter:m,onEnterCancelled:b,onLeave:_,onLeaveCancelled:C,onBeforeAppear:S=g,onAppear:w=m,onAppearCancelled:P=b}=t,M=(j,K,ee,ne)=>{j._enterCancelled=ne,Yt(j,K?c:f),Yt(j,K?u:y),ee&&ee()},N=(j,K)=>{j._isLeaving=!1,Yt(j,n),Yt(j,i),Yt(j,s),K&&K()},X=j=>(K,ee)=>{const ne=j?w:m,ae=()=>M(K,j,ee);hn(ne,[K,ae]),za(()=>{Yt(K,j?r:p),xt(K,j?c:f),Ya(ne)||Xa(K,h,d,ae)})};return Be(t,{onBeforeEnter(j){hn(g,[j]),xt(j,p),xt(j,y)},onBeforeAppear(j){hn(S,[j]),xt(j,r),xt(j,u)},onEnter:X(!1),onAppear:X(!0),onLeave(j,K){j._isLeaving=!0;const ee=()=>N(j,K);xt(j,n),j._enterCancelled?(xt(j,s),us()):(us(),xt(j,s)),za(()=>{j._isLeaving&&(Yt(j,n),xt(j,i),Ya(_)||Xa(j,h,l,ee))}),hn(_,[j,ee])},onEnterCancelled(j){M(j,!1,void 0,!0),hn(b,[j])},onAppearCancelled(j){M(j,!0,void 0,!0),hn(P,[j])},onLeaveCancelled(j){N(j),hn(C,[j])}})}function cd(e){if(e==null)return null;if(Me(e))return[zr(e.enter),zr(e.leave)];{const t=zr(e);return[t,t]}}function zr(e){return Sf(e)}function xt(e,t){t.split(/\s+/).forEach(a=>a&&e.classList.add(a)),(e[$n]||(e[$n]=new Set)).add(t)}function Yt(e,t){t.split(/\s+/).forEach(h=>h&&e.classList.remove(h));const a=e[$n];a&&(a.delete(t),a.size||(e[$n]=void 0))}function za(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let ud=0;function Xa(e,t,a,h){const v=e._endId=++ud,p=()=>{v===e._endId&&h()};if(a!=null)return setTimeout(p,a);const{type:y,timeout:f,propCount:r}=kc(e,t);if(!y)return h();const u=y+"end";let c=0;const n=()=>{e.removeEventListener(u,s),p()},s=i=>{i.target===e&&++c>=r&&n()};setTimeout(()=>{c<r&&n()},f+1),e.addEventListener(u,s)}function kc(e,t){const a=window.getComputedStyle(e),h=o=>(a[o]||"").split(", "),v=h(`${Ht}Delay`),p=h(`${Ht}Duration`),y=Ua(v,p),f=h(`${ai}Delay`),r=h(`${ai}Duration`),u=Ua(f,r);let c=null,n=0,s=0;t===Ht?y>0&&(c=Ht,n=y,s=p.length):t===ai?u>0&&(c=ai,n=u,s=r.length):(n=Math.max(y,u),c=n>0?y>u?Ht:ai:null,s=c?c===Ht?p.length:r.length:0);const i=c===Ht&&/\b(transform|all)(,|$)/.test(h(`${Ht}Property`).toString());return{type:c,timeout:n,propCount:s,hasTransform:i}}function Ua(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((a,h)=>Ga(a)+Ga(e[h])))}function Ga(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function us(){return document.body.offsetHeight}function fd(e,t,a){const h=e[$n];h&&(t=(t?[t,...h]:[...h]).join(" ")),t==null?e.removeAttribute("class"):a?e.setAttribute("class",t):e.className=t}const rr=Symbol("_vod"),Pc=Symbol("_vsh"),ra={beforeMount(e,{value:t},{transition:a}){e[rr]=e.style.display==="none"?"":e.style.display,a&&t?a.beforeEnter(e):oi(e,t)},mounted(e,{value:t},{transition:a}){a&&t&&a.enter(e)},updated(e,{value:t,oldValue:a},{transition:h}){!t!=!a&&(h?t?(h.beforeEnter(e),oi(e,!0),h.enter(e)):h.leave(e,()=>{oi(e,!1)}):oi(e,t))},beforeUnmount(e,{value:t}){oi(e,t)}};function oi(e,t){e.style.display=t?e[rr]:"none",e[Pc]=!t}const hd=Symbol(""),dd=/(^|;)\s*display\s*:/;function gd(e,t,a){const h=e.style,v=Le(a);let p=!1;if(a&&!v){if(t)if(Le(t))for(const y of t.split(";")){const f=y.slice(0,y.indexOf(":")).trim();a[f]==null&&$i(h,f,"")}else for(const y in t)a[y]==null&&$i(h,y,"");for(const y in a)y==="display"&&(p=!0),$i(h,y,a[y])}else if(v){if(t!==a){const y=h[hd];y&&(a+=";"+y),h.cssText=a,p=dd.test(a)}}else t&&e.removeAttribute("style");rr in e&&(e[rr]=p?h.display:"",e[Pc]&&(h.display="none"))}const $a=/\s*!important$/;function $i(e,t,a){if(me(a))a.forEach(h=>$i(e,t,h));else if(a==null&&(a=""),t.startsWith("--"))e.setProperty(t,a);else{const h=vd(e,t);$a.test(a)?e.setProperty(Pn(h),a.replace($a,""),"important"):e[h]=a}}const Ka=["Webkit","Moz","ms"],Xr={};function vd(e,t){const a=Xr[t];if(a)return a;let h=tt(t);if(h!=="filter"&&h in e)return Xr[t]=h;h=Qn(h);for(let v=0;v<Ka.length;v++){const p=Ka[v]+h;if(p in e)return Xr[t]=p}return t}const qa="http://www.w3.org/1999/xlink";function Ja(e,t,a,h,v,p=Pf(t)){h&&t.startsWith("xlink:")?a==null?e.removeAttributeNS(qa,t.slice(6,t.length)):e.setAttributeNS(qa,t,a):a==null||p&&!pl(a)?e.removeAttribute(t):e.setAttribute(t,p?"":Zn(a)?String(a):a)}function Za(e,t,a,h,v){if(t==="innerHTML"||t==="textContent"){a!=null&&(e[t]=t==="innerHTML"?wc(a):a);return}const p=e.tagName;if(t==="value"&&p!=="PROGRESS"&&!p.includes("-")){const f=p==="OPTION"?e.getAttribute("value")||"":e.value,r=a==null?e.type==="checkbox"?"on":"":String(a);(f!==r||!("_value"in e))&&(e.value=r),a==null&&e.removeAttribute(t),e._value=a;return}let y=!1;if(a===""||a==null){const f=typeof e[t];f==="boolean"?a=pl(a):a==null&&f==="string"?(a="",y=!0):f==="number"&&(a=0,y=!0)}try{e[t]=a}catch{}y&&e.removeAttribute(v||t)}function md(e,t,a,h){e.addEventListener(t,a,h)}function pd(e,t,a,h){e.removeEventListener(t,a,h)}const Qa=Symbol("_vei");function yd(e,t,a,h,v=null){const p=e[Qa]||(e[Qa]={}),y=p[t];if(h&&y)y.value=h;else{const[f,r]=bd(t);if(h){const u=p[t]=Sd(h,v);md(e,f,u,r)}else y&&(pd(e,f,y,r),p[t]=void 0)}}const eo=/(?:Once|Passive|Capture)$/;function bd(e){let t;if(eo.test(e)){t={};let h;for(;h=e.match(eo);)e=e.slice(0,e.length-h[0].length),t[h[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Pn(e.slice(2)),t]}let Ur=0;const _d=Promise.resolve(),Cd=()=>Ur||(_d.then(()=>Ur=0),Ur=Date.now());function Sd(e,t){const a=h=>{if(!h._vts)h._vts=Date.now();else if(h._vts<=a.attached)return;bt(wd(h,a.value),t,5,[h])};return a.value=e,a.attached=Cd(),a}function wd(e,t){if(me(t)){const a=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{a.call(e),e._stopped=!0},t.map(h=>v=>!v._stopped&&h&&h(v))}else return t}const to=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,xd=(e,t,a,h,v,p)=>{const y=v==="svg";t==="class"?fd(e,h,y):t==="style"?gd(e,a,h):dr(t)?Ds(t)||yd(e,t,a,h,p):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Td(e,t,h,y))?(Za(e,t,h),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ja(e,t,h,y,p,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Le(h))?Za(e,tt(t),h,p,t):(t==="true-value"?e._trueValue=h:t==="false-value"&&(e._falseValue=h),Ja(e,t,h,y))};function Td(e,t,a,h){if(h)return!!(t==="innerHTML"||t==="textContent"||t in e&&to(t)&&pe(a));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const v=e.tagName;if(v==="IMG"||v==="VIDEO"||v==="CANVAS"||v==="SOURCE")return!1}return to(t)&&Le(a)?!1:t in e}const Ec=new WeakMap,Ac=new WeakMap,sr=Symbol("_moveCb"),no=Symbol("_enterCb"),Od=e=>(delete e.props.mode,e),kd=Od({name:"TransitionGroup",props:Be({},Tc,{tag:String,moveClass:String}),setup(e,{slots:t}){const a=ia(),h=zl();let v,p;return qs(()=>{if(!v.length)return;const y=e.moveClass||`${e.name||"v"}-move`;if(!Dd(v[0].el,a.vnode.el,y))return;v.forEach(Pd),v.forEach(Ed);const f=v.filter(Ad);us(),f.forEach(r=>{const u=r.el,c=u.style;xt(u,y),c.transform=c.webkitTransform=c.transitionDuration="";const n=u[sr]=s=>{s&&s.target!==u||(!s||/transform$/.test(s.propertyName))&&(u.removeEventListener("transitionend",n),u[sr]=null,Yt(u,y))};u.addEventListener("transitionend",n)})}),()=>{const y=de(e),f=Oc(y);let r=y.tag||Re;if(v=[],p)for(let u=0;u<p.length;u++){const c=p[u];c.el&&c.el instanceof Element&&(v.push(c),On(c,xi(c,f,h,a)),Ec.set(c,c.el.getBoundingClientRect()))}p=t.default?$s(t.default()):[];for(let u=0;u<p.length;u++){const c=p[u];c.key!=null&&On(c,xi(c,f,h,a))}return Y(r,null,p)}}}),sa=kd;function Pd(e){const t=e.el;t[sr]&&t[sr](),t[no]&&t[no]()}function Ed(e){Ac.set(e,e.el.getBoundingClientRect())}function Ad(e){const t=Ec.get(e),a=Ac.get(e),h=t.left-a.left,v=t.top-a.top;if(h||v){const p=e.el.style;return p.transform=p.webkitTransform=`translate(${h}px,${v}px)`,p.transitionDuration="0s",e}}function Dd(e,t,a){const h=e.cloneNode(),v=e[$n];v&&v.forEach(f=>{f.split(/\s+/).forEach(r=>r&&h.classList.remove(r))}),a.split(/\s+/).forEach(f=>f&&h.classList.add(f)),h.style.display="none";const p=t.nodeType===1?t:t.parentNode;p.appendChild(h);const{hasTransform:y}=kc(h);return p.removeChild(h),y}const Md=Be({patchProp:xd},od);let io;function Fd(){return io||(io=Mh(Md))}const Id=(...e)=>{const t=Fd().createApp(...e),{mount:a}=t;return t.mount=h=>{const v=Rd(h);if(!v)return;const p=t._component;!pe(p)&&!p.render&&!p.template&&(p.template=v.innerHTML),v.nodeType===1&&(v.textContent="");const y=a(v,!1,Ld(v));return v instanceof Element&&(v.removeAttribute("v-cloak"),v.setAttribute("data-v-app","")),y},t};function Ld(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Rd(e){return Le(e)?document.querySelector(e):e}var Bd=!1;/*!
 * pinia v2.3.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let Dc;const Tr=e=>Dc=e,Mc=Symbol();function fs(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var yi;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(yi||(yi={}));function jd(){const e=Rs(!0),t=e.run(()=>be({}));let a=[],h=[];const v=Us({install(p){Tr(v),v._a=p,p.provide(Mc,v),p.config.globalProperties.$pinia=v,h.forEach(y=>a.push(y)),h=[]},use(p){return!this._a&&!Bd?h.push(p):a.push(p),this},_p:a,_a:null,_e:e,_s:new Map,state:t});return v}const Fc=()=>{};function ro(e,t,a,h=Fc){e.push(t);const v=()=>{const p=e.indexOf(t);p>-1&&(e.splice(p,1),h())};return!a&&bl()&&Bs(v),v}function Ln(e,...t){e.slice().forEach(a=>{a(...t)})}const Vd=e=>e(),so=Symbol(),Gr=Symbol();function hs(e,t){e instanceof Map&&t instanceof Map?t.forEach((a,h)=>e.set(h,a)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const a in t){if(!t.hasOwnProperty(a))continue;const h=t[a],v=e[a];fs(v)&&fs(h)&&e.hasOwnProperty(a)&&!Pe(h)&&!bn(h)?e[a]=hs(v,h):e[a]=h}return e}const Nd=Symbol();function Hd(e){return!fs(e)||!e.hasOwnProperty(Nd)}const{assign:zt}=Object;function Wd(e){return!!(Pe(e)&&e.effect)}function Yd(e,t,a,h){const{state:v,actions:p,getters:y}=t,f=a.state.value[e];let r;function u(){f||(a.state.value[e]=v?v():{});const c=yr(a.state.value[e]);return zt(c,p,Object.keys(y||{}).reduce((n,s)=>(n[s]=Us(U(()=>{Tr(a);const i=a._s.get(e);return y[s].call(i,i)})),n),{}))}return r=Ic(e,u,t,a,h,!0),r}function Ic(e,t,a={},h,v,p){let y;const f=zt({actions:{}},a),r={deep:!0};let u,c,n=[],s=[],i;const o=h.state.value[e];!p&&!o&&(h.state.value[e]={}),be({});let d;function l(P){let M;u=c=!1,typeof P=="function"?(P(h.state.value[e]),M={type:yi.patchFunction,storeId:e,events:i}):(hs(h.state.value[e],P),M={type:yi.patchObject,payload:P,storeId:e,events:i});const N=d=Symbol();nn().then(()=>{d===N&&(u=!0)}),c=!0,Ln(n,M,h.state.value[e])}const g=p?function(){const{state:M}=a,N=M?M():{};this.$patch(X=>{zt(X,N)})}:Fc;function m(){y.stop(),n=[],s=[],h._s.delete(e)}const b=(P,M="")=>{if(so in P)return P[Gr]=M,P;const N=function(){Tr(h);const X=Array.from(arguments),j=[],K=[];function ee(se){j.push(se)}function ne(se){K.push(se)}Ln(s,{args:X,name:N[Gr],store:C,after:ee,onError:ne});let ae;try{ae=P.apply(this&&this.$id===e?this:C,X)}catch(se){throw Ln(K,se),se}return ae instanceof Promise?ae.then(se=>(Ln(j,se),se)).catch(se=>(Ln(K,se),Promise.reject(se))):(Ln(j,ae),ae)};return N[so]=!0,N[Gr]=M,N},_={_p:h,$id:e,$onAction:ro.bind(null,s),$patch:l,$reset:g,$subscribe(P,M={}){const N=ro(n,P,M.detached,()=>X()),X=y.run(()=>Ce(()=>h.state.value[e],j=>{(M.flush==="sync"?c:u)&&P({storeId:e,type:yi.direct,events:i},j)},zt({},r,M)));return N},$dispose:m},C=Ne(_);h._s.set(e,C);const w=(h._a&&h._a.runWithContext||Vd)(()=>h._e.run(()=>(y=Rs()).run(()=>t({action:b}))));for(const P in w){const M=w[P];if(Pe(M)&&!Wd(M)||bn(M))p||(o&&Hd(M)&&(Pe(M)?M.value=o[P]:hs(M,o[P])),h.state.value[e][P]=M);else if(typeof M=="function"){const N=b(M,P);w[P]=N,f.actions[P]=M}}return zt(C,w),zt(de(C),w),Object.defineProperty(C,"$state",{get:()=>h.state.value[e],set:P=>{l(M=>{zt(M,P)})}}),h._p.forEach(P=>{zt(C,y.run(()=>P({store:C,app:h._a,pinia:h,options:f})))}),o&&p&&a.hydrate&&a.hydrate(C.$state,o),u=!0,c=!0,C}/*! #__NO_SIDE_EFFECTS__ */function zd(e,t,a){let h,v;const p=typeof t=="function";h=e,v=p?a:t;function y(f,r){const u=Th();return f=f||(u?Ae(Mc,null):null),f&&Tr(f),f=Dc,f._s.has(h)||(p?Ic(h,t,v,f):Yd(h,v,f)),f._s.get(h)}return y.$id=h,y}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Wn=typeof document<"u";function Lc(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Xd(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Lc(e.default)}const Te=Object.assign;function $r(e,t){const a={};for(const h in t){const v=t[h];a[h]=_t(v)?v.map(e):e(v)}return a}const bi=()=>{},_t=Array.isArray,Rc=/#/g,Ud=/&/g,Gd=/\//g,$d=/=/g,Kd=/\?/g,Bc=/\+/g,qd=/%5B/g,Jd=/%5D/g,jc=/%5E/g,Zd=/%60/g,Vc=/%7B/g,Qd=/%7C/g,Nc=/%7D/g,eg=/%20/g;function aa(e){return encodeURI(""+e).replace(Qd,"|").replace(qd,"[").replace(Jd,"]")}function tg(e){return aa(e).replace(Vc,"{").replace(Nc,"}").replace(jc,"^")}function ds(e){return aa(e).replace(Bc,"%2B").replace(eg,"+").replace(Rc,"%23").replace(Ud,"%26").replace(Zd,"`").replace(Vc,"{").replace(Nc,"}").replace(jc,"^")}function ng(e){return ds(e).replace($d,"%3D")}function ig(e){return aa(e).replace(Rc,"%23").replace(Kd,"%3F")}function rg(e){return e==null?"":ig(e).replace(Gd,"%2F")}function ki(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const sg=/\/$/,ag=e=>e.replace(sg,"");function Kr(e,t,a="/"){let h,v={},p="",y="";const f=t.indexOf("#");let r=t.indexOf("?");return f<r&&f>=0&&(r=-1),r>-1&&(h=t.slice(0,r),p=t.slice(r+1,f>-1?f:t.length),v=e(p)),f>-1&&(h=h||t.slice(0,f),y=t.slice(f,t.length)),h=ug(h??t,a),{fullPath:h+(p&&"?")+p+y,path:h,query:v,hash:ki(y)}}function og(e,t){const a=t.query?e(t.query):"";return t.path+(a&&"?")+a+(t.hash||"")}function ao(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function lg(e,t,a){const h=t.matched.length-1,v=a.matched.length-1;return h>-1&&h===v&&Kn(t.matched[h],a.matched[v])&&Hc(t.params,a.params)&&e(t.query)===e(a.query)&&t.hash===a.hash}function Kn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Hc(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const a in e)if(!cg(e[a],t[a]))return!1;return!0}function cg(e,t){return _t(e)?oo(e,t):_t(t)?oo(t,e):e===t}function oo(e,t){return _t(t)?e.length===t.length&&e.every((a,h)=>a===t[h]):e.length===1&&e[0]===t}function ug(e,t){if(e.startsWith("/"))return e;if(!e)return t;const a=t.split("/"),h=e.split("/"),v=h[h.length-1];(v===".."||v===".")&&h.push("");let p=a.length-1,y,f;for(y=0;y<h.length;y++)if(f=h[y],f!==".")if(f==="..")p>1&&p--;else break;return a.slice(0,p).join("/")+"/"+h.slice(y).join("/")}const Wt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Pi;(function(e){e.pop="pop",e.push="push"})(Pi||(Pi={}));var _i;(function(e){e.back="back",e.forward="forward",e.unknown=""})(_i||(_i={}));function fg(e){if(!e)if(Wn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),ag(e)}const hg=/^[^#]+#/;function dg(e,t){return e.replace(hg,"#")+t}function gg(e,t){const a=document.documentElement.getBoundingClientRect(),h=e.getBoundingClientRect();return{behavior:t.behavior,left:h.left-a.left-(t.left||0),top:h.top-a.top-(t.top||0)}}const Or=()=>({left:window.scrollX,top:window.scrollY});function vg(e){let t;if("el"in e){const a=e.el,h=typeof a=="string"&&a.startsWith("#"),v=typeof a=="string"?h?document.getElementById(a.slice(1)):document.querySelector(a):a;if(!v)return;t=gg(v,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function lo(e,t){return(history.state?history.state.position-t:-1)+e}const gs=new Map;function mg(e,t){gs.set(e,t)}function pg(e){const t=gs.get(e);return gs.delete(e),t}let yg=()=>location.protocol+"//"+location.host;function Wc(e,t){const{pathname:a,search:h,hash:v}=t,p=e.indexOf("#");if(p>-1){let f=v.includes(e.slice(p))?e.slice(p).length:1,r=v.slice(f);return r[0]!=="/"&&(r="/"+r),ao(r,"")}return ao(a,e)+h+v}function bg(e,t,a,h){let v=[],p=[],y=null;const f=({state:s})=>{const i=Wc(e,location),o=a.value,d=t.value;let l=0;if(s){if(a.value=i,t.value=s,y&&y===o){y=null;return}l=d?s.position-d.position:0}else h(i);v.forEach(g=>{g(a.value,o,{delta:l,type:Pi.pop,direction:l?l>0?_i.forward:_i.back:_i.unknown})})};function r(){y=a.value}function u(s){v.push(s);const i=()=>{const o=v.indexOf(s);o>-1&&v.splice(o,1)};return p.push(i),i}function c(){const{history:s}=window;s.state&&s.replaceState(Te({},s.state,{scroll:Or()}),"")}function n(){for(const s of p)s();p=[],window.removeEventListener("popstate",f),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",f),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:r,listen:u,destroy:n}}function co(e,t,a,h=!1,v=!1){return{back:e,current:t,forward:a,replaced:h,position:window.history.length,scroll:v?Or():null}}function _g(e){const{history:t,location:a}=window,h={value:Wc(e,a)},v={value:t.state};v.value||p(h.value,{back:null,current:h.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function p(r,u,c){const n=e.indexOf("#"),s=n>-1?(a.host&&document.querySelector("base")?e:e.slice(n))+r:yg()+e+r;try{t[c?"replaceState":"pushState"](u,"",s),v.value=u}catch(i){console.error(i),a[c?"replace":"assign"](s)}}function y(r,u){const c=Te({},t.state,co(v.value.back,r,v.value.forward,!0),u,{position:v.value.position});p(r,c,!0),h.value=r}function f(r,u){const c=Te({},v.value,t.state,{forward:r,scroll:Or()});p(c.current,c,!0);const n=Te({},co(h.value,r,null),{position:c.position+1},u);p(r,n,!1),h.value=r}return{location:h,state:v,push:f,replace:y}}function Cg(e){e=fg(e);const t=_g(e),a=bg(e,t.state,t.location,t.replace);function h(p,y=!0){y||a.pauseListeners(),history.go(p)}const v=Te({location:"",base:e,go:h,createHref:dg.bind(null,e)},t,a);return Object.defineProperty(v,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(v,"state",{enumerable:!0,get:()=>t.state.value}),v}function Sg(e){return typeof e=="string"||e&&typeof e=="object"}function Yc(e){return typeof e=="string"||typeof e=="symbol"}const zc=Symbol("");var uo;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(uo||(uo={}));function qn(e,t){return Te(new Error,{type:e,[zc]:!0},t)}function Ft(e,t){return e instanceof Error&&zc in e&&(t==null||!!(e.type&t))}const fo="[^/]+?",wg={sensitive:!1,strict:!1,start:!0,end:!0},xg=/[.+*?^${}()[\]/\\]/g;function Tg(e,t){const a=Te({},wg,t),h=[];let v=a.start?"^":"";const p=[];for(const u of e){const c=u.length?[]:[90];a.strict&&!u.length&&(v+="/");for(let n=0;n<u.length;n++){const s=u[n];let i=40+(a.sensitive?.25:0);if(s.type===0)n||(v+="/"),v+=s.value.replace(xg,"\\$&"),i+=40;else if(s.type===1){const{value:o,repeatable:d,optional:l,regexp:g}=s;p.push({name:o,repeatable:d,optional:l});const m=g||fo;if(m!==fo){i+=10;try{new RegExp(`(${m})`)}catch(_){throw new Error(`Invalid custom RegExp for param "${o}" (${m}): `+_.message)}}let b=d?`((?:${m})(?:/(?:${m}))*)`:`(${m})`;n||(b=l&&u.length<2?`(?:/${b})`:"/"+b),l&&(b+="?"),v+=b,i+=20,l&&(i+=-8),d&&(i+=-20),m===".*"&&(i+=-50)}c.push(i)}h.push(c)}if(a.strict&&a.end){const u=h.length-1;h[u][h[u].length-1]+=.7000000000000001}a.strict||(v+="/?"),a.end?v+="$":a.strict&&!v.endsWith("/")&&(v+="(?:/|$)");const y=new RegExp(v,a.sensitive?"":"i");function f(u){const c=u.match(y),n={};if(!c)return null;for(let s=1;s<c.length;s++){const i=c[s]||"",o=p[s-1];n[o.name]=i&&o.repeatable?i.split("/"):i}return n}function r(u){let c="",n=!1;for(const s of e){(!n||!c.endsWith("/"))&&(c+="/"),n=!1;for(const i of s)if(i.type===0)c+=i.value;else if(i.type===1){const{value:o,repeatable:d,optional:l}=i,g=o in u?u[o]:"";if(_t(g)&&!d)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);const m=_t(g)?g.join("/"):g;if(!m)if(l)s.length<2&&(c.endsWith("/")?c=c.slice(0,-1):n=!0);else throw new Error(`Missing required param "${o}"`);c+=m}}return c||"/"}return{re:y,score:h,keys:p,parse:f,stringify:r}}function Og(e,t){let a=0;for(;a<e.length&&a<t.length;){const h=t[a]-e[a];if(h)return h;a++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Xc(e,t){let a=0;const h=e.score,v=t.score;for(;a<h.length&&a<v.length;){const p=Og(h[a],v[a]);if(p)return p;a++}if(Math.abs(v.length-h.length)===1){if(ho(h))return 1;if(ho(v))return-1}return v.length-h.length}function ho(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const kg={type:0,value:""},Pg=/[a-zA-Z0-9_]/;function Eg(e){if(!e)return[[]];if(e==="/")return[[kg]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(i){throw new Error(`ERR (${a})/"${u}": ${i}`)}let a=0,h=a;const v=[];let p;function y(){p&&v.push(p),p=[]}let f=0,r,u="",c="";function n(){u&&(a===0?p.push({type:0,value:u}):a===1||a===2||a===3?(p.length>1&&(r==="*"||r==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),p.push({type:1,value:u,regexp:c,repeatable:r==="*"||r==="+",optional:r==="*"||r==="?"})):t("Invalid state to consume buffer"),u="")}function s(){u+=r}for(;f<e.length;){if(r=e[f++],r==="\\"&&a!==2){h=a,a=4;continue}switch(a){case 0:r==="/"?(u&&n(),y()):r===":"?(n(),a=1):s();break;case 4:s(),a=h;break;case 1:r==="("?a=2:Pg.test(r)?s():(n(),a=0,r!=="*"&&r!=="?"&&r!=="+"&&f--);break;case 2:r===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+r:a=3:c+=r;break;case 3:n(),a=0,r!=="*"&&r!=="?"&&r!=="+"&&f--,c="";break;default:t("Unknown state");break}}return a===2&&t(`Unfinished custom RegExp for param "${u}"`),n(),y(),v}function Ag(e,t,a){const h=Tg(Eg(e.path),a),v=Te(h,{record:e,parent:t,children:[],alias:[]});return t&&!v.record.aliasOf==!t.record.aliasOf&&t.children.push(v),v}function Dg(e,t){const a=[],h=new Map;t=po({strict:!1,end:!0,sensitive:!1},t);function v(n){return h.get(n)}function p(n,s,i){const o=!i,d=vo(n);d.aliasOf=i&&i.record;const l=po(t,n),g=[d];if("alias"in n){const _=typeof n.alias=="string"?[n.alias]:n.alias;for(const C of _)g.push(vo(Te({},d,{components:i?i.record.components:d.components,path:C,aliasOf:i?i.record:d})))}let m,b;for(const _ of g){const{path:C}=_;if(s&&C[0]!=="/"){const S=s.record.path,w=S[S.length-1]==="/"?"":"/";_.path=s.record.path+(C&&w+C)}if(m=Ag(_,s,l),i?i.alias.push(m):(b=b||m,b!==m&&b.alias.push(m),o&&n.name&&!mo(m)&&y(n.name)),Uc(m)&&r(m),d.children){const S=d.children;for(let w=0;w<S.length;w++)p(S[w],m,i&&i.children[w])}i=i||m}return b?()=>{y(b)}:bi}function y(n){if(Yc(n)){const s=h.get(n);s&&(h.delete(n),a.splice(a.indexOf(s),1),s.children.forEach(y),s.alias.forEach(y))}else{const s=a.indexOf(n);s>-1&&(a.splice(s,1),n.record.name&&h.delete(n.record.name),n.children.forEach(y),n.alias.forEach(y))}}function f(){return a}function r(n){const s=Ig(n,a);a.splice(s,0,n),n.record.name&&!mo(n)&&h.set(n.record.name,n)}function u(n,s){let i,o={},d,l;if("name"in n&&n.name){if(i=h.get(n.name),!i)throw qn(1,{location:n});l=i.record.name,o=Te(go(s.params,i.keys.filter(b=>!b.optional).concat(i.parent?i.parent.keys.filter(b=>b.optional):[]).map(b=>b.name)),n.params&&go(n.params,i.keys.map(b=>b.name))),d=i.stringify(o)}else if(n.path!=null)d=n.path,i=a.find(b=>b.re.test(d)),i&&(o=i.parse(d),l=i.record.name);else{if(i=s.name?h.get(s.name):a.find(b=>b.re.test(s.path)),!i)throw qn(1,{location:n,currentLocation:s});l=i.record.name,o=Te({},s.params,n.params),d=i.stringify(o)}const g=[];let m=i;for(;m;)g.unshift(m.record),m=m.parent;return{name:l,path:d,params:o,matched:g,meta:Fg(g)}}e.forEach(n=>p(n));function c(){a.length=0,h.clear()}return{addRoute:p,resolve:u,removeRoute:y,clearRoutes:c,getRoutes:f,getRecordMatcher:v}}function go(e,t){const a={};for(const h of t)h in e&&(a[h]=e[h]);return a}function vo(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Mg(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Mg(e){const t={},a=e.props||!1;if("component"in e)t.default=a;else for(const h in e.components)t[h]=typeof a=="object"?a[h]:a;return t}function mo(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Fg(e){return e.reduce((t,a)=>Te(t,a.meta),{})}function po(e,t){const a={};for(const h in e)a[h]=h in t?t[h]:e[h];return a}function Ig(e,t){let a=0,h=t.length;for(;a!==h;){const p=a+h>>1;Xc(e,t[p])<0?h=p:a=p+1}const v=Lg(e);return v&&(h=t.lastIndexOf(v,h-1)),h}function Lg(e){let t=e;for(;t=t.parent;)if(Uc(t)&&Xc(e,t)===0)return t}function Uc({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Rg(e){const t={};if(e===""||e==="?")return t;const h=(e[0]==="?"?e.slice(1):e).split("&");for(let v=0;v<h.length;++v){const p=h[v].replace(Bc," "),y=p.indexOf("="),f=ki(y<0?p:p.slice(0,y)),r=y<0?null:ki(p.slice(y+1));if(f in t){let u=t[f];_t(u)||(u=t[f]=[u]),u.push(r)}else t[f]=r}return t}function yo(e){let t="";for(let a in e){const h=e[a];if(a=ng(a),h==null){h!==void 0&&(t+=(t.length?"&":"")+a);continue}(_t(h)?h.map(p=>p&&ds(p)):[h&&ds(h)]).forEach(p=>{p!==void 0&&(t+=(t.length?"&":"")+a,p!=null&&(t+="="+p))})}return t}function Bg(e){const t={};for(const a in e){const h=e[a];h!==void 0&&(t[a]=_t(h)?h.map(v=>v==null?null:""+v):h==null?h:""+h)}return t}const jg=Symbol(""),bo=Symbol(""),oa=Symbol(""),Gc=Symbol(""),vs=Symbol("");function li(){let e=[];function t(h){return e.push(h),()=>{const v=e.indexOf(h);v>-1&&e.splice(v,1)}}function a(){e=[]}return{add:t,list:()=>e.slice(),reset:a}}function $t(e,t,a,h,v,p=y=>y()){const y=h&&(h.enterCallbacks[v]=h.enterCallbacks[v]||[]);return()=>new Promise((f,r)=>{const u=s=>{s===!1?r(qn(4,{from:a,to:t})):s instanceof Error?r(s):Sg(s)?r(qn(2,{from:t,to:s})):(y&&h.enterCallbacks[v]===y&&typeof s=="function"&&y.push(s),f())},c=p(()=>e.call(h&&h.instances[v],t,a,u));let n=Promise.resolve(c);e.length<3&&(n=n.then(u)),n.catch(s=>r(s))})}function qr(e,t,a,h,v=p=>p()){const p=[];for(const y of e)for(const f in y.components){let r=y.components[f];if(!(t!=="beforeRouteEnter"&&!y.instances[f]))if(Lc(r)){const c=(r.__vccOpts||r)[t];c&&p.push($t(c,a,h,y,f,v))}else{let u=r();p.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${f}" at "${y.path}"`);const n=Xd(c)?c.default:c;y.mods[f]=c,y.components[f]=n;const i=(n.__vccOpts||n)[t];return i&&$t(i,a,h,y,f,v)()}))}}return p}function _o(e){const t=Ae(oa),a=Ae(Gc),h=U(()=>{const r=Ve(e.to);return t.resolve(r)}),v=U(()=>{const{matched:r}=h.value,{length:u}=r,c=r[u-1],n=a.matched;if(!c||!n.length)return-1;const s=n.findIndex(Kn.bind(null,c));if(s>-1)return s;const i=Co(r[u-2]);return u>1&&Co(c)===i&&n[n.length-1].path!==i?n.findIndex(Kn.bind(null,r[u-2])):s}),p=U(()=>v.value>-1&&Yg(a.params,h.value.params)),y=U(()=>v.value>-1&&v.value===a.matched.length-1&&Hc(a.params,h.value.params));function f(r={}){if(Wg(r)){const u=t[Ve(e.replace)?"replace":"push"](Ve(e.to)).catch(bi);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:h,href:U(()=>h.value.href),isActive:p,isExactActive:y,navigate:f}}function Vg(e){return e.length===1?e[0]:e}const Ng=Ks({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:_o,setup(e,{slots:t}){const a=Ne(_o(e)),{options:h}=Ae(oa),v=U(()=>({[So(e.activeClass,h.linkActiveClass,"router-link-active")]:a.isActive,[So(e.exactActiveClass,h.linkExactActiveClass,"router-link-exact-active")]:a.isExactActive}));return()=>{const p=t.default&&Vg(t.default(a));return e.custom?p:rn("a",{"aria-current":a.isExactActive?e.ariaCurrentValue:null,href:a.href,onClick:a.navigate,class:v.value},p)}}}),Hg=Ng;function Wg(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Yg(e,t){for(const a in t){const h=t[a],v=e[a];if(typeof h=="string"){if(h!==v)return!1}else if(!_t(v)||v.length!==h.length||h.some((p,y)=>p!==v[y]))return!1}return!0}function Co(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const So=(e,t,a)=>e??t??a,zg=Ks({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:a}){const h=Ae(vs),v=U(()=>e.route||h.value),p=Ae(bo,0),y=U(()=>{let u=Ve(p);const{matched:c}=v.value;let n;for(;(n=c[u])&&!n.components;)u++;return u}),f=U(()=>v.value.matched[y.value]);ze(bo,U(()=>y.value+1)),ze(jg,f),ze(vs,v);const r=be();return Ce(()=>[r.value,f.value,e.name],([u,c,n],[s,i,o])=>{c&&(c.instances[n]=u,i&&i!==c&&u&&u===s&&(c.leaveGuards.size||(c.leaveGuards=i.leaveGuards),c.updateGuards.size||(c.updateGuards=i.updateGuards))),u&&c&&(!i||!Kn(c,i)||!s)&&(c.enterCallbacks[n]||[]).forEach(d=>d(u))},{flush:"post"}),()=>{const u=v.value,c=e.name,n=f.value,s=n&&n.components[c];if(!s)return wo(a.default,{Component:s,route:u});const i=n.props[c],o=i?i===!0?u.params:typeof i=="function"?i(u):i:null,l=rn(s,Te({},o,t,{onVnodeUnmounted:g=>{g.component.isUnmounted&&(n.instances[c]=null)},ref:r}));return wo(a.default,{Component:l,route:u})||l}}});function wo(e,t){if(!e)return null;const a=e(t);return a.length===1?a[0]:a}const $c=zg;function Xg(e){const t=Dg(e.routes,e),a=e.parseQuery||Rg,h=e.stringifyQuery||yo,v=e.history,p=li(),y=li(),f=li(),r=ye(Wt);let u=Wt;Wn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=$r.bind(null,A=>""+A),n=$r.bind(null,rg),s=$r.bind(null,ki);function i(A,z){let H,$;return Yc(A)?(H=t.getRecordMatcher(A),$=z):$=A,t.addRoute($,H)}function o(A){const z=t.getRecordMatcher(A);z&&t.removeRoute(z)}function d(){return t.getRoutes().map(A=>A.record)}function l(A){return!!t.getRecordMatcher(A)}function g(A,z){if(z=Te({},z||r.value),typeof A=="string"){const O=Kr(a,A,z.path),V=t.resolve({path:O.path},z),W=v.createHref(O.fullPath);return Te(O,V,{params:s(V.params),hash:ki(O.hash),redirectedFrom:void 0,href:W})}let H;if(A.path!=null)H=Te({},A,{path:Kr(a,A.path,z.path).path});else{const O=Te({},A.params);for(const V in O)O[V]==null&&delete O[V];H=Te({},A,{params:n(O)}),z.params=n(z.params)}const $=t.resolve(H,z),te=A.hash||"";$.params=c(s($.params));const k=og(h,Te({},A,{hash:tg(te),path:$.path})),x=v.createHref(k);return Te({fullPath:k,hash:te,query:h===yo?Bg(A.query):A.query||{}},$,{redirectedFrom:void 0,href:x})}function m(A){return typeof A=="string"?Kr(a,A,r.value.path):Te({},A)}function b(A,z){if(u!==A)return qn(8,{from:z,to:A})}function _(A){return w(A)}function C(A){return _(Te(m(A),{replace:!0}))}function S(A){const z=A.matched[A.matched.length-1];if(z&&z.redirect){const{redirect:H}=z;let $=typeof H=="function"?H(A):H;return typeof $=="string"&&($=$.includes("?")||$.includes("#")?$=m($):{path:$},$.params={}),Te({query:A.query,hash:A.hash,params:$.path!=null?{}:A.params},$)}}function w(A,z){const H=u=g(A),$=r.value,te=A.state,k=A.force,x=A.replace===!0,O=S(H);if(O)return w(Te(m(O),{state:typeof O=="object"?Te({},te,O.state):te,force:k,replace:x}),z||H);const V=H;V.redirectedFrom=z;let W;return!k&&lg(h,$,H)&&(W=qn(16,{to:V,from:$}),F($,$,!0,!1)),(W?Promise.resolve(W):N(V,$)).catch(R=>Ft(R)?Ft(R,2)?R:L(R):oe(R,V,$)).then(R=>{if(R){if(Ft(R,2))return w(Te({replace:x},m(R.to),{state:typeof R.to=="object"?Te({},te,R.to.state):te,force:k}),z||V)}else R=j(V,$,!0,x,te);return X(V,$,R),R})}function P(A,z){const H=b(A,z);return H?Promise.reject(H):Promise.resolve()}function M(A){const z=D.values().next().value;return z&&typeof z.runWithContext=="function"?z.runWithContext(A):A()}function N(A,z){let H;const[$,te,k]=Ug(A,z);H=qr($.reverse(),"beforeRouteLeave",A,z);for(const O of $)O.leaveGuards.forEach(V=>{H.push($t(V,A,z))});const x=P.bind(null,A,z);return H.push(x),B(H).then(()=>{H=[];for(const O of p.list())H.push($t(O,A,z));return H.push(x),B(H)}).then(()=>{H=qr(te,"beforeRouteUpdate",A,z);for(const O of te)O.updateGuards.forEach(V=>{H.push($t(V,A,z))});return H.push(x),B(H)}).then(()=>{H=[];for(const O of k)if(O.beforeEnter)if(_t(O.beforeEnter))for(const V of O.beforeEnter)H.push($t(V,A,z));else H.push($t(O.beforeEnter,A,z));return H.push(x),B(H)}).then(()=>(A.matched.forEach(O=>O.enterCallbacks={}),H=qr(k,"beforeRouteEnter",A,z,M),H.push(x),B(H))).then(()=>{H=[];for(const O of y.list())H.push($t(O,A,z));return H.push(x),B(H)}).catch(O=>Ft(O,8)?O:Promise.reject(O))}function X(A,z,H){f.list().forEach($=>M(()=>$(A,z,H)))}function j(A,z,H,$,te){const k=b(A,z);if(k)return k;const x=z===Wt,O=Wn?history.state:{};H&&($||x?v.replace(A.fullPath,Te({scroll:x&&O&&O.scroll},te)):v.push(A.fullPath,te)),r.value=A,F(A,z,H,x),L()}let K;function ee(){K||(K=v.listen((A,z,H)=>{if(!E.listening)return;const $=g(A),te=S($);if(te){w(Te(te,{replace:!0,force:!0}),$).catch(bi);return}u=$;const k=r.value;Wn&&mg(lo(k.fullPath,H.delta),Or()),N($,k).catch(x=>Ft(x,12)?x:Ft(x,2)?(w(Te(m(x.to),{force:!0}),$).then(O=>{Ft(O,20)&&!H.delta&&H.type===Pi.pop&&v.go(-1,!1)}).catch(bi),Promise.reject()):(H.delta&&v.go(-H.delta,!1),oe(x,$,k))).then(x=>{x=x||j($,k,!1),x&&(H.delta&&!Ft(x,8)?v.go(-H.delta,!1):H.type===Pi.pop&&Ft(x,20)&&v.go(-1,!1)),X($,k,x)}).catch(bi)}))}let ne=li(),ae=li(),se;function oe(A,z,H){L(A);const $=ae.list();return $.length?$.forEach(te=>te(A,z,H)):console.error(A),Promise.reject(A)}function T(){return se&&r.value!==Wt?Promise.resolve():new Promise((A,z)=>{ne.add([A,z])})}function L(A){return se||(se=!A,ee(),ne.list().forEach(([z,H])=>A?H(A):z()),ne.reset()),A}function F(A,z,H,$){const{scrollBehavior:te}=e;if(!Wn||!te)return Promise.resolve();const k=!H&&pg(lo(A.fullPath,0))||($||!H)&&history.state&&history.state.scroll||null;return nn().then(()=>te(A,z,k)).then(x=>x&&vg(x)).catch(x=>oe(x,A,z))}const I=A=>v.go(A);let J;const D=new Set,E={currentRoute:r,listening:!0,addRoute:i,removeRoute:o,clearRoutes:t.clearRoutes,hasRoute:l,getRoutes:d,resolve:g,options:e,push:_,replace:C,go:I,back:()=>I(-1),forward:()=>I(1),beforeEach:p.add,beforeResolve:y.add,afterEach:f.add,onError:ae.add,isReady:T,install(A){const z=this;A.component("RouterLink",Hg),A.component("RouterView",$c),A.config.globalProperties.$router=z,Object.defineProperty(A.config.globalProperties,"$route",{enumerable:!0,get:()=>Ve(r)}),Wn&&!J&&r.value===Wt&&(J=!0,_(v.location).catch(te=>{}));const H={};for(const te in Wt)Object.defineProperty(H,te,{get:()=>r.value[te],enumerable:!0});A.provide(oa,z),A.provide(Gc,Il(H)),A.provide(vs,r);const $=A.unmount;D.add(A),A.unmount=function(){D.delete(A),D.size<1&&(u=Wt,K&&K(),K=null,r.value=Wt,J=!1,se=!1),$()}}};function B(A){return A.reduce((z,H)=>z.then(()=>M(H)),Promise.resolve())}return E}function Ug(e,t){const a=[],h=[],v=[],p=Math.max(t.matched.length,e.matched.length);for(let y=0;y<p;y++){const f=t.matched[y];f&&(e.matched.find(u=>Kn(u,f))?h.push(f):a.push(f));const r=e.matched[y];r&&(t.matched.find(u=>Kn(u,r))||v.push(r))}return[a,h,v]}function ue(e,t){return a=>Object.keys(e).reduce((h,v)=>{const y=typeof e[v]=="object"&&e[v]!=null&&!Array.isArray(e[v])?e[v]:{type:e[v]};return a&&v in a?h[v]={...y,default:a[v]}:h[v]=y,t&&!h[v].source&&(h[v].source=t),h},{})}const ke=ue({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component"),et=typeof window<"u",la=et&&"IntersectionObserver"in window,Gg=et&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),xo=et&&"EyeDropper"in window;function To(e,t,a){$g(e,t),t.set(e,a)}function $g(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Kg(e,t,a){return e.set(Kc(e,t),a),a}function dn(e,t){return e.get(Kc(e,t))}function Kc(e,t,a){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:a;throw new TypeError("Private element is not present on this object")}function qc(e,t,a){const h=t.length-1;if(h<0)return e===void 0?a:e;for(let v=0;v<h;v++){if(e==null)return a;e=e[t[v]]}return e==null||e[t[h]]===void 0?a:e[t[h]]}function Bi(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date&&e.getTime()!==t.getTime()||e!==Object(e)||t!==Object(t))return!1;const a=Object.keys(e);return a.length!==Object.keys(t).length?!1:a.every(h=>Bi(e[h],t[h]))}function ms(e,t,a){return e==null||!t||typeof t!="string"?a:e[t]!==void 0?e[t]:(t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,""),qc(e,t.split("."),a))}function ci(e,t,a){if(t===!0)return e===void 0?a:e;if(t==null||typeof t=="boolean")return a;if(e!==Object(e)){if(typeof t!="function")return a;const v=t(e,a);return typeof v>"u"?a:v}if(typeof t=="string")return ms(e,t,a);if(Array.isArray(t))return qc(e,t,a);if(typeof t!="function")return a;const h=t(e,a);return typeof h>"u"?a:h}function ca(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:e},(a,h)=>t+h)}function _e(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(e==null||e===""))return isNaN(+e)?String(e):isFinite(+e)?`${Number(e)}${t}`:void 0}function qg(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function Oo(e){let t;return e!==null&&typeof e=="object"&&((t=Object.getPrototypeOf(e))===Object.prototype||t===null)}function Jg(e){if(e&&"$el"in e){const t=e.$el;return(t==null?void 0:t.nodeType)===Node.TEXT_NODE?t.nextElementSibling:t}return e}const ko=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),Zg=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function pn(e,t){return t.every(a=>e.hasOwnProperty(a))}function Qg(e,t){const a={},h=new Set(Object.keys(e));for(const v of t)h.has(v)&&(a[v]=e[v]);return a}function Jc(e,t){const a={...e};return t.forEach(h=>delete a[h]),a}function ev(e,t){const a={};return t.forEach(h=>a[h]=e[h]),a}function Cn(e){return e==null?[]:Array.isArray(e)?e:[e]}function Kt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(t,Math.min(a,e))}function Po(e){const t=e.toString().trim();return t.includes(".")?t.length-t.indexOf(".")-1:0}function Eo(e,t){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return e+a.repeat(Math.max(0,t-e.length))}function Ao(e,t){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,t-e.length))+e}function tv(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const a=[];let h=0;for(;h<e.length;)a.push(e.substr(h,t)),h+=t;return a}function lt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;const h={};for(const v in e)h[v]=e[v];for(const v in t){const p=e[v],y=t[v];if(Oo(p)&&Oo(y)){h[v]=lt(p,y,a);continue}if(a&&Array.isArray(p)&&Array.isArray(y)){h[v]=a(p,y);continue}h[v]=y}return h}function Zc(e){return e.map(t=>t.type===Re?Zc(t.children):t).flat()}function Sn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(Sn.cache.has(e))return Sn.cache.get(e);const t=e.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return Sn.cache.set(e,t),t}Sn.cache=new Map;function Yn(e,t){if(!t||typeof t!="object")return[];if(Array.isArray(t))return t.map(a=>Yn(e,a)).flat(1);if(t.suspense)return Yn(e,t.ssContent);if(Array.isArray(t.children))return t.children.map(a=>Yn(e,a)).flat(1);if(t.component){if(Object.getOwnPropertySymbols(t.component.provides).includes(e))return[t.component];if(t.component.subTree)return Yn(e,t.component.subTree).flat(1)}return[]}var Yi=new WeakMap,Rn=new WeakMap;class nv{constructor(t){To(this,Yi,[]),To(this,Rn,0),this.size=t}push(t){dn(Yi,this)[dn(Rn,this)]=t,Kg(Rn,this,(dn(Rn,this)+1)%this.size)}values(){return dn(Yi,this).slice(dn(Rn,this)).concat(dn(Yi,this).slice(0,dn(Rn,this)))}}function iv(e){return"touches"in e?{clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}:{clientX:e.clientX,clientY:e.clientY}}function Qc(e){const t=Ne({}),a=U(e);return En(()=>{for(const h in a.value)t[h]=a.value[h]},{flush:"sync"}),yr(t)}function ps(e,t){return e.includes(t)}const Bt=()=>[Function,Array];function Do(e,t){return t="on"+Qn(t),!!(e[t]||e[`${t}Once`]||e[`${t}Capture`]||e[`${t}OnceCapture`]||e[`${t}CaptureOnce`])}function rv(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const a=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(h=>`${h}${t?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...e.querySelectorAll(a)]}function sv(e,t,a){let h,v=e.indexOf(document.activeElement);const p=t==="next"?1:-1;do v+=p,h=e[v];while((!h||h.offsetParent==null)&&v<e.length&&v>=0);return h}function eu(e,t){var h,v,p,y;const a=rv(e);if(!t)(e===document.activeElement||!e.contains(document.activeElement))&&((h=a[0])==null||h.focus());else if(t==="first")(v=a[0])==null||v.focus();else if(t==="last")(p=a.at(-1))==null||p.focus();else if(typeof t=="number")(y=a[t])==null||y.focus();else{const f=sv(a,t);f?f.focus():eu(e,t==="next"?"first":"last")}}function av(e,t){if(!et||e===0)return t(),()=>{};const a=window.setTimeout(t,e);return()=>window.clearTimeout(a)}function ov(){const e=ye(),t=a=>{e.value=a};return Object.defineProperty(t,"value",{enumerable:!0,get:()=>e.value,set:a=>e.value=a}),Object.defineProperty(t,"el",{enumerable:!0,get:()=>Jg(e.value)}),t}const lv=["top","bottom"],cv=["start","end","left","right"];function uv(e,t){let[a,h]=e.split(" ");return h||(h=ps(lv,a)?"start":ps(cv,a)?"top":"center"),{side:ys(a,t),align:ys(h,t)}}function ys(e,t){return e==="start"?t?"right":"left":e==="end"?t?"left":"right":e}const Bn=2.4,Mo=.2126729,Fo=.7151522,Io=.072175,fv=.55,hv=.58,dv=.57,gv=.62,zi=.03,Lo=1.45,vv=5e-4,mv=1.25,pv=1.25,Ro=.078,Bo=12.82051282051282,Xi=.06,jo=.001;function Vo(e,t){const a=(e.r/255)**Bn,h=(e.g/255)**Bn,v=(e.b/255)**Bn,p=(t.r/255)**Bn,y=(t.g/255)**Bn,f=(t.b/255)**Bn;let r=a*Mo+h*Fo+v*Io,u=p*Mo+y*Fo+f*Io;if(r<=zi&&(r+=(zi-r)**Lo),u<=zi&&(u+=(zi-u)**Lo),Math.abs(u-r)<vv)return 0;let c;if(u>r){const n=(u**fv-r**hv)*mv;c=n<jo?0:n<Ro?n-n*Bo*Xi:n-Xi}else{const n=(u**gv-r**dv)*pv;c=n>-jo?0:n>-Ro?n-n*Bo*Xi:n+Xi}return c*100}function yv(e,t){t=Array.isArray(t)?t.slice(0,-1).map(a=>`'${a}'`).join(", ")+` or '${t.at(-1)}'`:`'${t}'`}const ar=.20689655172413793,bv=e=>e>ar**3?Math.cbrt(e):e/(3*ar**2)+4/29,_v=e=>e>ar?e**3:3*ar**2*(e-4/29);function tu(e){const t=bv,a=t(e[1]);return[116*a-16,500*(t(e[0]/.95047)-a),200*(a-t(e[2]/1.08883))]}function nu(e){const t=_v,a=(e[0]+16)/116;return[t(a+e[1]/500)*.95047,t(a),t(a-e[2]/200)*1.08883]}const Cv=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],Sv=e=>e<=.0031308?e*12.92:1.055*e**(1/2.4)-.055,wv=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],xv=e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4;function iu(e){const t=Array(3),a=Sv,h=Cv;for(let v=0;v<3;++v)t[v]=Math.round(Kt(a(h[v][0]*e[0]+h[v][1]*e[1]+h[v][2]*e[2]))*255);return{r:t[0],g:t[1],b:t[2]}}function ua(e){let{r:t,g:a,b:h}=e;const v=[0,0,0],p=xv,y=wv;t=p(t/255),a=p(a/255),h=p(h/255);for(let f=0;f<3;++f)v[f]=y[f][0]*t+y[f][1]*a+y[f][2]*h;return v}function bs(e){return!!e&&/^(#|var\(--|(rgb|hsl)a?\()/.test(e)}function Tv(e){return bs(e)&&!/^((rgb|hsl)a?\()?var\(--/.test(e)}const No=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,Ov={rgb:(e,t,a,h)=>({r:e,g:t,b:a,a:h}),rgba:(e,t,a,h)=>({r:e,g:t,b:a,a:h}),hsl:(e,t,a,h)=>Ho({h:e,s:t,l:a,a:h}),hsla:(e,t,a,h)=>Ho({h:e,s:t,l:a,a:h}),hsv:(e,t,a,h)=>jt({h:e,s:t,v:a,a:h}),hsva:(e,t,a,h)=>jt({h:e,s:t,v:a,a:h})};function gt(e){if(typeof e=="number")return{r:(e&16711680)>>16,g:(e&65280)>>8,b:e&255};if(typeof e=="string"&&No.test(e)){const{groups:t}=e.match(No),{fn:a,values:h}=t,v=h.split(/,\s*/).map(p=>p.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(a)?parseFloat(p)/100:parseFloat(p));return Ov[a](...v)}else if(typeof e=="string"){let t=e.startsWith("#")?e.slice(1):e;return[3,4].includes(t.length)?t=t.split("").map(a=>a+a).join(""):[6,8].includes(t.length),lu(t)}else if(typeof e=="object"){if(pn(e,["r","g","b"]))return e;if(pn(e,["h","s","l"]))return jt(fa(e));if(pn(e,["h","s","v"]))return jt(e)}throw new TypeError(`Invalid color: ${e==null?e:String(e)||e.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function jt(e){const{h:t,s:a,v:h,a:v}=e,p=f=>{const r=(f+t/60)%6;return h-h*a*Math.max(Math.min(r,4-r,1),0)},y=[p(5),p(3),p(1)].map(f=>Math.round(f*255));return{r:y[0],g:y[1],b:y[2],a:v}}function Ho(e){return jt(fa(e))}function kr(e){if(!e)return{h:0,s:1,v:1,a:1};const t=e.r/255,a=e.g/255,h=e.b/255,v=Math.max(t,a,h),p=Math.min(t,a,h);let y=0;v!==p&&(v===t?y=60*(0+(a-h)/(v-p)):v===a?y=60*(2+(h-t)/(v-p)):v===h&&(y=60*(4+(t-a)/(v-p)))),y<0&&(y=y+360);const f=v===0?0:(v-p)/v,r=[y,f,v];return{h:r[0],s:r[1],v:r[2],a:e.a}}function ru(e){const{h:t,s:a,v:h,a:v}=e,p=h-h*a/2,y=p===1||p===0?0:(h-p)/Math.min(p,1-p);return{h:t,s:y,l:p,a:v}}function fa(e){const{h:t,s:a,l:h,a:v}=e,p=h+a*Math.min(h,1-h),y=p===0?0:2-2*h/p;return{h:t,s:y,v:p,a:v}}function su(e){let{r:t,g:a,b:h,a:v}=e;return v===void 0?`rgb(${t}, ${a}, ${h})`:`rgba(${t}, ${a}, ${h}, ${v})`}function au(e){return su(jt(e))}function Ui(e){const t=Math.round(e).toString(16);return("00".substr(0,2-t.length)+t).toUpperCase()}function ou(e){let{r:t,g:a,b:h,a:v}=e;return`#${[Ui(t),Ui(a),Ui(h),v!==void 0?Ui(Math.round(v*255)):""].join("")}`}function lu(e){e=kv(e);let[t,a,h,v]=tv(e,2).map(p=>parseInt(p,16));return v=v===void 0?v:v/255,{r:t,g:a,b:h,a:v}}function cu(e){const t=lu(e);return kr(t)}function uu(e){return ou(jt(e))}function kv(e){return e.startsWith("#")&&(e=e.slice(1)),e=e.replace(/([^0-9a-f])/gi,"F"),(e.length===3||e.length===4)&&(e=e.split("").map(t=>t+t).join("")),e.length!==6&&(e=Eo(Eo(e,6),8,"F")),e}function Pv(e,t){const a=tu(ua(e));return a[0]=a[0]+t*10,iu(nu(a))}function Ev(e,t){const a=tu(ua(e));return a[0]=a[0]-t*10,iu(nu(a))}function _s(e){const t=gt(e);return ua(t)[1]}function Av(e,t){const a=_s(e),h=_s(t),v=Math.max(a,h),p=Math.min(a,h);return(v+.05)/(p+.05)}function fu(e){const t=Math.abs(Vo(gt(0),gt(e)));return Math.abs(Vo(gt(16777215),gt(e)))>Math.min(t,50)?"#fff":"#000"}function He(e,t){const a=ia();if(!a)throw new Error(`[Vuetify] ${e} must be called from inside a setup function`);return a}function Et(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const t=He(e).type;return Sn((t==null?void 0:t.aliasName)||(t==null?void 0:t.name))}let hu=0,Ki=new WeakMap;function Dn(){const e=He("getUid");if(Ki.has(e))return Ki.get(e);{const t=hu++;return Ki.set(e,t),t}}Dn.reset=()=>{hu=0,Ki=new WeakMap};function Dv(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:He("injectSelf");const{provides:a}=t;if(a&&e in a)return a[e]}const Jn=Symbol.for("vuetify:defaults");function Mv(e){return be(e)}function ha(){const e=Ae(Jn);if(!e)throw new Error("[Vuetify] Could not find defaults instance");return e}function ti(e,t){const a=ha(),h=be(e),v=U(()=>{if(Ve(t==null?void 0:t.disabled))return a.value;const y=Ve(t==null?void 0:t.scoped),f=Ve(t==null?void 0:t.reset),r=Ve(t==null?void 0:t.root);if(h.value==null&&!(y||f||r))return a.value;let u=lt(h.value,{prev:a.value});if(y)return u;if(f||r){const c=Number(f||1/0);for(let n=0;n<=c&&!(!u||!("prev"in u));n++)u=u.prev;return u&&typeof r=="string"&&r in u&&(u=lt(lt(u,{prev:u}),u[r])),u}return u.prev?lt(u.prev,u):u});return ze(Jn,v),v}function Fv(e,t){var a,h;return typeof((a=e.props)==null?void 0:a[t])<"u"||typeof((h=e.props)==null?void 0:h[Sn(t)])<"u"}function Iv(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ha();const h=He("useDefaults");if(t=t??h.type.name??h.type.__name,!t)throw new Error("[Vuetify] Could not determine component name");const v=U(()=>{var r;return(r=a.value)==null?void 0:r[e._as??t]}),p=new Proxy(e,{get(r,u){var n,s,i,o,d,l,g;const c=Reflect.get(r,u);return u==="class"||u==="style"?[(n=v.value)==null?void 0:n[u],c].filter(m=>m!=null):typeof u=="string"&&!Fv(h.vnode,u)?((s=v.value)==null?void 0:s[u])!==void 0?(i=v.value)==null?void 0:i[u]:((d=(o=a.value)==null?void 0:o.global)==null?void 0:d[u])!==void 0?(g=(l=a.value)==null?void 0:l.global)==null?void 0:g[u]:c:c}}),y=ye();En(()=>{if(v.value){const r=Object.entries(v.value).filter(u=>{let[c]=u;return c.startsWith(c[0].toUpperCase())});y.value=r.length?Object.fromEntries(r):void 0}else y.value=void 0});function f(){const r=Dv(Jn,h);ze(Jn,U(()=>y.value?lt((r==null?void 0:r.value)??{},y.value):r==null?void 0:r.value))}return{props:p,provideSubDefaults:f}}function St(e){if(e._setup=e._setup??e.setup,!e.name)return e;if(e._setup){e.props=ue(e.props??{},e.name)();const t=Object.keys(e.props).filter(a=>a!=="class"&&a!=="style");e.filterProps=function(h){return Qg(h,t)},e.props._as=String,e.setup=function(h,v){const p=ha();if(!p.value)return e._setup(h,v);const{props:y,provideSubDefaults:f}=Iv(h,h._as??e.name,p),r=e._setup(y,v);return f(),r}}return e}function we(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t=>(e?St:Ks)(t)}function du(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",a=arguments.length>2?arguments[2]:void 0;return we()({name:a??Qn(tt(e.replace(/__/g,"-"))),props:{tag:{type:String,default:t},...ke()},setup(h,v){let{slots:p}=v;return()=>{var y;return rn(h.tag,{class:[e,h.class],style:h.style},(y=p.default)==null?void 0:y.call(p))}}})}function xe(e){const t=He("useRender");t.render=e}function da(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const a=ov(),h=be();if(et){const v=new ResizeObserver(p=>{e==null||e(p,v),p.length&&(t==="content"?h.value=p[0].contentRect:h.value=p[0].target.getBoundingClientRect())});it(()=>{v.disconnect()}),Ce(()=>a.el,(p,y)=>{y&&(v.unobserve(y),h.value=void 0),p&&v.observe(p)},{flush:"post"})}return{resizeRef:a,contentRect:pr(h)}}const or=Symbol.for("vuetify:layout"),gu=Symbol.for("vuetify:layout-item"),Wo=1e3,Lv=ue({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),vu=ue({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function Rv(){const e=Ae(or);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function mu(e){const t=Ae(or);if(!t)throw new Error("[Vuetify] Could not find injected layout");const a=e.id??`layout-item-${Dn()}`,h=He("useLayoutItem");ze(gu,{id:a});const v=ye(!1);Jl(()=>v.value=!0),ql(()=>v.value=!1);const{layoutItemStyles:p,layoutItemScrimStyles:y}=t.register(h,{...e,active:U(()=>v.value?!1:e.active.value),id:a});return it(()=>t.unregister(a)),{layoutItemStyles:p,layoutRect:t.layoutRect,layoutItemScrimStyles:y}}const Bv=(e,t,a,h)=>{let v={top:0,left:0,right:0,bottom:0};const p=[{id:"",layer:{...v}}];for(const y of e){const f=t.get(y),r=a.get(y),u=h.get(y);if(!f||!r||!u)continue;const c={...v,[f.value]:parseInt(v[f.value],10)+(u.value?parseInt(r.value,10):0)};p.push({id:y,layer:c}),v=c}return p};function jv(e){const t=Ae(or,null),a=U(()=>t?t.rootZIndex.value-100:Wo),h=be([]),v=Ne(new Map),p=Ne(new Map),y=Ne(new Map),f=Ne(new Map),r=Ne(new Map),{resizeRef:u,contentRect:c}=da(),n=U(()=>{const S=new Map,w=e.overlaps??[];for(const P of w.filter(M=>M.includes(":"))){const[M,N]=P.split(":");if(!h.value.includes(M)||!h.value.includes(N))continue;const X=v.get(M),j=v.get(N),K=p.get(M),ee=p.get(N);!X||!j||!K||!ee||(S.set(N,{position:X.value,amount:parseInt(K.value,10)}),S.set(M,{position:j.value,amount:-parseInt(ee.value,10)}))}return S}),s=U(()=>{const S=[...new Set([...y.values()].map(P=>P.value))].sort((P,M)=>P-M),w=[];for(const P of S){const M=h.value.filter(N=>{var X;return((X=y.get(N))==null?void 0:X.value)===P});w.push(...M)}return Bv(w,v,p,f)}),i=U(()=>!Array.from(r.values()).some(S=>S.value)),o=U(()=>s.value[s.value.length-1].layer),d=U(()=>({"--v-layout-left":_e(o.value.left),"--v-layout-right":_e(o.value.right),"--v-layout-top":_e(o.value.top),"--v-layout-bottom":_e(o.value.bottom),...i.value?void 0:{transition:"none"}})),l=U(()=>s.value.slice(1).map((S,w)=>{let{id:P}=S;const{layer:M}=s.value[w],N=p.get(P),X=v.get(P);return{id:P,...M,size:Number(N.value),position:X.value}})),g=S=>l.value.find(w=>w.id===S),m=He("createLayout"),b=ye(!1);Ct(()=>{b.value=!0}),ze(or,{register:(S,w)=>{let{id:P,order:M,position:N,layoutSize:X,elementSize:j,active:K,disableTransitions:ee,absolute:ne}=w;y.set(P,M),v.set(P,N),p.set(P,X),f.set(P,K),ee&&r.set(P,ee);const se=Yn(gu,m==null?void 0:m.vnode).indexOf(S);se>-1?h.value.splice(se,0,P):h.value.push(P);const oe=U(()=>l.value.findIndex(I=>I.id===P)),T=U(()=>a.value+s.value.length*2-oe.value*2),L=U(()=>{const I=N.value==="left"||N.value==="right",J=N.value==="right",D=N.value==="bottom",E=j.value??X.value,B=E===0?"%":"px",A={[N.value]:0,zIndex:T.value,transform:`translate${I?"X":"Y"}(${(K.value?0:-(E===0?100:E))*(J||D?-1:1)}${B})`,position:ne.value||a.value!==Wo?"absolute":"fixed",...i.value?void 0:{transition:"none"}};if(!b.value)return A;const z=l.value[oe.value];if(!z)throw new Error(`[Vuetify] Could not find layout item "${P}"`);const H=n.value.get(P);return H&&(z[H.position]+=H.amount),{...A,height:I?`calc(100% - ${z.top}px - ${z.bottom}px)`:j.value?`${j.value}px`:void 0,left:J?void 0:`${z.left}px`,right:J?`${z.right}px`:void 0,top:N.value!=="bottom"?`${z.top}px`:void 0,bottom:N.value!=="top"?`${z.bottom}px`:void 0,width:I?j.value?`${j.value}px`:void 0:`calc(100% - ${z.left}px - ${z.right}px)`}}),F=U(()=>({zIndex:T.value-1}));return{layoutItemStyles:L,layoutItemScrimStyles:F,zIndex:T}},unregister:S=>{y.delete(S),v.delete(S),p.delete(S),f.delete(S),r.delete(S),h.value=h.value.filter(w=>w!==S)},mainRect:o,mainStyles:d,getLayoutItem:g,items:l,layoutRect:c,rootZIndex:a});const _=U(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),C=U(()=>({zIndex:t?a.value:void 0,position:t?"relative":void 0,overflow:t?"hidden":void 0}));return{layoutClasses:_,layoutStyles:C,getLayoutItem:g,items:l,layoutRect:c,layoutRef:u}}function Jt(e,t){let a;function h(){a=Rs(),a.run(()=>t.length?t(()=>{a==null||a.stop(),h()}):t())}Ce(e,v=>{v&&!a?h():v||(a==null||a.stop(),a=void 0)},{immediate:!0}),Bs(()=>{a==null||a.stop()})}function vt(e,t,a){let h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n=>n,v=arguments.length>4&&arguments[4]!==void 0?arguments[4]:n=>n;const p=He("useProxiedModel"),y=be(e[t]!==void 0?e[t]:a),f=Sn(t),u=U(f!==t?()=>{var n,s,i,o;return e[t],!!(((n=p.vnode.props)!=null&&n.hasOwnProperty(t)||(s=p.vnode.props)!=null&&s.hasOwnProperty(f))&&((i=p.vnode.props)!=null&&i.hasOwnProperty(`onUpdate:${t}`)||(o=p.vnode.props)!=null&&o.hasOwnProperty(`onUpdate:${f}`)))}:()=>{var n,s;return e[t],!!((n=p.vnode.props)!=null&&n.hasOwnProperty(t)&&((s=p.vnode.props)!=null&&s.hasOwnProperty(`onUpdate:${t}`)))});Jt(()=>!u.value,()=>{Ce(()=>e[t],n=>{y.value=n})});const c=U({get(){const n=e[t];return h(u.value?n:y.value)},set(n){const s=v(n),i=de(u.value?e[t]:y.value);i===s||h(i)===n||(y.value=s,p==null||p.emit(`update:${t}`,s))}});return Object.defineProperty(c,"externalValue",{get:()=>u.value?e[t]:y.value}),c}const Vv={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},fileUpload:{title:"Drag and drop files here",divider:"or",browse:"Browse Files"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},Yo="$vuetify.",zo=(e,t)=>e.replace(/\{(\d+)\}/g,(a,h)=>String(t[+h])),pu=(e,t,a)=>function(h){for(var v=arguments.length,p=new Array(v>1?v-1:0),y=1;y<v;y++)p[y-1]=arguments[y];if(!h.startsWith(Yo))return zo(h,p);const f=h.replace(Yo,""),r=e.value&&a.value[e.value],u=t.value&&a.value[t.value];let c=ms(r,f,null);return c||(`${h}${e.value}`,c=ms(u,f,null)),c||(c=h),typeof c!="string"&&(c=h),zo(c,p)};function yu(e,t){return(a,h)=>new Intl.NumberFormat([e.value,t.value],h).format(a)}function Jr(e,t,a){const h=vt(e,t,e[t]??a.value);return h.value=e[t]??a.value,Ce(a,v=>{e[t]==null&&(h.value=a.value)}),h}function bu(e){return t=>{const a=Jr(t,"locale",e.current),h=Jr(t,"fallback",e.fallback),v=Jr(t,"messages",e.messages);return{name:"vuetify",current:a,fallback:h,messages:v,t:pu(a,h,v),n:yu(a,h),provide:bu({current:a,fallback:h,messages:v})}}}function Nv(e){const t=ye((e==null?void 0:e.locale)??"en"),a=ye((e==null?void 0:e.fallback)??"en"),h=be({en:Vv,...e==null?void 0:e.messages});return{name:"vuetify",current:t,fallback:a,messages:h,t:pu(t,a,h),n:yu(t,a),provide:bu({current:t,fallback:a,messages:h})}}const lr=Symbol.for("vuetify:locale");function Hv(e){return e.name!=null}function Wv(e){const t=e!=null&&e.adapter&&Hv(e==null?void 0:e.adapter)?e==null?void 0:e.adapter:Nv(e),a=Xv(t,e);return{...t,...a}}function Yv(){const e=Ae(lr);if(!e)throw new Error("[Vuetify] Could not find injected locale instance");return e}function zv(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function Xv(e,t){const a=be((t==null?void 0:t.rtl)??zv()),h=U(()=>a.value[e.current.value]??!1);return{isRtl:h,rtl:a,rtlClasses:U(()=>`v-locale--is-${h.value?"rtl":"ltr"}`)}}function Nt(){const e=Ae(lr);if(!e)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:e.isRtl,rtlClasses:e.rtlClasses}}const cr=Symbol.for("vuetify:theme"),rt=ue({theme:String},"theme");function Xo(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}}}function Uv(){var h,v;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Xo();const t=Xo();if(!e)return{...t,isDisabled:!0};const a={};for(const[p,y]of Object.entries(e.themes??{})){const f=y.dark||p==="dark"?(h=t.themes)==null?void 0:h.dark:(v=t.themes)==null?void 0:v.light;a[p]=lt(f,y)}return lt(t,{...e,themes:a})}function Gv(e){const t=Uv(e),a=be(t.defaultTheme),h=be(t.themes),v=U(()=>{const c={};for(const[n,s]of Object.entries(h.value)){const i=c[n]={...s,colors:{...s.colors}};if(t.variations)for(const o of t.variations.colors){const d=i.colors[o];if(d)for(const l of["lighten","darken"]){const g=l==="lighten"?Pv:Ev;for(const m of ca(t.variations[l],1))i.colors[`${o}-${l}-${m}`]=ou(g(gt(d),m))}}for(const o of Object.keys(i.colors)){if(/^on-[a-z]/.test(o)||i.colors[`on-${o}`])continue;const d=`on-${o}`,l=gt(i.colors[o]);i.colors[d]=fu(l)}}return c}),p=U(()=>v.value[a.value]),y=U(()=>{var o;const c=[];(o=p.value)!=null&&o.dark&&gn(c,":root",["color-scheme: dark"]),gn(c,":root",Uo(p.value));for(const[d,l]of Object.entries(v.value))gn(c,`.v-theme--${d}`,[`color-scheme: ${l.dark?"dark":"normal"}`,...Uo(l)]);const n=[],s=[],i=new Set(Object.values(v.value).flatMap(d=>Object.keys(d.colors)));for(const d of i)/^on-[a-z]/.test(d)?gn(s,`.${d}`,[`color: rgb(var(--v-theme-${d})) !important`]):(gn(n,`.bg-${d}`,[`--v-theme-overlay-multiplier: var(--v-theme-${d}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${d})) !important`,`color: rgb(var(--v-theme-on-${d})) !important`]),gn(s,`.text-${d}`,[`color: rgb(var(--v-theme-${d})) !important`]),gn(s,`.border-${d}`,[`--v-border-color: var(--v-theme-${d})`]));return c.push(...n,...s),c.map((d,l)=>l===0?d:`    ${d}`).join("")});function f(){return{style:[{children:y.value,id:"vuetify-theme-stylesheet",nonce:t.cspNonce||!1}]}}function r(c){if(t.isDisabled)return;const n=c._context.provides.usehead;if(n)if(n.push){const i=n.push(f);et&&Ce(y,()=>{i.patch(f)})}else et?(n.addHeadObjs(U(f)),En(()=>n.updateDOM())):n.addHeadObjs(f());else{let o=function(){if(typeof document<"u"&&!i){const d=document.createElement("style");d.type="text/css",d.id="vuetify-theme-stylesheet",t.cspNonce&&d.setAttribute("nonce",t.cspNonce),i=d,document.head.appendChild(i)}i&&(i.innerHTML=y.value)};var s=o;let i=et?document.getElementById("vuetify-theme-stylesheet"):null;et?Ce(y,o,{immediate:!0}):o()}}const u=U(()=>t.isDisabled?void 0:`v-theme--${a.value}`);return{install:r,isDisabled:t.isDisabled,name:a,themes:h,current:p,computedThemes:v,themeClasses:u,styles:y,global:{name:a,current:p}}}function ct(e){He("provideTheme");const t=Ae(cr,null);if(!t)throw new Error("Could not find Vuetify theme injection");const a=U(()=>e.theme??t.name.value),h=U(()=>t.themes.value[a.value]),v=U(()=>t.isDisabled?void 0:`v-theme--${a.value}`),p={...t,name:a,current:h,themeClasses:v};return ze(cr,p),p}function gn(e,t,a){e.push(`${t} {
`,...a.map(h=>`  ${h};
`),`}
`)}function Uo(e){const t=e.dark?2:1,a=e.dark?1:2,h=[];for(const[v,p]of Object.entries(e.colors)){const y=gt(p);h.push(`--v-theme-${v}: ${y.r},${y.g},${y.b}`),v.startsWith("on-")||h.push(`--v-theme-${v}-overlay-multiplier: ${_s(p)>.18?t:a}`)}for(const[v,p]of Object.entries(e.variables)){const y=typeof p=="string"&&p.startsWith("#")?gt(p):void 0,f=y?`${y.r}, ${y.g}, ${y.b}`:void 0;h.push(`--v-${v}: ${f??p}`)}return h}const $v=ue({...ke(),...Lv({fullHeight:!0}),...rt()},"VApp"),Kv=we()({name:"VApp",props:$v(),setup(e,t){let{slots:a}=t;const h=ct(e),{layoutClasses:v,getLayoutItem:p,items:y,layoutRef:f}=jv(e),{rtlClasses:r}=Nt();return xe(()=>{var u;return Y("div",{ref:f,class:["v-application",h.themeClasses.value,v.value,r.value,e.class],style:[e.style]},[Y("div",{class:"v-application__wrap"},[(u=a.default)==null?void 0:u.call(a)])])}),{getLayoutItem:p,items:y,theme:h}}}),Mn=ue({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function Fn(e){return{dimensionStyles:U(()=>{const a={},h=_e(e.height),v=_e(e.maxHeight),p=_e(e.maxWidth),y=_e(e.minHeight),f=_e(e.minWidth),r=_e(e.width);return h!=null&&(a.height=h),v!=null&&(a.maxHeight=v),p!=null&&(a.maxWidth=p),y!=null&&(a.minHeight=y),f!=null&&(a.minWidth=f),r!=null&&(a.width=r),a})}}function Pr(){const e=ye(!1);return Ct(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:U(()=>e.value?void 0:{transition:"none !important"}),isBooted:pr(e)}}const Ze=ue({tag:{type:String,default:"div"}},"tag"),qv=ue({scrollable:Boolean,...ke(),...Mn(),...Ze({tag:"main"})},"VMain"),Jv=we()({name:"VMain",props:qv(),setup(e,t){let{slots:a}=t;const{dimensionStyles:h}=Fn(e),{mainStyles:v}=Rv(),{ssrBootStyles:p}=Pr();return xe(()=>Y(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[v.value,p.value,h.value,e.style]},{default:()=>{var y,f;return[e.scrollable?Y("div",{class:"v-main__scroller"},[(y=a.default)==null?void 0:y.call(a)]):(f=a.default)==null?void 0:f.call(a)]}})),{}}}),Zv={__name:"App",setup(e){return(t,a)=>(An(),Li(Kv,null,{default:Qe(()=>[Y(Jv,null,{default:Qe(()=>[Y(Ve($c))]),_:1})]),_:1}))}};function Qv(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var a=function h(){return this instanceof h?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};a.prototype=t.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(e).forEach(function(h){var v=Object.getOwnPropertyDescriptor(e,h);Object.defineProperty(a,h,v.get?v:{enumerable:!0,get:function(){return e[h]}})}),a}var Zr={};const em={},tm=Object.freeze(Object.defineProperty({__proto__:null,default:em},Symbol.toStringTag,{value:"Module"})),Qr=Qv(tm);var Go;function nm(){return Go||(Go=1,function(e){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var t=t||{version:"5.4.2"};if(e.fabric=t,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?t.document=document:t.document=document.implementation.createHTMLDocument(""),t.window=window;else{var a=Qr,h=new a.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;t.document=h.document,t.jsdomImplForWrapper=Qr.implForWrapper,t.nodeCanvas=Qr.Canvas,t.window=h,DOMParser=t.window.DOMParser}t.isTouchSupported="ontouchstart"in t.window||"ontouchstart"in t.document||t.window&&t.window.navigator&&t.window.navigator.maxTouchPoints>0,t.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",t.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],t.DPI=96,t.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",t.commaWsp="(?:\\s+,?\\s*|,\\s*)",t.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,t.reNonWord=/[ \n\.,;!\?\-]/,t.fontPaths={},t.iMatrix=[1,0,0,1,0,0],t.svgNS="http://www.w3.org/2000/svg",t.perfLimitSizeTotal=2097152,t.maxCacheSideLimit=4096,t.minCacheSideLimit=256,t.charWidthsCache={},t.textureSize=2048,t.disableStyleCopyPaste=!1,t.enableGLFiltering=!0,t.devicePixelRatio=t.window.devicePixelRatio||t.window.webkitDevicePixelRatio||t.window.mozDevicePixelRatio||1,t.browserShadowBlurConstant=1,t.arcToSegmentsCache={},t.boundsOfCurveCache={},t.cachesBoundsOfCurve=!0,t.forceGLPutImageData=!1,t.initFilterBackend=function(){if(t.enableGLFiltering&&t.isWebglSupported&&t.isWebglSupported(t.textureSize))return console.log("max texture size: "+t.maxTextureSize),new t.WebglFilterBackend({tileSize:t.textureSize});if(t.Canvas2dFilterBackend)return new t.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=t),function(){function f(i,o){if(this.__eventListeners[i]){var d=this.__eventListeners[i];o?d[d.indexOf(o)]=!1:t.util.array.fill(d,!1)}}function r(i,o){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var d in i)this.on(d,i[d]);else this.__eventListeners[i]||(this.__eventListeners[i]=[]),this.__eventListeners[i].push(o);return this}function u(i,o){var d=(function(){o.apply(this,arguments),this.off(i,d)}).bind(this);this.on(i,d)}function c(i,o){if(arguments.length===1)for(var d in i)u.call(this,d,i[d]);else u.call(this,i,o);return this}function n(i,o){if(!this.__eventListeners)return this;if(arguments.length===0)for(i in this.__eventListeners)f.call(this,i);else if(arguments.length===1&&typeof arguments[0]=="object")for(var d in i)f.call(this,d,i[d]);else f.call(this,i,o);return this}function s(i,o){if(!this.__eventListeners)return this;var d=this.__eventListeners[i];if(!d)return this;for(var l=0,g=d.length;l<g;l++)d[l]&&d[l].call(this,o||{});return this.__eventListeners[i]=d.filter(function(m){return m!==!1}),this}t.Observable={fire:s,on:r,once:c,off:n}}(),t.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var f=0,r=arguments.length;f<r;f++)this._onObjectAdded(arguments[f]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(f,r,u){var c=this._objects;return u?c[r]=f:c.splice(r,0,f),this._onObjectAdded&&this._onObjectAdded(f),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var f=this._objects,r,u=!1,c=0,n=arguments.length;c<n;c++)r=f.indexOf(arguments[c]),r!==-1&&(u=!0,f.splice(r,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[c]));return this.renderOnAddRemove&&u&&this.requestRenderAll(),this},forEachObject:function(f,r){for(var u=this.getObjects(),c=0,n=u.length;c<n;c++)f.call(r,u[c],c,u);return this},getObjects:function(f){return typeof f>"u"?this._objects.concat():this._objects.filter(function(r){return r.type===f})},item:function(f){return this._objects[f]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(f,r){return this._objects.indexOf(f)>-1?!0:r?this._objects.some(function(u){return typeof u.contains=="function"&&u.contains(f,!0)}):!1},complexity:function(){return this._objects.reduce(function(f,r){return f+=r.complexity?r.complexity():0,f},0)}},t.CommonMethods={_setOptions:function(f){for(var r in f)this.set(r,f[r])},_initGradient:function(f,r){f&&f.colorStops&&!(f instanceof t.Gradient)&&this.set(r,new t.Gradient(f))},_initPattern:function(f,r,u){f&&f.source&&!(f instanceof t.Pattern)?this.set(r,new t.Pattern(f,u)):u&&u()},_setObject:function(f){for(var r in f)this._set(r,f[r])},set:function(f,r){return typeof f=="object"?this._setObject(f):this._set(f,r),this},_set:function(f,r){this[f]=r},toggle:function(f){var r=this.get(f);return typeof r=="boolean"&&this.set(f,!r),this},get:function(f){return this[f]}},function(f){var r=Math.sqrt,u=Math.atan2,c=Math.pow,n=Math.PI/180,s=Math.PI/2;t.util={cos:function(i){if(i===0)return 1;i<0&&(i=-i);var o=i/s;switch(o){case 1:case 3:return 0;case 2:return-1}return Math.cos(i)},sin:function(i){if(i===0)return 0;var o=i/s,d=1;switch(i<0&&(d=-1),o){case 1:return d;case 2:return 0;case 3:return-d}return Math.sin(i)},removeFromArray:function(i,o){var d=i.indexOf(o);return d!==-1&&i.splice(d,1),i},getRandomInt:function(i,o){return Math.floor(Math.random()*(o-i+1))+i},degreesToRadians:function(i){return i*n},radiansToDegrees:function(i){return i/n},rotatePoint:function(i,o,d){var l=new t.Point(i.x-o.x,i.y-o.y),g=t.util.rotateVector(l,d);return new t.Point(g.x,g.y).addEquals(o)},rotateVector:function(i,o){var d=t.util.sin(o),l=t.util.cos(o),g=i.x*l-i.y*d,m=i.x*d+i.y*l;return{x:g,y:m}},createVector:function(i,o){return new t.Point(o.x-i.x,o.y-i.y)},calcAngleBetweenVectors:function(i,o){return Math.acos((i.x*o.x+i.y*o.y)/(Math.hypot(i.x,i.y)*Math.hypot(o.x,o.y)))},getHatVector:function(i){return new t.Point(i.x,i.y).multiply(1/Math.hypot(i.x,i.y))},getBisector:function(i,o,d){var l=t.util.createVector(i,o),g=t.util.createVector(i,d),m=t.util.calcAngleBetweenVectors(l,g),b=t.util.calcAngleBetweenVectors(t.util.rotateVector(l,m),g),_=m*(b===0?1:-1)/2;return{vector:t.util.getHatVector(t.util.rotateVector(l,_)),angle:m}},projectStrokeOnPoints:function(i,o,d){var l=[],g=o.strokeWidth/2,m=o.strokeUniform?new t.Point(1/o.scaleX,1/o.scaleY):new t.Point(1,1),b=function(_){var C=g/Math.hypot(_.x,_.y);return new t.Point(_.x*C*m.x,_.y*C*m.y)};return i.length<=1||i.forEach(function(_,C){var S=new t.Point(_.x,_.y),w,P;C===0?(P=i[C+1],w=d?b(t.util.createVector(P,S)).addEquals(S):i[i.length-1]):C===i.length-1?(w=i[C-1],P=d?b(t.util.createVector(w,S)).addEquals(S):i[0]):(w=i[C-1],P=i[C+1]);var M=t.util.getBisector(S,w,P),N=M.vector,X=M.angle,j,K;if(o.strokeLineJoin==="miter"&&(j=-g/Math.sin(X/2),K=new t.Point(N.x*j*m.x,N.y*j*m.y),Math.hypot(K.x,K.y)/g<=o.strokeMiterLimit)){l.push(S.add(K)),l.push(S.subtract(K));return}j=-g*Math.SQRT2,K=new t.Point(N.x*j*m.x,N.y*j*m.y),l.push(S.add(K)),l.push(S.subtract(K))}),l},transformPoint:function(i,o,d){return d?new t.Point(o[0]*i.x+o[2]*i.y,o[1]*i.x+o[3]*i.y):new t.Point(o[0]*i.x+o[2]*i.y+o[4],o[1]*i.x+o[3]*i.y+o[5])},makeBoundingBoxFromPoints:function(i,o){if(o)for(var d=0;d<i.length;d++)i[d]=t.util.transformPoint(i[d],o);var l=[i[0].x,i[1].x,i[2].x,i[3].x],g=t.util.array.min(l),m=t.util.array.max(l),b=m-g,_=[i[0].y,i[1].y,i[2].y,i[3].y],C=t.util.array.min(_),S=t.util.array.max(_),w=S-C;return{left:g,top:C,width:b,height:w}},invertTransform:function(i){var o=1/(i[0]*i[3]-i[1]*i[2]),d=[o*i[3],-o*i[1],-o*i[2],o*i[0]],l=t.util.transformPoint({x:i[4],y:i[5]},d,!0);return d[4]=-l.x,d[5]=-l.y,d},toFixed:function(i,o){return parseFloat(Number(i).toFixed(o))},parseUnit:function(i,o){var d=/\D{0,2}$/.exec(i),l=parseFloat(i);switch(o||(o=t.Text.DEFAULT_SVG_FONT_SIZE),d[0]){case"mm":return l*t.DPI/25.4;case"cm":return l*t.DPI/2.54;case"in":return l*t.DPI;case"pt":return l*t.DPI/72;case"pc":return l*t.DPI/72*12;case"em":return l*o;default:return l}},falseFunction:function(){return!1},getKlass:function(i,o){return i=t.util.string.camelize(i.charAt(0).toUpperCase()+i.slice(1)),t.util.resolveNamespace(o)[i]},getSvgAttributes:function(i){var o=["instantiated_by_use","style","id","class"];switch(i){case"linearGradient":o=o.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":o=o.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":o=o.concat(["offset","stop-color","stop-opacity"]);break}return o},resolveNamespace:function(i){if(!i)return t;var o=i.split("."),d=o.length,l,g=f;for(l=0;l<d;++l)g=g[o[l]];return g},loadImage:function(i,o,d,l){if(!i){o&&o.call(d,i);return}var g=t.util.createImage(),m=function(){o&&o.call(d,g,!1),g=g.onload=g.onerror=null};g.onload=m,g.onerror=function(){t.log("Error loading "+g.src),o&&o.call(d,null,!0),g=g.onload=g.onerror=null},i.indexOf("data")!==0&&l!==void 0&&l!==null&&(g.crossOrigin=l),i.substring(0,14)==="data:image/svg"&&(g.onload=null,t.util.loadImageInDom(g,m)),g.src=i},loadImageInDom:function(i,o){var d=t.document.createElement("div");d.style.width=d.style.height="1px",d.style.left=d.style.top="-100%",d.style.position="absolute",d.appendChild(i),t.document.querySelector("body").appendChild(d),i.onload=function(){o(),d.parentNode.removeChild(d),d=null}},enlivenObjects:function(i,o,d,l){i=i||[];var g=[],m=0,b=i.length;function _(){++m===b&&o&&o(g.filter(function(C){return C}))}if(!b){o&&o(g);return}i.forEach(function(C,S){if(!C||!C.type){_();return}var w=t.util.getKlass(C.type,d);w.fromObject(C,function(P,M){M||(g[S]=P),l&&l(C,P,M),_()})})},enlivenObjectEnlivables:function(i,o,d){var l=t.Object.ENLIVEN_PROPS.filter(function(g){return!!i[g]});t.util.enlivenObjects(l.map(function(g){return i[g]}),function(g){var m={};l.forEach(function(b,_){m[b]=g[_],o&&(o[b]=g[_])}),d&&d(m)})},enlivenPatterns:function(i,o){i=i||[];function d(){++g===m&&o&&o(l)}var l=[],g=0,m=i.length;if(!m){o&&o(l);return}i.forEach(function(b,_){b&&b.source?new t.Pattern(b,function(C){l[_]=C,d()}):(l[_]=b,d())})},groupSVGElements:function(i,o,d){var l;return i&&i.length===1?(typeof d<"u"&&(i[0].sourcePath=d),i[0]):(o&&(o.width&&o.height?o.centerPoint={x:o.width/2,y:o.height/2}:(delete o.width,delete o.height)),l=new t.Group(i,o),typeof d<"u"&&(l.sourcePath=d),l)},populateWithProperties:function(i,o,d){if(d&&Array.isArray(d))for(var l=0,g=d.length;l<g;l++)d[l]in i&&(o[d[l]]=i[d[l]])},createCanvasElement:function(){return t.document.createElement("canvas")},copyCanvasElement:function(i){var o=t.util.createCanvasElement();return o.width=i.width,o.height=i.height,o.getContext("2d").drawImage(i,0,0),o},toDataURL:function(i,o,d){return i.toDataURL("image/"+o,d)},createImage:function(){return t.document.createElement("img")},multiplyTransformMatrices:function(i,o,d){return[i[0]*o[0]+i[2]*o[1],i[1]*o[0]+i[3]*o[1],i[0]*o[2]+i[2]*o[3],i[1]*o[2]+i[3]*o[3],d?0:i[0]*o[4]+i[2]*o[5]+i[4],d?0:i[1]*o[4]+i[3]*o[5]+i[5]]},qrDecompose:function(i){var o=u(i[1],i[0]),d=c(i[0],2)+c(i[1],2),l=r(d),g=(i[0]*i[3]-i[2]*i[1])/l,m=u(i[0]*i[2]+i[1]*i[3],d);return{angle:o/n,scaleX:l,scaleY:g,skewX:m/n,skewY:0,translateX:i[4],translateY:i[5]}},calcRotateMatrix:function(i){if(!i.angle)return t.iMatrix.concat();var o=t.util.degreesToRadians(i.angle),d=t.util.cos(o),l=t.util.sin(o);return[d,l,-l,d,0,0]},calcDimensionsMatrix:function(i){var o=typeof i.scaleX>"u"?1:i.scaleX,d=typeof i.scaleY>"u"?1:i.scaleY,l=[i.flipX?-o:o,0,0,i.flipY?-d:d,0,0],g=t.util.multiplyTransformMatrices,m=t.util.degreesToRadians;return i.skewX&&(l=g(l,[1,0,Math.tan(m(i.skewX)),1],!0)),i.skewY&&(l=g(l,[1,Math.tan(m(i.skewY)),0,1],!0)),l},composeMatrix:function(i){var o=[1,0,0,1,i.translateX||0,i.translateY||0],d=t.util.multiplyTransformMatrices;return i.angle&&(o=d(o,t.util.calcRotateMatrix(i))),(i.scaleX!==1||i.scaleY!==1||i.skewX||i.skewY||i.flipX||i.flipY)&&(o=d(o,t.util.calcDimensionsMatrix(i))),o},resetObjectTransform:function(i){i.scaleX=1,i.scaleY=1,i.skewX=0,i.skewY=0,i.flipX=!1,i.flipY=!1,i.rotate(0)},saveObjectTransform:function(i){return{scaleX:i.scaleX,scaleY:i.scaleY,skewX:i.skewX,skewY:i.skewY,angle:i.angle,left:i.left,flipX:i.flipX,flipY:i.flipY,top:i.top}},isTransparent:function(i,o,d,l){l>0&&(o>l?o-=l:o=0,d>l?d-=l:d=0);var g=!0,m,b,_=i.getImageData(o,d,l*2||1,l*2||1),C=_.data.length;for(m=3;m<C&&(b=_.data[m],g=b<=0,g!==!1);m+=4);return _=null,g},parsePreserveAspectRatioAttribute:function(i){var o="meet",d="Mid",l="Mid",g=i.split(" "),m;return g&&g.length&&(o=g.pop(),o!=="meet"&&o!=="slice"?(m=o,o="meet"):g.length&&(m=g.pop())),d=m!=="none"?m.slice(1,4):"none",l=m!=="none"?m.slice(5,8):"none",{meetOrSlice:o,alignX:d,alignY:l}},clearFabricFontCache:function(i){i=(i||"").toLowerCase(),i?t.charWidthsCache[i]&&delete t.charWidthsCache[i]:t.charWidthsCache={}},limitDimsByArea:function(i,o){var d=Math.sqrt(o*i),l=Math.floor(o/d);return{x:Math.floor(d),y:l}},capValue:function(i,o,d){return Math.max(i,Math.min(o,d))},findScaleToFit:function(i,o){return Math.min(o.width/i.width,o.height/i.height)},findScaleToCover:function(i,o){return Math.max(o.width/i.width,o.height/i.height)},matrixToSVG:function(i){return"matrix("+i.map(function(o){return t.util.toFixed(o,t.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(i,o){var d=t.util.invertTransform(o),l=t.util.multiplyTransformMatrices(d,i.calcOwnMatrix());t.util.applyTransformToObject(i,l)},addTransformToObject:function(i,o){t.util.applyTransformToObject(i,t.util.multiplyTransformMatrices(o,i.calcOwnMatrix()))},applyTransformToObject:function(i,o){var d=t.util.qrDecompose(o),l=new t.Point(d.translateX,d.translateY);i.flipX=!1,i.flipY=!1,i.set("scaleX",d.scaleX),i.set("scaleY",d.scaleY),i.skewX=d.skewX,i.skewY=d.skewY,i.angle=d.angle,i.setPositionByOrigin(l,"center","center")},sizeAfterTransform:function(i,o,d){var l=i/2,g=o/2,m=[{x:-l,y:-g},{x:l,y:-g},{x:-l,y:g},{x:l,y:g}],b=t.util.calcDimensionsMatrix(d),_=t.util.makeBoundingBoxFromPoints(m,b);return{x:_.width,y:_.height}},mergeClipPaths:function(i,o){var d=i,l=o;d.inverted&&!l.inverted&&(d=o,l=i),t.util.applyTransformToObject(l,t.util.multiplyTransformMatrices(t.util.invertTransform(d.calcTransformMatrix()),l.calcTransformMatrix()));var g=d.inverted&&l.inverted;return g&&(d.inverted=l.inverted=!1),new t.Group([d],{clipPath:l,inverted:g})},hasStyleChanged:function(i,o,d){return d=d||!1,i.fill!==o.fill||i.stroke!==o.stroke||i.strokeWidth!==o.strokeWidth||i.fontSize!==o.fontSize||i.fontFamily!==o.fontFamily||i.fontWeight!==o.fontWeight||i.fontStyle!==o.fontStyle||i.textBackgroundColor!==o.textBackgroundColor||i.deltaY!==o.deltaY||d&&(i.overline!==o.overline||i.underline!==o.underline||i.linethrough!==o.linethrough)},stylesToArray:function(d,o){for(var d=t.util.object.clone(d,!0),l=o.split(`
`),g=-1,m={},b=[],_=0;_<l.length;_++){if(!d[_]){g+=l[_].length;continue}for(var C=0;C<l[_].length;C++){g++;var S=d[_][C];if(S&&Object.keys(S).length>0){var w=t.util.hasStyleChanged(m,S,!0);w?b.push({start:g,end:g+1,style:S}):b[b.length-1].end++}m=S||{}}}return b},stylesFromArray:function(i,o){if(!Array.isArray(i))return i;for(var d=o.split(`
`),l=-1,g=0,m={},b=0;b<d.length;b++)for(var _=0;_<d[b].length;_++)l++,i[g]&&i[g].start<=l&&l<i[g].end&&(m[b]=m[b]||{},m[b][_]=Object.assign({},i[g].style),l===i[g].end-1&&g++);return m}}}(e),function(){var f=Array.prototype.join,r={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},u={m:"l",M:"L"};function c(T,L,F,I,J,D,E,B,A,z,H){var $=t.util.cos(T),te=t.util.sin(T),k=t.util.cos(L),x=t.util.sin(L),O=F*J*k-I*D*x+E,V=I*J*k+F*D*x+B,W=z+A*(-F*J*te-I*D*$),R=H+A*(-I*J*te+F*D*$),G=O+A*(F*J*x+I*D*k),Z=V+A*(I*J*x-F*D*k);return["C",W,R,G,Z,O,V]}function n(T,L,F,I,J,D,E){var B=Math.PI,A=E*B/180,z=t.util.sin(A),H=t.util.cos(A),$=0,te=0;F=Math.abs(F),I=Math.abs(I);var k=-H*T*.5-z*L*.5,x=-H*L*.5+z*T*.5,O=F*F,V=I*I,W=x*x,R=k*k,G=O*V-O*W-V*R,Z=0;if(G<0){var ie=Math.sqrt(1-G/(O*V));F*=ie,I*=ie}else Z=(J===D?-1:1)*Math.sqrt(G/(O*W+V*R));var Q=Z*F*x/I,q=-Z*I*k/F,re=H*Q-z*q+T*.5,le=z*Q+H*q+L*.5,ce=s(1,0,(k-Q)/F,(x-q)/I),fe=s((k-Q)/F,(x-q)/I,(-k-Q)/F,(-x-q)/I);D===0&&fe>0?fe-=2*B:D===1&&fe<0&&(fe+=2*B);for(var he=Math.ceil(Math.abs(fe/B*2)),ve=[],Se=fe/he,Fe=8/3*Math.sin(Se/4)*Math.sin(Se/4)/Math.sin(Se/2),We=ce+Se,Ie=0;Ie<he;Ie++)ve[Ie]=c(ce,We,H,z,F,I,re,le,Fe,$,te),$=ve[Ie][5],te=ve[Ie][6],ce=We,We+=Se;return ve}function s(T,L,F,I){var J=Math.atan2(L,T),D=Math.atan2(I,F);return D>=J?D-J:2*Math.PI-(J-D)}function i(T,L,F,I,J,D,E,B){var A;if(t.cachesBoundsOfCurve&&(A=f.call(arguments),t.boundsOfCurveCache[A]))return t.boundsOfCurveCache[A];var z=Math.sqrt,H=Math.min,$=Math.max,te=Math.abs,k=[],x=[[],[]],O,V,W,R,G,Z,ie,Q;V=6*T-12*F+6*J,O=-3*T+9*F-9*J+3*E,W=3*F-3*T;for(var q=0;q<2;++q){if(q>0&&(V=6*L-12*I+6*D,O=-3*L+9*I-9*D+3*B,W=3*I-3*L),te(O)<1e-12){if(te(V)<1e-12)continue;R=-W/V,0<R&&R<1&&k.push(R);continue}ie=V*V-4*W*O,!(ie<0)&&(Q=z(ie),G=(-V+Q)/(2*O),0<G&&G<1&&k.push(G),Z=(-V-Q)/(2*O),0<Z&&Z<1&&k.push(Z))}for(var re,le,ce=k.length,fe=ce,he;ce--;)R=k[ce],he=1-R,re=he*he*he*T+3*he*he*R*F+3*he*R*R*J+R*R*R*E,x[0][ce]=re,le=he*he*he*L+3*he*he*R*I+3*he*R*R*D+R*R*R*B,x[1][ce]=le;x[0][fe]=T,x[1][fe]=L,x[0][fe+1]=E,x[1][fe+1]=B;var ve=[{x:H.apply(null,x[0]),y:H.apply(null,x[1])},{x:$.apply(null,x[0]),y:$.apply(null,x[1])}];return t.cachesBoundsOfCurve&&(t.boundsOfCurveCache[A]=ve),ve}function o(T,L,F){for(var I=F[1],J=F[2],D=F[3],E=F[4],B=F[5],A=F[6],z=F[7],H=n(A-T,z-L,I,J,E,B,D),$=0,te=H.length;$<te;$++)H[$][1]+=T,H[$][2]+=L,H[$][3]+=T,H[$][4]+=L,H[$][5]+=T,H[$][6]+=L;return H}function d(T){var L=0,F=0,I=T.length,J=0,D=0,E,B,A,z=[],H,$,te;for(B=0;B<I;++B){switch(A=!1,E=T[B].slice(0),E[0]){case"l":E[0]="L",E[1]+=L,E[2]+=F;case"L":L=E[1],F=E[2];break;case"h":E[1]+=L;case"H":E[0]="L",E[2]=F,L=E[1];break;case"v":E[1]+=F;case"V":E[0]="L",F=E[1],E[1]=L,E[2]=F;break;case"m":E[0]="M",E[1]+=L,E[2]+=F;case"M":L=E[1],F=E[2],J=E[1],D=E[2];break;case"c":E[0]="C",E[1]+=L,E[2]+=F,E[3]+=L,E[4]+=F,E[5]+=L,E[6]+=F;case"C":$=E[3],te=E[4],L=E[5],F=E[6];break;case"s":E[0]="S",E[1]+=L,E[2]+=F,E[3]+=L,E[4]+=F;case"S":H==="C"?($=2*L-$,te=2*F-te):($=L,te=F),L=E[3],F=E[4],E[0]="C",E[5]=E[3],E[6]=E[4],E[3]=E[1],E[4]=E[2],E[1]=$,E[2]=te,$=E[3],te=E[4];break;case"q":E[0]="Q",E[1]+=L,E[2]+=F,E[3]+=L,E[4]+=F;case"Q":$=E[1],te=E[2],L=E[3],F=E[4];break;case"t":E[0]="T",E[1]+=L,E[2]+=F;case"T":H==="Q"?($=2*L-$,te=2*F-te):($=L,te=F),E[0]="Q",L=E[1],F=E[2],E[1]=$,E[2]=te,E[3]=L,E[4]=F;break;case"a":E[0]="A",E[6]+=L,E[7]+=F;case"A":A=!0,z=z.concat(o(L,F,E)),L=E[6],F=E[7];break;case"z":case"Z":L=J,F=D;break}A||z.push(E),H=E[0]}return z}function l(T,L,F,I){return Math.sqrt((F-T)*(F-T)+(I-L)*(I-L))}function g(T){return T*T*T}function m(T){return 3*T*T*(1-T)}function b(T){return 3*T*(1-T)*(1-T)}function _(T){return(1-T)*(1-T)*(1-T)}function C(T,L,F,I,J,D,E,B){return function(A){var z=g(A),H=m(A),$=b(A),te=_(A);return{x:E*z+J*H+F*$+T*te,y:B*z+D*H+I*$+L*te}}}function S(T,L,F,I,J,D,E,B){return function(A){var z=1-A,H=3*z*z*(F-T)+6*z*A*(J-F)+3*A*A*(E-J),$=3*z*z*(I-L)+6*z*A*(D-I)+3*A*A*(B-D);return Math.atan2($,H)}}function w(T){return T*T}function P(T){return 2*T*(1-T)}function M(T){return(1-T)*(1-T)}function N(T,L,F,I,J,D){return function(E){var B=w(E),A=P(E),z=M(E);return{x:J*B+F*A+T*z,y:D*B+I*A+L*z}}}function X(T,L,F,I,J,D){return function(E){var B=1-E,A=2*B*(F-T)+2*E*(J-F),z=2*B*(I-L)+2*E*(D-I);return Math.atan2(z,A)}}function j(T,L,F){var I={x:L,y:F},J,D=0,E;for(E=1;E<=100;E+=1)J=T(E/100),D+=l(I.x,I.y,J.x,J.y),I=J;return D}function K(T,L){for(var F=0,I=0,J=T.iterator,D={x:T.x,y:T.y},E,B,A=.01,z=T.angleFinder,H;I<L&&A>1e-4;)E=J(F),H=F,B=l(D.x,D.y,E.x,E.y),B+I>L?(F-=A,A/=2):(D=E,F+=A,I+=B);return E.angle=z(H),E}function ee(T){for(var L=0,F=T.length,I,J=0,D=0,E=0,B=0,A=[],z,H,$,te=0;te<F;te++){switch(I=T[te],H={x:J,y:D,command:I[0]},I[0]){case"M":H.length=0,E=J=I[1],B=D=I[2];break;case"L":H.length=l(J,D,I[1],I[2]),J=I[1],D=I[2];break;case"C":z=C(J,D,I[1],I[2],I[3],I[4],I[5],I[6]),$=S(J,D,I[1],I[2],I[3],I[4],I[5],I[6]),H.iterator=z,H.angleFinder=$,H.length=j(z,J,D),J=I[5],D=I[6];break;case"Q":z=N(J,D,I[1],I[2],I[3],I[4]),$=X(J,D,I[1],I[2],I[3],I[4]),H.iterator=z,H.angleFinder=$,H.length=j(z,J,D),J=I[3],D=I[4];break;case"Z":case"z":H.destX=E,H.destY=B,H.length=l(J,D,E,B),J=E,D=B;break}L+=H.length,A.push(H)}return A.push({length:L,x:J,y:D}),A}function ne(T,L,F){F||(F=ee(T));for(var I=0;L-F[I].length>0&&I<F.length-2;)L-=F[I].length,I++;var J=F[I],D=L/J.length,E=J.command,B=T[I],A;switch(E){case"M":return{x:J.x,y:J.y,angle:0};case"Z":case"z":return A=new t.Point(J.x,J.y).lerp(new t.Point(J.destX,J.destY),D),A.angle=Math.atan2(J.destY-J.y,J.destX-J.x),A;case"L":return A=new t.Point(J.x,J.y).lerp(new t.Point(B[1],B[2]),D),A.angle=Math.atan2(B[2]-J.y,B[1]-J.x),A;case"C":return K(J,L);case"Q":return K(J,L)}}function ae(T){var L=[],F=[],I,J,D=t.rePathCommand,E="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",B="("+E+")"+t.commaWsp,A="([01])"+t.commaWsp+"?",z=B+"?"+B+"?"+B+A+A+B+"?("+E+")",H=new RegExp(z,"g"),$,te,k;if(!T||!T.match)return L;k=T.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var x=0,O,V=k.length;x<V;x++){I=k[x],te=I.slice(1).trim(),F.length=0;var W=I.charAt(0);if(O=[W],W.toLowerCase()==="a")for(var R;R=H.exec(te);)for(var G=1;G<R.length;G++)F.push(R[G]);else for(;$=D.exec(te);)F.push($[0]);for(var G=0,Z=F.length;G<Z;G++)J=parseFloat(F[G]),isNaN(J)||O.push(J);var ie=r[W.toLowerCase()],Q=u[W]||W;if(O.length-1>ie)for(var q=1,re=O.length;q<re;q+=ie)L.push([W].concat(O.slice(q,q+ie))),W=Q;else L.push(O)}return L}function se(T,L){var F=[],I,J=new t.Point(T[0].x,T[0].y),D=new t.Point(T[1].x,T[1].y),E=T.length,B=1,A=0,z=E>2;for(L=L||0,z&&(B=T[2].x<D.x?-1:T[2].x===D.x?0:1,A=T[2].y<D.y?-1:T[2].y===D.y?0:1),F.push(["M",J.x-B*L,J.y-A*L]),I=1;I<E;I++){if(!J.eq(D)){var H=J.midPointFrom(D);F.push(["Q",J.x,J.y,H.x,H.y])}J=T[I],I+1<T.length&&(D=T[I+1])}return z&&(B=J.x>T[I-2].x?1:J.x===T[I-2].x?0:-1,A=J.y>T[I-2].y?1:J.y===T[I-2].y?0:-1),F.push(["L",J.x+B*L,J.y+A*L]),F}function oe(T,L,F){return F&&(L=t.util.multiplyTransformMatrices(L,[1,0,0,1,-F.x,-F.y])),T.map(function(I){for(var J=I.slice(0),D={},E=1;E<I.length-1;E+=2)D.x=I[E],D.y=I[E+1],D=t.util.transformPoint(D,L),J[E]=D.x,J[E+1]=D.y;return J})}t.util.joinPath=function(T){return T.map(function(L){return L.join(" ")}).join(" ")},t.util.parsePath=ae,t.util.makePathSimpler=d,t.util.getSmoothPathFromPoints=se,t.util.getPathSegmentsInfo=ee,t.util.getBoundsOfCurve=i,t.util.getPointOnPath=ne,t.util.transformPath=oe}(),function(){var f=Array.prototype.slice;function r(i,o){for(var d=f.call(arguments,2),l=[],g=0,m=i.length;g<m;g++)l[g]=d.length?i[g][o].apply(i[g],d):i[g][o].call(i[g]);return l}function u(i,o){return s(i,o,function(d,l){return d>=l})}function c(i,o){return s(i,o,function(d,l){return d<l})}function n(i,o){for(var d=i.length;d--;)i[d]=o;return i}function s(i,o,d){if(!(!i||i.length===0)){var l=i.length-1,g=o?i[l][o]:i[l];if(o)for(;l--;)d(i[l][o],g)&&(g=i[l][o]);else for(;l--;)d(i[l],g)&&(g=i[l]);return g}}t.util.array={fill:n,invoke:r,min:c,max:u}}(),function(){function f(u,c,n){if(n)if(!t.isLikelyNode&&c instanceof Element)u=c;else if(c instanceof Array){u=[];for(var s=0,i=c.length;s<i;s++)u[s]=f({},c[s],n)}else if(c&&typeof c=="object")for(var o in c)o==="canvas"||o==="group"?u[o]=null:c.hasOwnProperty(o)&&(u[o]=f({},c[o],n));else u=c;else for(var o in c)u[o]=c[o];return u}function r(u,c){return f({},u,c)}t.util.object={extend:f,clone:r},t.util.object.extend(t.util,t.Observable)}(),function(){function f(s){return s.replace(/-+(.)?/g,function(i,o){return o?o.toUpperCase():""})}function r(s,i){return s.charAt(0).toUpperCase()+(i?s.slice(1):s.slice(1).toLowerCase())}function u(s){return s.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function c(s){var i=0,o,d=[];for(i=0,o;i<s.length;i++)(o=n(s,i))!==!1&&d.push(o);return d}function n(s,i){var o=s.charCodeAt(i);if(isNaN(o))return"";if(o<55296||o>57343)return s.charAt(i);if(55296<=o&&o<=56319){if(s.length<=i+1)throw"High surrogate without following low surrogate";var d=s.charCodeAt(i+1);if(56320>d||d>57343)throw"High surrogate without following low surrogate";return s.charAt(i)+s.charAt(i+1)}if(i===0)throw"Low surrogate without preceding high surrogate";var l=s.charCodeAt(i-1);if(55296>l||l>56319)throw"Low surrogate without preceding high surrogate";return!1}t.util.string={camelize:f,capitalize:r,escapeXml:u,graphemeSplit:c}}(),function(){var f=Array.prototype.slice,r=function(){},u=function(){for(var o in{toString:1})if(o==="toString")return!1;return!0}(),c=function(o,d,l){for(var g in d)g in o.prototype&&typeof o.prototype[g]=="function"&&(d[g]+"").indexOf("callSuper")>-1?o.prototype[g]=function(m){return function(){var b=this.constructor.superclass;this.constructor.superclass=l;var _=d[m].apply(this,arguments);if(this.constructor.superclass=b,m!=="initialize")return _}}(g):o.prototype[g]=d[g],u&&(d.toString!==Object.prototype.toString&&(o.prototype.toString=d.toString),d.valueOf!==Object.prototype.valueOf&&(o.prototype.valueOf=d.valueOf))};function n(){}function s(o){for(var d=null,l=this;l.constructor.superclass;){var g=l.constructor.superclass.prototype[o];if(l[o]!==g){d=g;break}l=l.constructor.superclass.prototype}return d?arguments.length>1?d.apply(this,f.call(arguments,1)):d.call(this):console.log("tried to callSuper "+o+", method not found in prototype chain",this)}function i(){var o=null,d=f.call(arguments,0);typeof d[0]=="function"&&(o=d.shift());function l(){this.initialize.apply(this,arguments)}l.superclass=o,l.subclasses=[],o&&(n.prototype=o.prototype,l.prototype=new n,o.subclasses.push(l));for(var g=0,m=d.length;g<m;g++)c(l,d[g],o);return l.prototype.initialize||(l.prototype.initialize=r),l.prototype.constructor=l,l.prototype.callSuper=s,l}t.util.createClass=i}(),function(){var f=!!t.document.createElement("div").attachEvent,r=["touchstart","touchmove","touchend"];t.util.addListener=function(c,n,s,i){c&&c.addEventListener(n,s,f?!1:i)},t.util.removeListener=function(c,n,s,i){c&&c.removeEventListener(n,s,f?!1:i)};function u(c){var n=c.changedTouches;return n&&n[0]?n[0]:c}t.util.getPointer=function(c){var n=c.target,s=t.util.getScrollLeftTop(n),i=u(c);return{x:i.clientX+s.left,y:i.clientY+s.top}},t.util.isTouchEvent=function(c){return r.indexOf(c.type)>-1||c.pointerType==="touch"}}(),function(){function f(i,o){var d=i.style;if(!d)return i;if(typeof o=="string")return i.style.cssText+=";"+o,o.indexOf("opacity")>-1?s(i,o.match(/opacity:\s*(\d?\.?\d*)/)[1]):i;for(var l in o)if(l==="opacity")s(i,o[l]);else{var g=l==="float"||l==="cssFloat"?typeof d.styleFloat>"u"?"cssFloat":"styleFloat":l;d.setProperty(g,o[l])}return i}var r=t.document.createElement("div"),u=typeof r.style.opacity=="string",c=typeof r.style.filter=="string",n=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,s=function(i){return i};u?s=function(i,o){return i.style.opacity=o,i}:c&&(s=function(i,o){var d=i.style;return i.currentStyle&&!i.currentStyle.hasLayout&&(d.zoom=1),n.test(d.filter)?(o=o>=.9999?"":"alpha(opacity="+o*100+")",d.filter=d.filter.replace(n,o)):d.filter+=" alpha(opacity="+o*100+")",i}),t.util.setStyle=f}(),function(){var f=Array.prototype.slice;function r(_){return typeof _=="string"?t.document.getElementById(_):_}var u,c=function(_){return f.call(_,0)};try{u=c(t.document.childNodes)instanceof Array}catch{}u||(c=function(_){for(var C=new Array(_.length),S=_.length;S--;)C[S]=_[S];return C});function n(_,C){var S=t.document.createElement(_);for(var w in C)w==="class"?S.className=C[w]:w==="for"?S.htmlFor=C[w]:S.setAttribute(w,C[w]);return S}function s(_,C){_&&(" "+_.className+" ").indexOf(" "+C+" ")===-1&&(_.className+=(_.className?" ":"")+C)}function i(_,C,S){return typeof C=="string"&&(C=n(C,S)),_.parentNode&&_.parentNode.replaceChild(C,_),C.appendChild(_),C}function o(_){for(var C=0,S=0,w=t.document.documentElement,P=t.document.body||{scrollLeft:0,scrollTop:0};_&&(_.parentNode||_.host)&&(_=_.parentNode||_.host,_===t.document?(C=P.scrollLeft||w.scrollLeft||0,S=P.scrollTop||w.scrollTop||0):(C+=_.scrollLeft||0,S+=_.scrollTop||0),!(_.nodeType===1&&_.style.position==="fixed")););return{left:C,top:S}}function d(_){var C,S=_&&_.ownerDocument,w={left:0,top:0},P={left:0,top:0},M,N={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!S)return P;for(var X in N)P[N[X]]+=parseInt(l(_,X),10)||0;return C=S.documentElement,typeof _.getBoundingClientRect<"u"&&(w=_.getBoundingClientRect()),M=o(_),{left:w.left+M.left-(C.clientLeft||0)+P.left,top:w.top+M.top-(C.clientTop||0)+P.top}}var l;t.document.defaultView&&t.document.defaultView.getComputedStyle?l=function(_,C){var S=t.document.defaultView.getComputedStyle(_,null);return S?S[C]:void 0}:l=function(_,C){var S=_.style[C];return!S&&_.currentStyle&&(S=_.currentStyle[C]),S},function(){var _=t.document.documentElement.style,C="userSelect"in _?"userSelect":"MozUserSelect"in _?"MozUserSelect":"WebkitUserSelect"in _?"WebkitUserSelect":"KhtmlUserSelect"in _?"KhtmlUserSelect":"";function S(P){return typeof P.onselectstart<"u"&&(P.onselectstart=t.util.falseFunction),C?P.style[C]="none":typeof P.unselectable=="string"&&(P.unselectable="on"),P}function w(P){return typeof P.onselectstart<"u"&&(P.onselectstart=null),C?P.style[C]="":typeof P.unselectable=="string"&&(P.unselectable=""),P}t.util.makeElementUnselectable=S,t.util.makeElementSelectable=w}();function g(_){var C=t.jsdomImplForWrapper(_);return C._canvas||C._image}function m(_){if(t.isLikelyNode){var C=t.jsdomImplForWrapper(_);C&&(C._image=null,C._canvas=null,C._currentSrc=null,C._attributes=null,C._classList=null)}}function b(_,C){_.imageSmoothingEnabled=_.imageSmoothingEnabled||_.webkitImageSmoothingEnabled||_.mozImageSmoothingEnabled||_.msImageSmoothingEnabled||_.oImageSmoothingEnabled,_.imageSmoothingEnabled=C}t.util.setImageSmoothing=b,t.util.getById=r,t.util.toArray=c,t.util.addClass=s,t.util.makeElement=n,t.util.wrapElement=i,t.util.getScrollLeftTop=o,t.util.getElementOffset=d,t.util.getNodeCanvas=g,t.util.cleanUpJsdomNode=m}(),function(){function f(c,n){return c+(/\?/.test(c)?"&":"?")+n}function r(){}function u(c,n){n||(n={});var s=n.method?n.method.toUpperCase():"GET",i=n.onComplete||function(){},o=new t.window.XMLHttpRequest,d=n.body||n.parameters;return o.onreadystatechange=function(){o.readyState===4&&(i(o),o.onreadystatechange=r)},s==="GET"&&(d=null,typeof n.parameters=="string"&&(c=f(c,n.parameters))),o.open(s,c,!0),(s==="POST"||s==="PUT")&&o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(d),o}t.util.request=u}(),t.log=console.log,t.warn=console.warn,function(){var f=t.util.object.extend,r=t.util.object.clone,u=[];t.util.object.extend(u,{cancelAll:function(){var g=this.splice(0);return g.forEach(function(m){m.cancel()}),g},cancelByCanvas:function(g){if(!g)return[];var m=this.filter(function(b){return typeof b.target=="object"&&b.target.canvas===g});return m.forEach(function(b){b.cancel()}),m},cancelByTarget:function(g){var m=this.findAnimationsByTarget(g);return m.forEach(function(b){b.cancel()}),m},findAnimationIndex:function(g){return this.indexOf(this.findAnimation(g))},findAnimation:function(g){return this.find(function(m){return m.cancel===g})},findAnimationsByTarget:function(g){return g?this.filter(function(m){return m.target===g}):[]}});function c(){return!1}function n(g,m,b,_){return-b*Math.cos(g/_*(Math.PI/2))+b+m}function s(g){g||(g={});var m=!1,b,_=function(){var C=t.runningAnimations.indexOf(b);return C>-1&&t.runningAnimations.splice(C,1)[0]};return b=f(r(g),{cancel:function(){return m=!0,_()},currentValue:"startValue"in g?g.startValue:0,completionRate:0,durationRate:0}),t.runningAnimations.push(b),d(function(C){var S=C||+new Date,w=g.duration||500,P=S+w,M,N=g.onChange||c,X=g.abort||c,j=g.onComplete||c,K=g.easing||n,ee="startValue"in g?g.startValue.length>0:!1,ne="startValue"in g?g.startValue:0,ae="endValue"in g?g.endValue:100,se=g.byValue||(ee?ne.map(function(oe,T){return ae[T]-ne[T]}):ae-ne);g.onStart&&g.onStart(),function oe(T){M=T||+new Date;var L=M>P?w:M-S,F=L/w,I=ee?ne.map(function(D,E){return K(L,ne[E],se[E],w)}):K(L,ne,se,w),J=Math.abs(ee?(I[0]-ne[0])/se[0]:(I-ne)/se);if(b.currentValue=ee?I.slice():I,b.completionRate=J,b.durationRate=F,!m){if(X(I,J,F)){_();return}if(M>P){b.currentValue=ee?ae.slice():ae,b.completionRate=1,b.durationRate=1,N(ee?ae.slice():ae,1,1),j(ae,1,1),_();return}else N(I,J,F),d(oe)}}(S)}),b.cancel}var i=t.window.requestAnimationFrame||t.window.webkitRequestAnimationFrame||t.window.mozRequestAnimationFrame||t.window.oRequestAnimationFrame||t.window.msRequestAnimationFrame||function(g){return t.window.setTimeout(g,1e3/60)},o=t.window.cancelAnimationFrame||t.window.clearTimeout;function d(){return i.apply(t.window,arguments)}function l(){return o.apply(t.window,arguments)}t.util.animate=s,t.util.requestAnimFrame=d,t.util.cancelAnimFrame=l,t.runningAnimations=u}(),function(){function f(u,c,n){var s="rgba("+parseInt(u[0]+n*(c[0]-u[0]),10)+","+parseInt(u[1]+n*(c[1]-u[1]),10)+","+parseInt(u[2]+n*(c[2]-u[2]),10);return s+=","+(u&&c?parseFloat(u[3]+n*(c[3]-u[3])):1),s+=")",s}function r(u,c,n,s){var i=new t.Color(u).getSource(),o=new t.Color(c).getSource(),d=s.onComplete,l=s.onChange;return s=s||{},t.util.animate(t.util.object.extend(s,{duration:n||500,startValue:i,endValue:o,byValue:o,easing:function(g,m,b,_){var C=s.colorEasing?s.colorEasing(g,_):1-Math.cos(g/_*(Math.PI/2));return f(m,b,C)},onComplete:function(g,m,b){if(d)return d(f(o,o,0),m,b)},onChange:function(g,m,b){if(l){if(Array.isArray(g))return l(f(g,g,0),m,b);l(g,m,b)}}}))}t.util.animateColor=r}(),function(){function f(T,L,F,I){return T<Math.abs(L)?(T=L,I=F/4):L===0&&T===0?I=F/(2*Math.PI)*Math.asin(1):I=F/(2*Math.PI)*Math.asin(L/T),{a:T,c:L,p:F,s:I}}function r(T,L,F){return T.a*Math.pow(2,10*(L-=1))*Math.sin((L*F-T.s)*(2*Math.PI)/T.p)}function u(T,L,F,I){return F*((T=T/I-1)*T*T+1)+L}function c(T,L,F,I){return T/=I/2,T<1?F/2*T*T*T+L:F/2*((T-=2)*T*T+2)+L}function n(T,L,F,I){return F*(T/=I)*T*T*T+L}function s(T,L,F,I){return-F*((T=T/I-1)*T*T*T-1)+L}function i(T,L,F,I){return T/=I/2,T<1?F/2*T*T*T*T+L:-F/2*((T-=2)*T*T*T-2)+L}function o(T,L,F,I){return F*(T/=I)*T*T*T*T+L}function d(T,L,F,I){return F*((T=T/I-1)*T*T*T*T+1)+L}function l(T,L,F,I){return T/=I/2,T<1?F/2*T*T*T*T*T+L:F/2*((T-=2)*T*T*T*T+2)+L}function g(T,L,F,I){return-F*Math.cos(T/I*(Math.PI/2))+F+L}function m(T,L,F,I){return F*Math.sin(T/I*(Math.PI/2))+L}function b(T,L,F,I){return-F/2*(Math.cos(Math.PI*T/I)-1)+L}function _(T,L,F,I){return T===0?L:F*Math.pow(2,10*(T/I-1))+L}function C(T,L,F,I){return T===I?L+F:F*(-Math.pow(2,-10*T/I)+1)+L}function S(T,L,F,I){return T===0?L:T===I?L+F:(T/=I/2,T<1?F/2*Math.pow(2,10*(T-1))+L:F/2*(-Math.pow(2,-10*--T)+2)+L)}function w(T,L,F,I){return-F*(Math.sqrt(1-(T/=I)*T)-1)+L}function P(T,L,F,I){return F*Math.sqrt(1-(T=T/I-1)*T)+L}function M(T,L,F,I){return T/=I/2,T<1?-F/2*(Math.sqrt(1-T*T)-1)+L:F/2*(Math.sqrt(1-(T-=2)*T)+1)+L}function N(T,L,F,I){var J=1.70158,D=0,E=F;if(T===0)return L;if(T/=I,T===1)return L+F;D||(D=I*.3);var B=f(E,F,D,J);return-r(B,T,I)+L}function X(T,L,F,I){var J=1.70158,D=0,E=F;if(T===0)return L;if(T/=I,T===1)return L+F;D||(D=I*.3);var B=f(E,F,D,J);return B.a*Math.pow(2,-10*T)*Math.sin((T*I-B.s)*(2*Math.PI)/B.p)+B.c+L}function j(T,L,F,I){var J=1.70158,D=0,E=F;if(T===0)return L;if(T/=I/2,T===2)return L+F;D||(D=I*(.3*1.5));var B=f(E,F,D,J);return T<1?-.5*r(B,T,I)+L:B.a*Math.pow(2,-10*(T-=1))*Math.sin((T*I-B.s)*(2*Math.PI)/B.p)*.5+B.c+L}function K(T,L,F,I,J){return J===void 0&&(J=1.70158),F*(T/=I)*T*((J+1)*T-J)+L}function ee(T,L,F,I,J){return J===void 0&&(J=1.70158),F*((T=T/I-1)*T*((J+1)*T+J)+1)+L}function ne(T,L,F,I,J){return J===void 0&&(J=1.70158),T/=I/2,T<1?F/2*(T*T*(((J*=1.525)+1)*T-J))+L:F/2*((T-=2)*T*(((J*=1.525)+1)*T+J)+2)+L}function ae(T,L,F,I){return F-se(I-T,0,F,I)+L}function se(T,L,F,I){return(T/=I)<1/2.75?F*(7.5625*T*T)+L:T<2/2.75?F*(7.5625*(T-=1.5/2.75)*T+.75)+L:T<2.5/2.75?F*(7.5625*(T-=2.25/2.75)*T+.9375)+L:F*(7.5625*(T-=2.625/2.75)*T+.984375)+L}function oe(T,L,F,I){return T<I/2?ae(T*2,0,F,I)*.5+L:se(T*2-I,0,F,I)*.5+F*.5+L}t.util.ease={easeInQuad:function(T,L,F,I){return F*(T/=I)*T+L},easeOutQuad:function(T,L,F,I){return-F*(T/=I)*(T-2)+L},easeInOutQuad:function(T,L,F,I){return T/=I/2,T<1?F/2*T*T+L:-F/2*(--T*(T-2)-1)+L},easeInCubic:function(T,L,F,I){return F*(T/=I)*T*T+L},easeOutCubic:u,easeInOutCubic:c,easeInQuart:n,easeOutQuart:s,easeInOutQuart:i,easeInQuint:o,easeOutQuint:d,easeInOutQuint:l,easeInSine:g,easeOutSine:m,easeInOutSine:b,easeInExpo:_,easeOutExpo:C,easeInOutExpo:S,easeInCirc:w,easeOutCirc:P,easeInOutCirc:M,easeInElastic:N,easeOutElastic:X,easeInOutElastic:j,easeInBack:K,easeOutBack:ee,easeInOutBack:ne,easeInBounce:ae,easeOutBounce:se,easeInOutBounce:oe}}(),function(f){var r=f.fabric||(f.fabric={}),u=r.util.object.extend,c=r.util.object.clone,n=r.util.toFixed,s=r.util.parseUnit,i=r.util.multiplyTransformMatrices,o=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],d=["symbol","image","marker","pattern","view","svg"],l=["pattern","defs","symbol","metadata","clipPath","mask","desc"],g=["symbol","g","a","svg","clipPath","defs"],m={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},b={stroke:"strokeOpacity",fill:"fillOpacity"},_="font-size",C="clip-path";r.svgValidTagNamesRegEx=P(o),r.svgViewBoxElementsRegEx=P(d),r.svgInvalidAncestorsRegEx=P(l),r.svgValidParentsRegEx=P(g),r.cssRules={},r.gradientDefs={},r.clipPaths={};function S(D){return D in m?m[D]:D}function w(D,E,B,A){var z=Array.isArray(E),H;if((D==="fill"||D==="stroke")&&E==="none")E="";else{if(D==="strokeUniform")return E==="non-scaling-stroke";if(D==="strokeDashArray")E==="none"?E=null:E=E.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(D==="transformMatrix")B&&B.transformMatrix?E=i(B.transformMatrix,r.parseTransformAttribute(E)):E=r.parseTransformAttribute(E);else if(D==="visible")E=E!=="none"&&E!=="hidden",B&&B.visible===!1&&(E=!1);else if(D==="opacity")E=parseFloat(E),B&&typeof B.opacity<"u"&&(E*=B.opacity);else if(D==="textAnchor")E=E==="start"?"left":E==="end"?"right":"center";else if(D==="charSpacing")H=s(E,A)/A*1e3;else if(D==="paintFirst"){var $=E.indexOf("fill"),te=E.indexOf("stroke"),E="fill";($>-1&&te>-1&&te<$||$===-1&&te>-1)&&(E="stroke")}else{if(D==="href"||D==="xlink:href"||D==="font")return E;if(D==="imageSmoothing")return E==="optimizeQuality";H=z?E.map(s):s(E,A)}}return!z&&isNaN(H)?E:H}function P(D){return new RegExp("^("+D.join("|")+")\\b","i")}function M(D){for(var E in b)if(!(typeof D[b[E]]>"u"||D[E]==="")){if(typeof D[E]>"u"){if(!r.Object.prototype[E])continue;D[E]=r.Object.prototype[E]}if(D[E].indexOf("url(")!==0){var B=new r.Color(D[E]);D[E]=B.setAlpha(n(B.getAlpha()*D[b[E]],2)).toRgba()}}return D}function N(D,E){var B,A=[],z,H,$;for(H=0,$=E.length;H<$;H++)B=E[H],z=D.getElementsByTagName(B),A=A.concat(Array.prototype.slice.call(z));return A}r.parseTransformAttribute=function(){function D(q,re){var le=r.util.cos(re[0]),ce=r.util.sin(re[0]),fe=0,he=0;re.length===3&&(fe=re[1],he=re[2]),q[0]=le,q[1]=ce,q[2]=-ce,q[3]=le,q[4]=fe-(le*fe-ce*he),q[5]=he-(ce*fe+le*he)}function E(q,re){var le=re[0],ce=re.length===2?re[1]:re[0];q[0]=le,q[3]=ce}function B(q,re,le){q[le]=Math.tan(r.util.degreesToRadians(re[0]))}function A(q,re){q[4]=re[0],re.length===2&&(q[5]=re[1])}var z=r.iMatrix,H=r.reNum,$=r.commaWsp,te="(?:(skewX)\\s*\\(\\s*("+H+")\\s*\\))",k="(?:(skewY)\\s*\\(\\s*("+H+")\\s*\\))",x="(?:(rotate)\\s*\\(\\s*("+H+")(?:"+$+"("+H+")"+$+"("+H+"))?\\s*\\))",O="(?:(scale)\\s*\\(\\s*("+H+")(?:"+$+"("+H+"))?\\s*\\))",V="(?:(translate)\\s*\\(\\s*("+H+")(?:"+$+"("+H+"))?\\s*\\))",W="(?:(matrix)\\s*\\(\\s*("+H+")"+$+"("+H+")"+$+"("+H+")"+$+"("+H+")"+$+"("+H+")"+$+"("+H+")\\s*\\))",R="(?:"+W+"|"+V+"|"+O+"|"+x+"|"+te+"|"+k+")",G="(?:"+R+"(?:"+$+"*"+R+")*)",Z="^\\s*(?:"+G+"?)\\s*$",ie=new RegExp(Z),Q=new RegExp(R,"g");return function(q){var re=z.concat(),le=[];if(!q||q&&!ie.test(q))return re;q.replace(Q,function(fe){var he=new RegExp(R).exec(fe).filter(function(Fe){return!!Fe}),ve=he[1],Se=he.slice(2).map(parseFloat);switch(ve){case"translate":A(re,Se);break;case"rotate":Se[0]=r.util.degreesToRadians(Se[0]),D(re,Se);break;case"scale":E(re,Se);break;case"skewX":B(re,Se,2);break;case"skewY":B(re,Se,1);break;case"matrix":re=Se;break}le.push(re.concat()),re=z.concat()});for(var ce=le[0];le.length>1;)le.shift(),ce=r.util.multiplyTransformMatrices(ce,le[0]);return ce}}();function X(D,E){var B,A;D.replace(/;\s*$/,"").split(";").forEach(function(z){var H=z.split(":");B=H[0].trim().toLowerCase(),A=H[1].trim(),E[B]=A})}function j(D,E){var B,A;for(var z in D)typeof D[z]>"u"||(B=z.toLowerCase(),A=D[z],E[B]=A)}function K(D,E){var B={};for(var A in r.cssRules[E])if(ee(D,A.split(" ")))for(var z in r.cssRules[E][A])B[z]=r.cssRules[E][A][z];return B}function ee(D,E){var B,A=!0;return B=ae(D,E.pop()),B&&E.length&&(A=ne(D,E)),B&&A&&E.length===0}function ne(D,E){for(var B,A=!0;D.parentNode&&D.parentNode.nodeType===1&&E.length;)A&&(B=E.pop()),D=D.parentNode,A=ae(D,B);return E.length===0}function ae(D,E){var B=D.nodeName,A=D.getAttribute("class"),z=D.getAttribute("id"),H,$;if(H=new RegExp("^"+B,"i"),E=E.replace(H,""),z&&E.length&&(H=new RegExp("#"+z+"(?![a-zA-Z\\-]+)","i"),E=E.replace(H,"")),A&&E.length)for(A=A.split(" "),$=A.length;$--;)H=new RegExp("\\."+A[$]+"(?![a-zA-Z\\-]+)","i"),E=E.replace(H,"");return E.length===0}function se(D,E){var B;if(D.getElementById&&(B=D.getElementById(E)),B)return B;var A,z,H,$=D.getElementsByTagName("*");for(z=0,H=$.length;z<H;z++)if(A=$[z],E===A.getAttribute("id"))return A}function oe(D){for(var E=N(D,["use","svg:use"]),B=0;E.length&&B<E.length;){var A=E[B],z=A.getAttribute("xlink:href")||A.getAttribute("href");if(z===null)return;var H=z.slice(1),$=A.getAttribute("x")||0,te=A.getAttribute("y")||0,k=se(D,H).cloneNode(!0),x=(k.getAttribute("transform")||"")+" translate("+$+", "+te+")",O,V=E.length,W,R,G,Z,ie=r.svgNS;if(L(k),/^svg$/i.test(k.nodeName)){var Q=k.ownerDocument.createElementNS(ie,"g");for(R=0,G=k.attributes,Z=G.length;R<Z;R++)W=G.item(R),Q.setAttributeNS(ie,W.nodeName,W.nodeValue);for(;k.firstChild;)Q.appendChild(k.firstChild);k=Q}for(R=0,G=A.attributes,Z=G.length;R<Z;R++)W=G.item(R),!(W.nodeName==="x"||W.nodeName==="y"||W.nodeName==="xlink:href"||W.nodeName==="href")&&(W.nodeName==="transform"?x=W.nodeValue+" "+x:k.setAttribute(W.nodeName,W.nodeValue));k.setAttribute("transform",x),k.setAttribute("instantiated_by_use","1"),k.removeAttribute("id"),O=A.parentNode,O.replaceChild(k,A),E.length===V&&B++}}var T=new RegExp("^\\s*("+r.reNum+"+)\\s*,?\\s*("+r.reNum+"+)\\s*,?\\s*("+r.reNum+"+)\\s*,?\\s*("+r.reNum+"+)\\s*$");function L(D){if(!r.svgViewBoxElementsRegEx.test(D.nodeName))return{};var E=D.getAttribute("viewBox"),B=1,A=1,z=0,H=0,$,te,k,x,O=D.getAttribute("width"),V=D.getAttribute("height"),W=D.getAttribute("x")||0,R=D.getAttribute("y")||0,G=D.getAttribute("preserveAspectRatio")||"",Z=!E||!(E=E.match(T)),ie=!O||!V||O==="100%"||V==="100%",Q=Z&&ie,q={},re="",le=0,ce=0;if(q.width=0,q.height=0,q.toBeParsed=Q,Z&&(W||R)&&D.parentNode&&D.parentNode.nodeName!=="#document"&&(re=" translate("+s(W)+" "+s(R)+") ",k=(D.getAttribute("transform")||"")+re,D.setAttribute("transform",k),D.removeAttribute("x"),D.removeAttribute("y")),Q)return q;if(Z)return q.width=s(O),q.height=s(V),q;if(z=-parseFloat(E[1]),H=-parseFloat(E[2]),$=parseFloat(E[3]),te=parseFloat(E[4]),q.minX=z,q.minY=H,q.viewBoxWidth=$,q.viewBoxHeight=te,ie?(q.width=$,q.height=te):(q.width=s(O),q.height=s(V),B=q.width/$,A=q.height/te),G=r.util.parsePreserveAspectRatioAttribute(G),G.alignX!=="none"&&(G.meetOrSlice==="meet"&&(A=B=B>A?A:B),G.meetOrSlice==="slice"&&(A=B=B>A?B:A),le=q.width-$*B,ce=q.height-te*B,G.alignX==="Mid"&&(le/=2),G.alignY==="Mid"&&(ce/=2),G.alignX==="Min"&&(le=0),G.alignY==="Min"&&(ce=0)),B===1&&A===1&&z===0&&H===0&&W===0&&R===0)return q;if((W||R)&&D.parentNode.nodeName!=="#document"&&(re=" translate("+s(W)+" "+s(R)+") "),k=re+" matrix("+B+" 0 0 "+A+" "+(z*B+le)+" "+(H*A+ce)+") ",D.nodeName==="svg"){for(x=D.ownerDocument.createElementNS(r.svgNS,"g");D.firstChild;)x.appendChild(D.firstChild);D.appendChild(x)}else x=D,x.removeAttribute("x"),x.removeAttribute("y"),k=x.getAttribute("transform")+k;return x.setAttribute("transform",k),q}function F(D,E){for(;D&&(D=D.parentNode);)if(D.nodeName&&E.test(D.nodeName.replace("svg:",""))&&!D.getAttribute("instantiated_by_use"))return!0;return!1}r.parseSVGDocument=function(D,E,B,A){if(D){oe(D);var z=r.Object.__uid++,H,$,te=L(D),k=r.util.toArray(D.getElementsByTagName("*"));if(te.crossOrigin=A&&A.crossOrigin,te.svgUid=z,k.length===0&&r.isLikelyNode){k=D.selectNodes('//*[name(.)!="svg"]');var x=[];for(H=0,$=k.length;H<$;H++)x[H]=k[H];k=x}var O=k.filter(function(W){return L(W),r.svgValidTagNamesRegEx.test(W.nodeName.replace("svg:",""))&&!F(W,r.svgInvalidAncestorsRegEx)});if(!O||O&&!O.length){E&&E([],{});return}var V={};k.filter(function(W){return W.nodeName.replace("svg:","")==="clipPath"}).forEach(function(W){var R=W.getAttribute("id");V[R]=r.util.toArray(W.getElementsByTagName("*")).filter(function(G){return r.svgValidTagNamesRegEx.test(G.nodeName.replace("svg:",""))})}),r.gradientDefs[z]=r.getGradientDefs(D),r.cssRules[z]=r.getCSSRules(D),r.clipPaths[z]=V,r.parseElements(O,function(W,R){E&&(E(W,te,R,k),delete r.gradientDefs[z],delete r.cssRules[z],delete r.clipPaths[z])},c(te),B,A)}};function I(D,E){var B=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],A="xlink:href",z=E.getAttribute(A).slice(1),H=se(D,z);if(H&&H.getAttribute(A)&&I(D,H),B.forEach(function(te){H&&!E.hasAttribute(te)&&H.hasAttribute(te)&&E.setAttribute(te,H.getAttribute(te))}),!E.children.length)for(var $=H.cloneNode(!0);$.firstChild;)E.appendChild($.firstChild);E.removeAttribute(A)}var J=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+r.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+r.reNum+"))?\\s+(.*)");u(r,{parseFontDeclaration:function(D,E){var B=D.match(J);if(B){var A=B[1],z=B[3],H=B[4],$=B[5],te=B[6];A&&(E.fontStyle=A),z&&(E.fontWeight=isNaN(parseFloat(z))?z:parseFloat(z)),H&&(E.fontSize=s(H)),te&&(E.fontFamily=te),$&&(E.lineHeight=$==="normal"?1:$)}},getGradientDefs:function(D){var E=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],B=N(D,E),A,z=0,H={};for(z=B.length;z--;)A=B[z],A.getAttribute("xlink:href")&&I(D,A),H[A.getAttribute("id")]=A;return H},parseAttributes:function(D,E,B){if(D){var A,z={},H,$;typeof B>"u"&&(B=D.getAttribute("svgUid")),D.parentNode&&r.svgValidParentsRegEx.test(D.parentNode.nodeName)&&(z=r.parseAttributes(D.parentNode,E,B));var te=E.reduce(function(G,Z){return A=D.getAttribute(Z),A&&(G[Z]=A),G},{}),k=u(K(D,B),r.parseStyleAttribute(D));te=u(te,k),k[C]&&D.setAttribute(C,k[C]),H=$=z.fontSize||r.Text.DEFAULT_SVG_FONT_SIZE,te[_]&&(te[_]=H=s(te[_],$));var x,O,V={};for(var W in te)x=S(W),O=w(x,te[W],z,H),V[x]=O;V.font&&r.parseFontDeclaration(V.font,V);var R=u(z,V);return r.svgValidParentsRegEx.test(D.nodeName)?R:M(R)}},parseElements:function(D,E,B,A,z){new r.ElementsParser(D,E,B,A,z).parse()},parseStyleAttribute:function(D){var E={},B=D.getAttribute("style");return B&&(typeof B=="string"?X(B,E):j(B,E)),E},parsePointsAttribute:function(D){if(!D)return null;D=D.replace(/,/g," ").trim(),D=D.split(/\s+/);var E=[],B,A;for(B=0,A=D.length;B<A;B+=2)E.push({x:parseFloat(D[B]),y:parseFloat(D[B+1])});return E},getCSSRules:function(D){var E=D.getElementsByTagName("style"),B,A,z={},H;for(B=0,A=E.length;B<A;B++){var $=E[B].textContent;$=$.replace(/\/\*[\s\S]*?\*\//g,""),$.trim()!==""&&(H=$.split("}"),H=H.filter(function(te){return te.trim()}),H.forEach(function(te){var k=te.split("{"),x={},O=k[1].trim(),V=O.split(";").filter(function(Z){return Z.trim()});for(B=0,A=V.length;B<A;B++){var W=V[B].split(":"),R=W[0].trim(),G=W[1].trim();x[R]=G}te=k[0].trim(),te.split(",").forEach(function(Z){Z=Z.replace(/^svg/i,"").trim(),Z!==""&&(z[Z]?r.util.object.extend(z[Z],x):z[Z]=r.util.object.clone(x))})}))}return z},loadSVGFromURL:function(D,E,B,A){D=D.replace(/^\n\s*/,"").trim(),new r.util.request(D,{method:"get",onComplete:z});function z(H){var $=H.responseXML;if(!$||!$.documentElement)return E&&E(null),!1;r.parseSVGDocument($.documentElement,function(te,k,x,O){E&&E(te,k,x,O)},B,A)}},loadSVGFromString:function(D,E,B,A){var z=new r.window.DOMParser,H=z.parseFromString(D.trim(),"text/xml");r.parseSVGDocument(H.documentElement,function($,te,k,x){E($,te,k,x)},B,A)}})}(e),t.ElementsParser=function(f,r,u,c,n,s){this.elements=f,this.callback=r,this.options=u,this.reviver=c,this.svgUid=u&&u.svgUid||0,this.parsingOptions=n,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=s},function(f){f.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},f.createObjects=function(){var r=this;this.elements.forEach(function(u,c){u.setAttribute("svgUid",r.svgUid),r.createObject(u,c)})},f.findTag=function(r){return t[t.util.string.capitalize(r.tagName.replace("svg:",""))]},f.createObject=function(r,u){var c=this.findTag(r);if(c&&c.fromElement)try{c.fromElement(r,this.createCallback(u,r),this.options)}catch(n){t.log(n)}else this.checkIfDone()},f.createCallback=function(r,u){var c=this;return function(n){var s;c.resolveGradient(n,u,"fill"),c.resolveGradient(n,u,"stroke"),n instanceof t.Image&&n._originalElement&&(s=n.parsePreserveAspectRatioAttribute(u)),n._removeTransformMatrix(s),c.resolveClipPath(n,u),c.reviver&&c.reviver(u,n),c.instances[r]=n,c.checkIfDone()}},f.extractPropertyDefinition=function(r,u,c){var n=r[u],s=this.regexUrl;if(s.test(n)){s.lastIndex=0;var i=s.exec(n)[1];return s.lastIndex=0,t[c][this.svgUid][i]}},f.resolveGradient=function(r,u,c){var n=this.extractPropertyDefinition(r,c,"gradientDefs");if(n){var s=u.getAttribute(c+"-opacity"),i=t.Gradient.fromElement(n,r,s,this.options);r.set(c,i)}},f.createClipPathCallback=function(r,u){return function(c){c._removeTransformMatrix(),c.fillRule=c.clipRule,u.push(c)}},f.resolveClipPath=function(r,u){var c=this.extractPropertyDefinition(r,"clipPath","clipPaths"),n,s,i,o,d,l;if(c){o=[],i=t.util.invertTransform(r.calcTransformMatrix());for(var g=c[0].parentNode,m=u;m.parentNode&&m.getAttribute("clip-path")!==r.clipPath;)m=m.parentNode;m.parentNode.appendChild(g);for(var b=0;b<c.length;b++)n=c[b],s=this.findTag(n),s.fromElement(n,this.createClipPathCallback(r,o),this.options);o.length===1?c=o[0]:c=new t.Group(o),d=t.util.multiplyTransformMatrices(i,c.calcTransformMatrix()),c.clipPath&&this.resolveClipPath(c,m);var l=t.util.qrDecompose(d);c.flipX=!1,c.flipY=!1,c.set("scaleX",l.scaleX),c.set("scaleY",l.scaleY),c.angle=l.angle,c.skewX=l.skewX,c.skewY=0,c.setPositionByOrigin({x:l.translateX,y:l.translateY},"center","center"),r.clipPath=c}else delete r.clipPath},f.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(r){return r!=null}),this.callback(this.instances,this.elements))}}(t.ElementsParser.prototype),function(f){var r=f.fabric||(f.fabric={});if(r.Point){r.warn("fabric.Point is already defined");return}r.Point=u;function u(c,n){this.x=c,this.y=n}u.prototype={type:"point",constructor:u,add:function(c){return new u(this.x+c.x,this.y+c.y)},addEquals:function(c){return this.x+=c.x,this.y+=c.y,this},scalarAdd:function(c){return new u(this.x+c,this.y+c)},scalarAddEquals:function(c){return this.x+=c,this.y+=c,this},subtract:function(c){return new u(this.x-c.x,this.y-c.y)},subtractEquals:function(c){return this.x-=c.x,this.y-=c.y,this},scalarSubtract:function(c){return new u(this.x-c,this.y-c)},scalarSubtractEquals:function(c){return this.x-=c,this.y-=c,this},multiply:function(c){return new u(this.x*c,this.y*c)},multiplyEquals:function(c){return this.x*=c,this.y*=c,this},divide:function(c){return new u(this.x/c,this.y/c)},divideEquals:function(c){return this.x/=c,this.y/=c,this},eq:function(c){return this.x===c.x&&this.y===c.y},lt:function(c){return this.x<c.x&&this.y<c.y},lte:function(c){return this.x<=c.x&&this.y<=c.y},gt:function(c){return this.x>c.x&&this.y>c.y},gte:function(c){return this.x>=c.x&&this.y>=c.y},lerp:function(c,n){return typeof n>"u"&&(n=.5),n=Math.max(Math.min(1,n),0),new u(this.x+(c.x-this.x)*n,this.y+(c.y-this.y)*n)},distanceFrom:function(c){var n=this.x-c.x,s=this.y-c.y;return Math.sqrt(n*n+s*s)},midPointFrom:function(c){return this.lerp(c)},min:function(c){return new u(Math.min(this.x,c.x),Math.min(this.y,c.y))},max:function(c){return new u(Math.max(this.x,c.x),Math.max(this.y,c.y))},toString:function(){return this.x+","+this.y},setXY:function(c,n){return this.x=c,this.y=n,this},setX:function(c){return this.x=c,this},setY:function(c){return this.y=c,this},setFromPoint:function(c){return this.x=c.x,this.y=c.y,this},swap:function(c){var n=this.x,s=this.y;this.x=c.x,this.y=c.y,c.x=n,c.y=s},clone:function(){return new u(this.x,this.y)}}}(e),function(f){var r=f.fabric||(f.fabric={});if(r.Intersection){r.warn("fabric.Intersection is already defined");return}function u(c){this.status=c,this.points=[]}r.Intersection=u,r.Intersection.prototype={constructor:u,appendPoint:function(c){return this.points.push(c),this},appendPoints:function(c){return this.points=this.points.concat(c),this}},r.Intersection.intersectLineLine=function(c,n,s,i){var o,d=(i.x-s.x)*(c.y-s.y)-(i.y-s.y)*(c.x-s.x),l=(n.x-c.x)*(c.y-s.y)-(n.y-c.y)*(c.x-s.x),g=(i.y-s.y)*(n.x-c.x)-(i.x-s.x)*(n.y-c.y);if(g!==0){var m=d/g,b=l/g;0<=m&&m<=1&&0<=b&&b<=1?(o=new u("Intersection"),o.appendPoint(new r.Point(c.x+m*(n.x-c.x),c.y+m*(n.y-c.y)))):o=new u}else d===0||l===0?o=new u("Coincident"):o=new u("Parallel");return o},r.Intersection.intersectLinePolygon=function(c,n,s){var i=new u,o=s.length,d,l,g,m;for(m=0;m<o;m++)d=s[m],l=s[(m+1)%o],g=u.intersectLineLine(c,n,d,l),i.appendPoints(g.points);return i.points.length>0&&(i.status="Intersection"),i},r.Intersection.intersectPolygonPolygon=function(c,n){var s=new u,i=c.length,o;for(o=0;o<i;o++){var d=c[o],l=c[(o+1)%i],g=u.intersectLinePolygon(d,l,n);s.appendPoints(g.points)}return s.points.length>0&&(s.status="Intersection"),s},r.Intersection.intersectPolygonRectangle=function(c,n,s){var i=n.min(s),o=n.max(s),d=new r.Point(o.x,i.y),l=new r.Point(i.x,o.y),g=u.intersectLinePolygon(i,d,c),m=u.intersectLinePolygon(d,o,c),b=u.intersectLinePolygon(o,l,c),_=u.intersectLinePolygon(l,i,c),C=new u;return C.appendPoints(g.points),C.appendPoints(m.points),C.appendPoints(b.points),C.appendPoints(_.points),C.points.length>0&&(C.status="Intersection"),C}}(e),function(f){var r=f.fabric||(f.fabric={});if(r.Color){r.warn("fabric.Color is already defined.");return}function u(n){n?this._tryParsingColor(n):this.setSource([0,0,0,1])}r.Color=u,r.Color.prototype={_tryParsingColor:function(n){var s;n in u.colorNameMap&&(n=u.colorNameMap[n]),n==="transparent"&&(s=[255,255,255,0]),s||(s=u.sourceFromHex(n)),s||(s=u.sourceFromRgb(n)),s||(s=u.sourceFromHsl(n)),s||(s=[0,0,0,1]),s&&this.setSource(s)},_rgbToHsl:function(n,s,i){n/=255,s/=255,i/=255;var o,d,l,g=r.util.array.max([n,s,i]),m=r.util.array.min([n,s,i]);if(l=(g+m)/2,g===m)o=d=0;else{var b=g-m;switch(d=l>.5?b/(2-g-m):b/(g+m),g){case n:o=(s-i)/b+(s<i?6:0);break;case s:o=(i-n)/b+2;break;case i:o=(n-s)/b+4;break}o/=6}return[Math.round(o*360),Math.round(d*100),Math.round(l*100)]},getSource:function(){return this._source},setSource:function(n){this._source=n},toRgb:function(){var n=this.getSource();return"rgb("+n[0]+","+n[1]+","+n[2]+")"},toRgba:function(){var n=this.getSource();return"rgba("+n[0]+","+n[1]+","+n[2]+","+n[3]+")"},toHsl:function(){var n=this.getSource(),s=this._rgbToHsl(n[0],n[1],n[2]);return"hsl("+s[0]+","+s[1]+"%,"+s[2]+"%)"},toHsla:function(){var n=this.getSource(),s=this._rgbToHsl(n[0],n[1],n[2]);return"hsla("+s[0]+","+s[1]+"%,"+s[2]+"%,"+n[3]+")"},toHex:function(){var n=this.getSource(),s,i,o;return s=n[0].toString(16),s=s.length===1?"0"+s:s,i=n[1].toString(16),i=i.length===1?"0"+i:i,o=n[2].toString(16),o=o.length===1?"0"+o:o,s.toUpperCase()+i.toUpperCase()+o.toUpperCase()},toHexa:function(){var n=this.getSource(),s;return s=Math.round(n[3]*255),s=s.toString(16),s=s.length===1?"0"+s:s,this.toHex()+s.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(n){var s=this.getSource();return s[3]=n,this.setSource(s),this},toGrayscale:function(){var n=this.getSource(),s=parseInt((n[0]*.3+n[1]*.59+n[2]*.11).toFixed(0),10),i=n[3];return this.setSource([s,s,s,i]),this},toBlackWhite:function(n){var s=this.getSource(),i=(s[0]*.3+s[1]*.59+s[2]*.11).toFixed(0),o=s[3];return n=n||127,i=Number(i)<Number(n)?0:255,this.setSource([i,i,i,o]),this},overlayWith:function(n){n instanceof u||(n=new u(n));var s=[],i=this.getAlpha(),o=.5,d=this.getSource(),l=n.getSource(),g;for(g=0;g<3;g++)s.push(Math.round(d[g]*(1-o)+l[g]*o));return s[3]=i,this.setSource(s),this}},r.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,r.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,r.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,r.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function c(n,s,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?n+(s-n)*6*i:i<1/2?s:i<2/3?n+(s-n)*(2/3-i)*6:n}r.Color.fromRgb=function(n){return u.fromSource(u.sourceFromRgb(n))},r.Color.sourceFromRgb=function(n){var s=n.match(u.reRGBa);if(s){var i=parseInt(s[1],10)/(/%$/.test(s[1])?100:1)*(/%$/.test(s[1])?255:1),o=parseInt(s[2],10)/(/%$/.test(s[2])?100:1)*(/%$/.test(s[2])?255:1),d=parseInt(s[3],10)/(/%$/.test(s[3])?100:1)*(/%$/.test(s[3])?255:1);return[parseInt(i,10),parseInt(o,10),parseInt(d,10),s[4]?parseFloat(s[4]):1]}},r.Color.fromRgba=u.fromRgb,r.Color.fromHsl=function(n){return u.fromSource(u.sourceFromHsl(n))},r.Color.sourceFromHsl=function(n){var s=n.match(u.reHSLa);if(s){var i=(parseFloat(s[1])%360+360)%360/360,o=parseFloat(s[2])/(/%$/.test(s[2])?100:1),d=parseFloat(s[3])/(/%$/.test(s[3])?100:1),l,g,m;if(o===0)l=g=m=d;else{var b=d<=.5?d*(o+1):d+o-d*o,_=d*2-b;l=c(_,b,i+1/3),g=c(_,b,i),m=c(_,b,i-1/3)}return[Math.round(l*255),Math.round(g*255),Math.round(m*255),s[4]?parseFloat(s[4]):1]}},r.Color.fromHsla=u.fromHsl,r.Color.fromHex=function(n){return u.fromSource(u.sourceFromHex(n))},r.Color.sourceFromHex=function(n){if(n.match(u.reHex)){var s=n.slice(n.indexOf("#")+1),i=s.length===3||s.length===4,o=s.length===8||s.length===4,d=i?s.charAt(0)+s.charAt(0):s.substring(0,2),l=i?s.charAt(1)+s.charAt(1):s.substring(2,4),g=i?s.charAt(2)+s.charAt(2):s.substring(4,6),m=o?i?s.charAt(3)+s.charAt(3):s.substring(6,8):"FF";return[parseInt(d,16),parseInt(l,16),parseInt(g,16),parseFloat((parseInt(m,16)/255).toFixed(2))]}},r.Color.fromSource=function(n){var s=new u;return s.setSource(n),s}}(e),function(f){var r=f.fabric||(f.fabric={}),u=["e","se","s","sw","w","nw","n","ne","e"],c=["ns","nesw","ew","nwse"],n={},s="left",i="top",o="right",d="bottom",l="center",g={top:d,bottom:i,left:o,right:s,center:l},m=r.util.radiansToDegrees,b=Math.sign||function(x){return(x>0)-(x<0)||+x};function _(x,O){var V=x.angle+m(Math.atan2(O.y,O.x))+360;return Math.round(V%360/45)}function C(x,O){var V=O.transform.target,W=V.canvas,R=r.util.object.clone(O);R.target=V,W&&W.fire("object:"+x,R),V.fire(x,O)}function S(x,O){var V=O.canvas,W=V.uniScaleKey,R=x[W];return V.uniformScaling&&!R||!V.uniformScaling&&R}function w(x){return x.originX===l&&x.originY===l}function P(x,O,V){var W=x.lockScalingX,R=x.lockScalingY;return!!(W&&R||!O&&(W||R)&&V||W&&O==="x"||R&&O==="y")}function M(x,O,V){var W="not-allowed",R=S(x,V),G="";if(O.x!==0&&O.y===0?G="x":O.x===0&&O.y!==0&&(G="y"),P(V,G,R))return W;var Z=_(V,O);return u[Z]+"-resize"}function N(x,O,V){var W="not-allowed";if(O.x!==0&&V.lockSkewingY||O.y!==0&&V.lockSkewingX)return W;var R=_(V,O)%4;return c[R]+"-resize"}function X(x,O,V){return x[V.canvas.altActionKey]?n.skewCursorStyleHandler(x,O,V):n.scaleCursorStyleHandler(x,O,V)}function j(x,O,V){var W=x[V.canvas.altActionKey];if(O.x===0)return W?"skewX":"scaleY";if(O.y===0)return W?"skewY":"scaleX"}function K(x,O,V){return V.lockRotation?"not-allowed":O.cursorStyle}function ee(x,O,V,W){return{e:x,transform:O,pointer:{x:V,y:W}}}function ne(x){return function(O,V,W,R){var G=V.target,Z=G.getCenterPoint(),ie=G.translateToOriginPoint(Z,V.originX,V.originY),Q=x(O,V,W,R);return G.setPositionByOrigin(ie,V.originX,V.originY),Q}}function ae(x,O){return function(V,W,R,G){var Z=O(V,W,R,G);return Z&&C(x,ee(V,W,R,G)),Z}}function se(x,O,V,W,R){var G=x.target,Z=G.controls[x.corner],ie=G.canvas.getZoom(),Q=G.padding/ie,q=G.toLocalPoint(new r.Point(W,R),O,V);return q.x>=Q&&(q.x-=Q),q.x<=-Q&&(q.x+=Q),q.y>=Q&&(q.y-=Q),q.y<=Q&&(q.y+=Q),q.x-=Z.offsetX,q.y-=Z.offsetY,q}function oe(x){return x.flipX!==x.flipY}function T(x,O,V,W,R){if(x[O]!==0){var G=x._getTransformedDimensions()[W],Z=R/G*x[V];x.set(V,Z)}}function L(x,O,V,W){var R=O.target,G=R._getTransformedDimensions(0,R.skewY),Z=se(O,O.originX,O.originY,V,W),ie=Math.abs(Z.x*2)-G.x,Q=R.skewX,q;ie<2?q=0:(q=m(Math.atan2(ie/R.scaleX,G.y/R.scaleY)),O.originX===s&&O.originY===d&&(q=-q),O.originX===o&&O.originY===i&&(q=-q),oe(R)&&(q=-q));var re=Q!==q;if(re){var le=R._getTransformedDimensions().y;R.set("skewX",q),T(R,"skewY","scaleY","y",le)}return re}function F(x,O,V,W){var R=O.target,G=R._getTransformedDimensions(R.skewX,0),Z=se(O,O.originX,O.originY,V,W),ie=Math.abs(Z.y*2)-G.y,Q=R.skewY,q;ie<2?q=0:(q=m(Math.atan2(ie/R.scaleY,G.x/R.scaleX)),O.originX===s&&O.originY===d&&(q=-q),O.originX===o&&O.originY===i&&(q=-q),oe(R)&&(q=-q));var re=Q!==q;if(re){var le=R._getTransformedDimensions().x;R.set("skewY",q),T(R,"skewX","scaleX","x",le)}return re}function I(x,O,V,W){var R=O.target,G=R.skewX,Z,ie=O.originY;if(R.lockSkewingX)return!1;if(G===0){var Q=se(O,l,l,V,W);Q.x>0?Z=s:Z=o}else G>0&&(Z=ie===i?s:o),G<0&&(Z=ie===i?o:s),oe(R)&&(Z=Z===s?o:s);O.originX=Z;var q=ae("skewing",ne(L));return q(x,O,V,W)}function J(x,O,V,W){var R=O.target,G=R.skewY,Z,ie=O.originX;if(R.lockSkewingY)return!1;if(G===0){var Q=se(O,l,l,V,W);Q.y>0?Z=i:Z=d}else G>0&&(Z=ie===s?i:d),G<0&&(Z=ie===s?d:i),oe(R)&&(Z=Z===i?d:i);O.originY=Z;var q=ae("skewing",ne(F));return q(x,O,V,W)}function D(x,O,V,W){var R=O,G=R.target,Z=G.translateToOriginPoint(G.getCenterPoint(),R.originX,R.originY);if(G.lockRotation)return!1;var ie=Math.atan2(R.ey-Z.y,R.ex-Z.x),Q=Math.atan2(W-Z.y,V-Z.x),q=m(Q-ie+R.theta),re=!0;if(G.snapAngle>0){var le=G.snapAngle,ce=G.snapThreshold||le,fe=Math.ceil(q/le)*le,he=Math.floor(q/le)*le;Math.abs(q-he)<ce?q=he:Math.abs(q-fe)<ce&&(q=fe)}return q<0&&(q=360+q),q%=360,re=G.angle!==q,G.angle=q,re}function E(x,O,V,W,R){R=R||{};var G=O.target,Z=G.lockScalingX,ie=G.lockScalingY,Q=R.by,q,re,le,ce,fe=S(x,G),he=P(G,Q,fe),ve,Se,Fe=O.gestureScale;if(he)return!1;if(Fe)re=O.scaleX*Fe,le=O.scaleY*Fe;else{if(q=se(O,O.originX,O.originY,V,W),ve=Q!=="y"?b(q.x):1,Se=Q!=="x"?b(q.y):1,O.signX||(O.signX=ve),O.signY||(O.signY=Se),G.lockScalingFlip&&(O.signX!==ve||O.signY!==Se))return!1;if(ce=G._getTransformedDimensions(),fe&&!Q){var We=Math.abs(q.x)+Math.abs(q.y),Ie=O.original,cn=Math.abs(ce.x*Ie.scaleX/G.scaleX)+Math.abs(ce.y*Ie.scaleY/G.scaleY),ri=We/cn;re=Ie.scaleX*ri,le=Ie.scaleY*ri}else re=Math.abs(q.x*G.scaleX/ce.x),le=Math.abs(q.y*G.scaleY/ce.y);w(O)&&(re*=2,le*=2),O.signX!==ve&&Q!=="y"&&(O.originX=g[O.originX],re*=-1,O.signX=ve),O.signY!==Se&&Q!=="x"&&(O.originY=g[O.originY],le*=-1,O.signY=Se)}var Xe=G.scaleX,ft=G.scaleY;return Q?(Q==="x"&&G.set("scaleX",re),Q==="y"&&G.set("scaleY",le)):(!Z&&G.set("scaleX",re),!ie&&G.set("scaleY",le)),Xe!==G.scaleX||ft!==G.scaleY}function B(x,O,V,W){return E(x,O,V,W)}function A(x,O,V,W){return E(x,O,V,W,{by:"x"})}function z(x,O,V,W){return E(x,O,V,W,{by:"y"})}function H(x,O,V,W){return x[O.target.canvas.altActionKey]?n.skewHandlerX(x,O,V,W):n.scalingY(x,O,V,W)}function $(x,O,V,W){return x[O.target.canvas.altActionKey]?n.skewHandlerY(x,O,V,W):n.scalingX(x,O,V,W)}function te(x,O,V,W){var R=O.target,G=se(O,O.originX,O.originY,V,W),Z=R.strokeWidth/(R.strokeUniform?R.scaleX:1),ie=w(O)?2:1,Q=R.width,q=Math.abs(G.x*ie/R.scaleX)-Z;return R.set("width",Math.max(q,0)),Q!==q}function k(x,O,V,W){var R=O.target,G=V-O.offsetX,Z=W-O.offsetY,ie=!R.get("lockMovementX")&&R.left!==G,Q=!R.get("lockMovementY")&&R.top!==Z;return ie&&R.set("left",G),Q&&R.set("top",Z),(ie||Q)&&C("moving",ee(x,O,V,W)),ie||Q}n.scaleCursorStyleHandler=M,n.skewCursorStyleHandler=N,n.scaleSkewCursorStyleHandler=X,n.rotationWithSnapping=ae("rotating",ne(D)),n.scalingEqually=ae("scaling",ne(B)),n.scalingX=ae("scaling",ne(A)),n.scalingY=ae("scaling",ne(z)),n.scalingYOrSkewingX=H,n.scalingXOrSkewingY=$,n.changeWidth=ae("resizing",ne(te)),n.skewHandlerX=I,n.skewHandlerY=J,n.dragHandler=k,n.scaleOrSkewActionName=j,n.rotationStyleHandler=K,n.fireEvent=C,n.wrapWithFixedAnchor=ne,n.wrapWithFireEvent=ae,n.getLocalPoint=se,r.controlsUtils=n}(e),function(f){var r=f.fabric||(f.fabric={}),u=r.util.degreesToRadians,c=r.controlsUtils;function n(i,o,d,l,g){l=l||{};var m=this.sizeX||l.cornerSize||g.cornerSize,b=this.sizeY||l.cornerSize||g.cornerSize,_=typeof l.transparentCorners<"u"?l.transparentCorners:g.transparentCorners,C=_?"stroke":"fill",S=!_&&(l.cornerStrokeColor||g.cornerStrokeColor),w=o,P=d,M;i.save(),i.fillStyle=l.cornerColor||g.cornerColor,i.strokeStyle=l.cornerStrokeColor||g.cornerStrokeColor,m>b?(M=m,i.scale(1,b/m),P=d*m/b):b>m?(M=b,i.scale(m/b,1),w=o*b/m):M=m,i.lineWidth=1,i.beginPath(),i.arc(w,P,M/2,0,2*Math.PI,!1),i[C](),S&&i.stroke(),i.restore()}function s(i,o,d,l,g){l=l||{};var m=this.sizeX||l.cornerSize||g.cornerSize,b=this.sizeY||l.cornerSize||g.cornerSize,_=typeof l.transparentCorners<"u"?l.transparentCorners:g.transparentCorners,C=_?"stroke":"fill",S=!_&&(l.cornerStrokeColor||g.cornerStrokeColor),w=m/2,P=b/2;i.save(),i.fillStyle=l.cornerColor||g.cornerColor,i.strokeStyle=l.cornerStrokeColor||g.cornerStrokeColor,i.lineWidth=1,i.translate(o,d),i.rotate(u(g.angle)),i[C+"Rect"](-w,-P,m,b),S&&i.strokeRect(-w,-P,m,b),i.restore()}c.renderCircleControl=n,c.renderSquareControl=s}(e),function(f){var r=f.fabric||(f.fabric={});function u(c){for(var n in c)this[n]=c[n]}r.Control=u,r.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(c,n){return n.cursorStyle},getActionName:function(c,n){return n.actionName},getVisibility:function(c,n){var s=c._controlsVisibility;return s&&typeof s[n]<"u"?s[n]:this.visible},setVisibility:function(c){this.visible=c},positionHandler:function(c,n){var s=r.util.transformPoint({x:this.x*c.x+this.offsetX,y:this.y*c.y+this.offsetY},n);return s},calcCornerCoords:function(c,n,s,i,o){var d,l,g,m,b=o?this.touchSizeX:this.sizeX,_=o?this.touchSizeY:this.sizeY;if(b&&_&&b!==_){var C=Math.atan2(_,b),S=Math.sqrt(b*b+_*_)/2,w=C-r.util.degreesToRadians(c),P=Math.PI/2-C-r.util.degreesToRadians(c);d=S*r.util.cos(w),l=S*r.util.sin(w),g=S*r.util.cos(P),m=S*r.util.sin(P)}else{var M=b&&_?b:n;S=M*.7071067812;var w=r.util.degreesToRadians(45-c);d=g=S*r.util.cos(w),l=m=S*r.util.sin(w)}return{tl:{x:s-m,y:i-g},tr:{x:s+d,y:i-l},bl:{x:s-d,y:i+l},br:{x:s+m,y:i+g}}},render:function(c,n,s,i,o){switch(i=i||{},i.cornerStyle||o.cornerStyle){case"circle":r.controlsUtils.renderCircleControl.call(this,c,n,s,i,o);break;default:r.controlsUtils.renderSquareControl.call(this,c,n,s,i,o)}}}}(e),function(){function f(s,i){var o=s.getAttribute("style"),d=s.getAttribute("offset")||0,l,g,m,b;if(d=parseFloat(d)/(/%$/.test(d)?100:1),d=d<0?0:d>1?1:d,o){var _=o.split(/\s*;\s*/);for(_[_.length-1]===""&&_.pop(),b=_.length;b--;){var C=_[b].split(/\s*:\s*/),S=C[0].trim(),w=C[1].trim();S==="stop-color"?l=w:S==="stop-opacity"&&(m=w)}}return l||(l=s.getAttribute("stop-color")||"rgb(0,0,0)"),m||(m=s.getAttribute("stop-opacity")),l=new t.Color(l),g=l.getAlpha(),m=isNaN(parseFloat(m))?1:parseFloat(m),m*=g*i,{offset:d,color:l.toRgb(),opacity:m}}function r(s){return{x1:s.getAttribute("x1")||0,y1:s.getAttribute("y1")||0,x2:s.getAttribute("x2")||"100%",y2:s.getAttribute("y2")||0}}function u(s){return{x1:s.getAttribute("fx")||s.getAttribute("cx")||"50%",y1:s.getAttribute("fy")||s.getAttribute("cy")||"50%",r1:0,x2:s.getAttribute("cx")||"50%",y2:s.getAttribute("cy")||"50%",r2:s.getAttribute("r")||"50%"}}var c=t.util.object.clone;t.Gradient=t.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(s){s||(s={}),s.coords||(s.coords={});var i,o=this;Object.keys(s).forEach(function(d){o[d]=s[d]}),this.id?this.id+="_"+t.Object.__uid++:this.id=t.Object.__uid++,i={x1:s.coords.x1||0,y1:s.coords.y1||0,x2:s.coords.x2||0,y2:s.coords.y2||0},this.type==="radial"&&(i.r1=s.coords.r1||0,i.r2=s.coords.r2||0),this.coords=i,this.colorStops=s.colorStops.slice()},addColorStop:function(s){for(var i in s){var o=new t.Color(s[i]);this.colorStops.push({offset:parseFloat(i),color:o.toRgb(),opacity:o.getAlpha()})}return this},toObject:function(s){var i={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return t.util.populateWithProperties(this,i,s),i},toSVG:function(s,g){var o=c(this.coords,!0),d,l,g=g||{},m,b,_=c(this.colorStops,!0),C=o.r1>o.r2,S=this.gradientTransform?this.gradientTransform.concat():t.iMatrix.concat(),w=-this.offsetX,P=-this.offsetY,M=!!g.additionalTransform,N=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(_.sort(function(ne,ae){return ne.offset-ae.offset}),N==="objectBoundingBox"?(w/=s.width,P/=s.height):(w+=s.width/2,P+=s.height/2),s.type==="path"&&this.gradientUnits!=="percentage"&&(w-=s.pathOffset.x,P-=s.pathOffset.y),S[4]-=w,S[5]-=P,b='id="SVGID_'+this.id+'" gradientUnits="'+N+'"',b+=' gradientTransform="'+(M?g.additionalTransform+" ":"")+t.util.matrixToSVG(S)+'" ',this.type==="linear"?m=["<linearGradient ",b,' x1="',o.x1,'" y1="',o.y1,'" x2="',o.x2,'" y2="',o.y2,`">
`]:this.type==="radial"&&(m=["<radialGradient ",b,' cx="',C?o.x1:o.x2,'" cy="',C?o.y1:o.y2,'" r="',C?o.r1:o.r2,'" fx="',C?o.x2:o.x1,'" fy="',C?o.y2:o.y1,`">
`]),this.type==="radial"){if(C)for(_=_.concat(),_.reverse(),d=0,l=_.length;d<l;d++)_[d].offset=1-_[d].offset;var X=Math.min(o.r1,o.r2);if(X>0){var j=Math.max(o.r1,o.r2),K=X/j;for(d=0,l=_.length;d<l;d++)_[d].offset+=K*(1-_[d].offset)}}for(d=0,l=_.length;d<l;d++){var ee=_[d];m.push("<stop ",'offset="',ee.offset*100+"%",'" style="stop-color:',ee.color,typeof ee.opacity<"u"?";stop-opacity: "+ee.opacity:";",`"/>
`)}return m.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),m.join("")},toLive:function(s){var i,o=t.util.object.clone(this.coords),d,l;if(this.type){for(this.type==="linear"?i=s.createLinearGradient(o.x1,o.y1,o.x2,o.y2):this.type==="radial"&&(i=s.createRadialGradient(o.x1,o.y1,o.r1,o.x2,o.y2,o.r2)),d=0,l=this.colorStops.length;d<l;d++){var g=this.colorStops[d].color,m=this.colorStops[d].opacity,b=this.colorStops[d].offset;typeof m<"u"&&(g=new t.Color(g).setAlpha(m).toRgba()),i.addColorStop(b,g)}return i}}}),t.util.object.extend(t.Gradient,{fromElement:function(s,i,o,d){var l=parseFloat(o)/(/%$/.test(o)?100:1);l=l<0?0:l>1?1:l,isNaN(l)&&(l=1);var g=s.getElementsByTagName("stop"),m,b=s.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",_=s.getAttribute("gradientTransform")||"",C=[],S,w,P=0,M=0,N;for(s.nodeName==="linearGradient"||s.nodeName==="LINEARGRADIENT"?(m="linear",S=r(s)):(m="radial",S=u(s)),w=g.length;w--;)C.push(f(g[w],l));N=t.parseTransformAttribute(_),n(i,S,d,b),b==="pixels"&&(P=-i.left,M=-i.top);var X=new t.Gradient({id:s.getAttribute("id"),type:m,coords:S,colorStops:C,gradientUnits:b,gradientTransform:N,offsetX:P,offsetY:M});return X}});function n(s,i,o,d){var l,g;Object.keys(i).forEach(function(m){l=i[m],l==="Infinity"?g=1:l==="-Infinity"?g=0:(g=parseFloat(i[m],10),typeof l=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(l)&&(g*=.01,d==="pixels"&&((m==="x1"||m==="x2"||m==="r2")&&(g*=o.viewBoxWidth||o.width),(m==="y1"||m==="y2")&&(g*=o.viewBoxHeight||o.height)))),i[m]=g})}}(),function(){var f=t.util.toFixed;t.Pattern=t.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(r,u){if(r||(r={}),this.id=t.Object.__uid++,this.setOptions(r),!r.source||r.source&&typeof r.source!="string"){u&&u(this);return}else{var c=this;this.source=t.util.createImage(),t.util.loadImage(r.source,function(n,s){c.source=n,u&&u(c,s)},null,this.crossOrigin)}},toObject:function(r){var u=t.Object.NUM_FRACTION_DIGITS,c,n;return typeof this.source.src=="string"?c=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(c=this.source.toDataURL()),n={type:"pattern",source:c,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:f(this.offsetX,u),offsetY:f(this.offsetY,u),patternTransform:this.patternTransform?this.patternTransform.concat():null},t.util.populateWithProperties(this,n,r),n},toSVG:function(r){var u=typeof this.source=="function"?this.source():this.source,c=u.width/r.width,n=u.height/r.height,s=this.offsetX/r.width,i=this.offsetY/r.height,o="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(n=1,i&&(n+=Math.abs(i))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(c=1,s&&(c+=Math.abs(s))),u.src?o=u.src:u.toDataURL&&(o=u.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+s+'" y="'+i+'" width="'+c+'" height="'+n+`">
<image x="0" y="0" width="`+u.width+'" height="'+u.height+'" xlink:href="'+o+`"></image>
</pattern>
`},setOptions:function(r){for(var u in r)this[u]=r[u]},toLive:function(r){var u=this.source;return!u||typeof u.src<"u"&&(!u.complete||u.naturalWidth===0||u.naturalHeight===0)?"":r.createPattern(u,this.repeat)}})}(),function(f){var r=f.fabric||(f.fabric={}),u=r.util.toFixed;if(r.Shadow){r.warn("fabric.Shadow is already defined.");return}r.Shadow=r.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(c){typeof c=="string"&&(c=this._parseShadow(c));for(var n in c)this[n]=c[n];this.id=r.Object.__uid++},_parseShadow:function(c){var n=c.trim(),s=r.Shadow.reOffsetsAndBlur.exec(n)||[],i=n.replace(r.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:i.trim(),offsetX:parseFloat(s[1],10)||0,offsetY:parseFloat(s[2],10)||0,blur:parseFloat(s[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(c){var n=40,s=40,i=r.Object.NUM_FRACTION_DIGITS,o=r.util.rotateVector({x:this.offsetX,y:this.offsetY},r.util.degreesToRadians(-c.angle)),d=20,l=new r.Color(this.color);return c.width&&c.height&&(n=u((Math.abs(o.x)+this.blur)/c.width,i)*100+d,s=u((Math.abs(o.y)+this.blur)/c.height,i)*100+d),c.flipX&&(o.x*=-1),c.flipY&&(o.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+s+'%" height="'+(100+2*s)+'%" x="-'+n+'%" width="'+(100+2*n)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+u(this.blur?this.blur/2:0,i)+`"></feGaussianBlur>
	<feOffset dx="`+u(o.x,i)+'" dy="'+u(o.y,i)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+l.toRgb()+'" flood-opacity="'+l.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var c={},n=r.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(s){this[s]!==n[s]&&(c[s]=this[s])},this),c}}),r.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(e),function(){if(t.StaticCanvas){t.warn("fabric.StaticCanvas is already defined.");return}var f=t.util.object.extend,r=t.util.getElementOffset,u=t.util.removeFromArray,c=t.util.toFixed,n=t.util.transformPoint,s=t.util.invertTransform,i=t.util.getNodeCanvas,o=t.util.createCanvasElement,d=new Error("Could not initialize `canvas` element");t.StaticCanvas=t.util.createClass(t.CommonMethods,{initialize:function(l,g){g||(g={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(l,g)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:t.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(l,g){var m=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(l),this._initOptions(g),this.interactive||this._initRetinaScaling(),g.overlayImage&&this.setOverlayImage(g.overlayImage,m),g.backgroundImage&&this.setBackgroundImage(g.backgroundImage,m),g.backgroundColor&&this.setBackgroundColor(g.backgroundColor,m),g.overlayColor&&this.setOverlayColor(g.overlayColor,m),this.calcOffset()},_isRetinaScaling:function(){return t.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,t.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var l=t.devicePixelRatio;this.__initRetinaScaling(l,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(l,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(l,g,m){g.setAttribute("width",this.width*l),g.setAttribute("height",this.height*l),m.scale(l,l)},calcOffset:function(){return this._offset=r(this.lowerCanvasEl),this},setOverlayImage:function(l,g,m){return this.__setBgOverlayImage("overlayImage",l,g,m)},setBackgroundImage:function(l,g,m){return this.__setBgOverlayImage("backgroundImage",l,g,m)},setOverlayColor:function(l,g){return this.__setBgOverlayColor("overlayColor",l,g)},setBackgroundColor:function(l,g){return this.__setBgOverlayColor("backgroundColor",l,g)},__setBgOverlayImage:function(l,g,m,b){return typeof g=="string"?t.util.loadImage(g,function(_,C){if(_){var S=new t.Image(_,b);this[l]=S,S.canvas=this}m&&m(_,C)},this,b&&b.crossOrigin):(b&&g.setOptions(b),this[l]=g,g&&(g.canvas=this),m&&m(g,!1)),this},__setBgOverlayColor:function(l,g,m){return this[l]=g,this._initGradient(g,l),this._initPattern(g,l,m),this},_createCanvasElement:function(){var l=o();if(!l||(l.style||(l.style={}),typeof l.getContext>"u"))throw d;return l},_initOptions:function(l){var g=this.lowerCanvasEl;this._setOptions(l),this.width=this.width||parseInt(g.width,10)||0,this.height=this.height||parseInt(g.height,10)||0,this.lowerCanvasEl.style&&(g.width=this.width,g.height=this.height,g.style.width=this.width+"px",g.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(l){l&&l.getContext?this.lowerCanvasEl=l:this.lowerCanvasEl=t.util.getById(l)||this._createCanvasElement(),t.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(l,g){return this.setDimensions({width:l},g)},setHeight:function(l,g){return this.setDimensions({height:l},g)},setDimensions:function(l,g){var m;g=g||{};for(var b in l)m=l[b],g.cssOnly||(this._setBackstoreDimension(b,l[b]),m+="px",this.hasLostContext=!0),g.backstoreOnly||this._setCssDimension(b,m);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),g.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(l,g){return this.lowerCanvasEl[l]=g,this.upperCanvasEl&&(this.upperCanvasEl[l]=g),this.cacheCanvasEl&&(this.cacheCanvasEl[l]=g),this[l]=g,this},_setCssDimension:function(l,g){return this.lowerCanvasEl.style[l]=g,this.upperCanvasEl&&(this.upperCanvasEl.style[l]=g),this.wrapperEl&&(this.wrapperEl.style[l]=g),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(l){var g=this._activeObject,m=this.backgroundImage,b=this.overlayImage,_,C,S;for(this.viewportTransform=l,C=0,S=this._objects.length;C<S;C++)_=this._objects[C],_.group||_.setCoords(!0);return g&&g.setCoords(),m&&m.setCoords(!0),b&&b.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(l,g){var m=l,b=this.viewportTransform.slice(0);l=n(l,s(this.viewportTransform)),b[0]=g,b[3]=g;var _=n(l,b);return b[4]+=m.x-_.x,b[5]+=m.y-_.y,this.setViewportTransform(b)},setZoom:function(l){return this.zoomToPoint(new t.Point(0,0),l),this},absolutePan:function(l){var g=this.viewportTransform.slice(0);return g[4]=-l.x,g[5]=-l.y,this.setViewportTransform(g)},relativePan:function(l){return this.absolutePan(new t.Point(-l.x-this.viewportTransform[4],-l.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(l){this.stateful&&l.setupState(),l._set("canvas",this),l.setCoords(),this.fire("object:added",{target:l}),l.fire("added")},_onObjectRemoved:function(l){this.fire("object:removed",{target:l}),l.fire("removed"),delete l.canvas},clearContext:function(l){return l.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var l=this.contextContainer;return this.renderCanvas(l,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=t.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var l={},g=this.width,m=this.height,b=s(this.viewportTransform);return l.tl=n({x:0,y:0},b),l.br=n({x:g,y:m},b),l.tr=new t.Point(l.br.x,l.tl.y),l.bl=new t.Point(l.tl.x,l.br.y),this.vptCoords=l,l},cancelRequestedRender:function(){this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(l,g){var m=this.viewportTransform,b=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(l),t.util.setImageSmoothing(l,this.imageSmoothingEnabled),this.fire("before:render",{ctx:l}),this._renderBackground(l),l.save(),l.transform(m[0],m[1],m[2],m[3],m[4],m[5]),this._renderObjects(l,g),l.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(l),b&&(b.canvas=this,b.shouldCache(),b._transformDone=!0,b.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(l)),this._renderOverlay(l),this.controlsAboveOverlay&&this.interactive&&this.drawControls(l),this.fire("after:render",{ctx:l})},drawClipPathOnCanvas:function(l){var g=this.viewportTransform,m=this.clipPath;l.save(),l.transform(g[0],g[1],g[2],g[3],g[4],g[5]),l.globalCompositeOperation="destination-in",m.transform(l),l.scale(1/m.zoomX,1/m.zoomY),l.drawImage(m._cacheCanvas,-m.cacheTranslationX,-m.cacheTranslationY),l.restore()},_renderObjects:function(l,g){var m,b;for(m=0,b=g.length;m<b;++m)g[m]&&g[m].render(l)},_renderBackgroundOrOverlay:function(l,g){var m=this[g+"Color"],b=this[g+"Image"],_=this.viewportTransform,C=this[g+"Vpt"];if(!(!m&&!b)){if(m){l.save(),l.beginPath(),l.moveTo(0,0),l.lineTo(this.width,0),l.lineTo(this.width,this.height),l.lineTo(0,this.height),l.closePath(),l.fillStyle=m.toLive?m.toLive(l,this):m,C&&l.transform(_[0],_[1],_[2],_[3],_[4],_[5]),l.transform(1,0,0,1,m.offsetX||0,m.offsetY||0);var S=m.gradientTransform||m.patternTransform;S&&l.transform(S[0],S[1],S[2],S[3],S[4],S[5]),l.fill(),l.restore()}if(b){l.save();var w=this.skipOffscreen;this.skipOffscreen=C,C&&l.transform(_[0],_[1],_[2],_[3],_[4],_[5]),b.render(l),this.skipOffscreen=w,l.restore()}}},_renderBackground:function(l){this._renderBackgroundOrOverlay(l,"background")},_renderOverlay:function(l){this._renderBackgroundOrOverlay(l,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new t.Point(this.width/2,this.height/2)},centerObjectH:function(l){return this._centerObject(l,new t.Point(this.getCenterPoint().x,l.getCenterPoint().y))},centerObjectV:function(l){return this._centerObject(l,new t.Point(l.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(l){var g=this.getCenterPoint();return this._centerObject(l,g)},viewportCenterObject:function(l){var g=this.getVpCenter();return this._centerObject(l,g)},viewportCenterObjectH:function(l){var g=this.getVpCenter();return this._centerObject(l,new t.Point(g.x,l.getCenterPoint().y)),this},viewportCenterObjectV:function(l){var g=this.getVpCenter();return this._centerObject(l,new t.Point(l.getCenterPoint().x,g.y))},getVpCenter:function(){var l=this.getCenterPoint(),g=s(this.viewportTransform);return n(l,g)},_centerObject:function(l,g){return l.setPositionByOrigin(g,"center","center"),l.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(l){return this.toDatalessObject(l)},toObject:function(l){return this._toObjectMethod("toObject",l)},toDatalessObject:function(l){return this._toObjectMethod("toDatalessObject",l)},_toObjectMethod:function(l,g){var m=this.clipPath,b={version:t.version,objects:this._toObjects(l,g)};return m&&!m.excludeFromExport&&(b.clipPath=this._toObject(this.clipPath,l,g)),f(b,this.__serializeBgOverlay(l,g)),t.util.populateWithProperties(this,b,g),b},_toObjects:function(l,g){return this._objects.filter(function(m){return!m.excludeFromExport}).map(function(m){return this._toObject(m,l,g)},this)},_toObject:function(l,g,m){var b;this.includeDefaultValues||(b=l.includeDefaultValues,l.includeDefaultValues=!1);var _=l[g](m);return this.includeDefaultValues||(l.includeDefaultValues=b),_},__serializeBgOverlay:function(l,g){var m={},b=this.backgroundImage,_=this.overlayImage,C=this.backgroundColor,S=this.overlayColor;return C&&C.toObject?C.excludeFromExport||(m.background=C.toObject(g)):C&&(m.background=C),S&&S.toObject?S.excludeFromExport||(m.overlay=S.toObject(g)):S&&(m.overlay=S),b&&!b.excludeFromExport&&(m.backgroundImage=this._toObject(b,l,g)),_&&!_.excludeFromExport&&(m.overlayImage=this._toObject(_,l,g)),m},svgViewportTransformation:!0,toSVG:function(l,g){l||(l={}),l.reviver=g;var m=[];return this._setSVGPreamble(m,l),this._setSVGHeader(m,l),this.clipPath&&m.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(m,"background"),this._setSVGBgOverlayImage(m,"backgroundImage",g),this._setSVGObjects(m,g),this.clipPath&&m.push(`</g>
`),this._setSVGBgOverlayColor(m,"overlay"),this._setSVGBgOverlayImage(m,"overlayImage",g),m.push("</svg>"),m.join("")},_setSVGPreamble:function(l,g){g.suppressPreamble||l.push('<?xml version="1.0" encoding="',g.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(l,g){var m=g.width||this.width,b=g.height||this.height,_,C='viewBox="0 0 '+this.width+" "+this.height+'" ',S=t.Object.NUM_FRACTION_DIGITS;g.viewBox?C='viewBox="'+g.viewBox.x+" "+g.viewBox.y+" "+g.viewBox.width+" "+g.viewBox.height+'" ':this.svgViewportTransformation&&(_=this.viewportTransform,C='viewBox="'+c(-_[4]/_[0],S)+" "+c(-_[5]/_[3],S)+" "+c(this.width/_[0],S)+" "+c(this.height/_[3],S)+'" '),l.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',m,'" ','height="',b,'" ',C,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",t.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(g),`</defs>
`)},createSVGClipPathMarkup:function(l){var g=this.clipPath;return g?(g.clipPathId="CLIPPATH_"+t.Object.__uid++,'<clipPath id="'+g.clipPathId+`" >
`+this.clipPath.toClipPathSVG(l.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var l=this,g=["background","overlay"].map(function(m){var b=l[m+"Color"];if(b&&b.toLive){var _=l[m+"Vpt"],C=l.viewportTransform,S={width:l.width/(_?C[0]:1),height:l.height/(_?C[3]:1)};return b.toSVG(S,{additionalTransform:_?t.util.matrixToSVG(C):""})}});return g.join("")},createSVGFontFacesMarkup:function(){var l="",g={},m,b,_,C,S,w,P,M,N,X=t.fontPaths,j=[];for(this._objects.forEach(function ee(ne){j.push(ne),ne._objects&&ne._objects.forEach(ee)}),M=0,N=j.length;M<N;M++)if(m=j[M],b=m.fontFamily,!(m.type.indexOf("text")===-1||g[b]||!X[b])&&(g[b]=!0,!!m.styles)){_=m.styles;for(S in _){C=_[S];for(P in C)w=C[P],b=w.fontFamily,!g[b]&&X[b]&&(g[b]=!0)}}for(var K in g)l+=[`		@font-face {
`,"			font-family: '",K,`';
`,"			src: url('",X[K],`');
`,`		}
`].join("");return l&&(l=['	<style type="text/css">',`<![CDATA[
`,l,"]]>",`</style>
`].join("")),l},_setSVGObjects:function(l,g){var m,b,_,C=this._objects;for(b=0,_=C.length;b<_;b++)m=C[b],!m.excludeFromExport&&this._setSVGObject(l,m,g)},_setSVGObject:function(l,g,m){l.push(g.toSVG(m))},_setSVGBgOverlayImage:function(l,g,m){this[g]&&!this[g].excludeFromExport&&this[g].toSVG&&l.push(this[g].toSVG(m))},_setSVGBgOverlayColor:function(l,g){var m=this[g+"Color"],b=this.viewportTransform,_=this.width,C=this.height;if(m)if(m.toLive){var S=m.repeat,w=t.util.invertTransform(b),P=this[g+"Vpt"],M=P?t.util.matrixToSVG(w):"";l.push('<rect transform="'+M+" translate(",_/2,",",C/2,')"',' x="',m.offsetX-_/2,'" y="',m.offsetY-C/2,'" ','width="',S==="repeat-y"||S==="no-repeat"?m.source.width:_,'" height="',S==="repeat-x"||S==="no-repeat"?m.source.height:C,'" fill="url(#SVGID_'+m.id+')"',`></rect>
`)}else l.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',m,'"',`></rect>
`)},sendToBack:function(l){if(!l)return this;var g=this._activeObject,m,b,_;if(l===g&&l.type==="activeSelection")for(_=g._objects,m=_.length;m--;)b=_[m],u(this._objects,b),this._objects.unshift(b);else u(this._objects,l),this._objects.unshift(l);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(l){if(!l)return this;var g=this._activeObject,m,b,_;if(l===g&&l.type==="activeSelection")for(_=g._objects,m=0;m<_.length;m++)b=_[m],u(this._objects,b),this._objects.push(b);else u(this._objects,l),this._objects.push(l);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(l,g){if(!l)return this;var m=this._activeObject,b,_,C,S,w,P=0;if(l===m&&l.type==="activeSelection")for(w=m._objects,b=0;b<w.length;b++)_=w[b],C=this._objects.indexOf(_),C>0+P&&(S=C-1,u(this._objects,_),this._objects.splice(S,0,_)),P++;else C=this._objects.indexOf(l),C!==0&&(S=this._findNewLowerIndex(l,C,g),u(this._objects,l),this._objects.splice(S,0,l));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(l,g,m){var b,_;if(m)for(b=g,_=g-1;_>=0;--_){var C=l.intersectsWithObject(this._objects[_])||l.isContainedWithinObject(this._objects[_])||this._objects[_].isContainedWithinObject(l);if(C){b=_;break}}else b=g-1;return b},bringForward:function(l,g){if(!l)return this;var m=this._activeObject,b,_,C,S,w,P=0;if(l===m&&l.type==="activeSelection")for(w=m._objects,b=w.length;b--;)_=w[b],C=this._objects.indexOf(_),C<this._objects.length-1-P&&(S=C+1,u(this._objects,_),this._objects.splice(S,0,_)),P++;else C=this._objects.indexOf(l),C!==this._objects.length-1&&(S=this._findNewUpperIndex(l,C,g),u(this._objects,l),this._objects.splice(S,0,l));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(l,g,m){var b,_,C;if(m)for(b=g,_=g+1,C=this._objects.length;_<C;++_){var S=l.intersectsWithObject(this._objects[_])||l.isContainedWithinObject(this._objects[_])||this._objects[_].isContainedWithinObject(l);if(S){b=_;break}}else b=g+1;return b},moveTo:function(l,g){return u(this._objects,l),this._objects.splice(g,0,l),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(l){l.dispose&&l.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),t.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),t.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),f(t.StaticCanvas.prototype,t.Observable),f(t.StaticCanvas.prototype,t.Collection),f(t.StaticCanvas.prototype,t.DataURLExporter),f(t.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(l){var g=o();if(!g||!g.getContext)return null;var m=g.getContext("2d");if(!m)return null;switch(l){case"setLineDash":return typeof m.setLineDash<"u";default:return null}}}),t.StaticCanvas.prototype.toJSON=t.StaticCanvas.prototype.toObject,t.isLikelyNode&&(t.StaticCanvas.prototype.createPNGStream=function(){var l=i(this.lowerCanvasEl);return l&&l.createPNGStream()},t.StaticCanvas.prototype.createJPEGStream=function(l){var g=i(this.lowerCanvasEl);return g&&g.createJPEGStream(l)})}(),t.BaseBrush=t.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(f){f.strokeStyle=this.color,f.lineWidth=this.width,f.lineCap=this.strokeLineCap,f.miterLimit=this.strokeMiterLimit,f.lineJoin=this.strokeLineJoin,f.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(f){var r=this.canvas.viewportTransform;f.save(),f.transform(r[0],r[1],r[2],r[3],r[4],r[5])},_setShadow:function(){if(this.shadow){var f=this.canvas,r=this.shadow,u=f.contextTop,c=f.getZoom();f&&f._isRetinaScaling()&&(c*=t.devicePixelRatio),u.shadowColor=r.color,u.shadowBlur=r.blur*c,u.shadowOffsetX=r.offsetX*c,u.shadowOffsetY=r.offsetY*c}},needsFullRender:function(){var f=new t.Color(this.color);return f.getAlpha()<1||!!this.shadow},_resetShadow:function(){var f=this.canvas.contextTop;f.shadowColor="",f.shadowBlur=f.shadowOffsetX=f.shadowOffsetY=0},_isOutSideCanvas:function(f){return f.x<0||f.x>this.canvas.getWidth()||f.y<0||f.y>this.canvas.getHeight()}}),function(){t.PencilBrush=t.util.createClass(t.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(f){this.canvas=f,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(f,r,u){var c=r.midPointFrom(u);return f.quadraticCurveTo(r.x,r.y,c.x,c.y),c},onMouseDown:function(f,r){this.canvas._isMainEvent(r.e)&&(this.drawStraightLine=r.e[this.straightLineKey],this._prepareForDrawing(f),this._captureDrawingPath(f),this._render())},onMouseMove:function(f,r){if(this.canvas._isMainEvent(r.e)&&(this.drawStraightLine=r.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(f))&&this._captureDrawingPath(f)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var u=this._points,c=u.length,n=this.canvas.contextTop;this._saveAndTransform(n),this.oldEnd&&(n.beginPath(),n.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(n,u[c-2],u[c-1],!0),n.stroke(),n.restore()}},onMouseUp:function(f){return this.canvas._isMainEvent(f.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(f){var r=new t.Point(f.x,f.y);this._reset(),this._addPoint(r),this.canvas.contextTop.moveTo(r.x,r.y)},_addPoint:function(f){return this._points.length>1&&f.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(f),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(f){var r=new t.Point(f.x,f.y);return this._addPoint(r)},_render:function(f){var r,u,c=this._points[0],n=this._points[1];if(f=f||this.canvas.contextTop,this._saveAndTransform(f),f.beginPath(),this._points.length===2&&c.x===n.x&&c.y===n.y){var s=this.width/1e3;c=new t.Point(c.x,c.y),n=new t.Point(n.x,n.y),c.x-=s,n.x+=s}for(f.moveTo(c.x,c.y),r=1,u=this._points.length;r<u;r++)this._drawSegment(f,c,n),c=this._points[r],n=this._points[r+1];f.lineTo(c.x,c.y),f.stroke(),f.restore()},convertPointsToSVGPath:function(f){var r=this.width/1e3;return t.util.getSmoothPathFromPoints(f,r)},_isEmptySVGPath:function(f){var r=t.util.joinPath(f);return r==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(f){var r=new t.Path(f,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,r.shadow=new t.Shadow(this.shadow)),r},decimatePoints:function(f,r){if(f.length<=2)return f;var u=this.canvas.getZoom(),c=Math.pow(r/u,2),n,s=f.length-1,i=f[0],o=[i],d;for(n=1;n<s-1;n++)d=Math.pow(i.x-f[n].x,2)+Math.pow(i.y-f[n].y,2),d>=c&&(i=f[n],o.push(i));return o.push(f[s]),o},_finalizeAndAddPath:function(){var f=this.canvas.contextTop;f.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var r=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(r)){this.canvas.requestRenderAll();return}var u=this.createPath(r);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:u}),this.canvas.add(u),this.canvas.requestRenderAll(),u.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:u})}})}(),t.CircleBrush=t.util.createClass(t.BaseBrush,{width:10,initialize:function(f){this.canvas=f,this.points=[]},drawDot:function(f){var r=this.addPoint(f),u=this.canvas.contextTop;this._saveAndTransform(u),this.dot(u,r),u.restore()},dot:function(f,r){f.fillStyle=r.fill,f.beginPath(),f.arc(r.x,r.y,r.radius,0,Math.PI*2,!1),f.closePath(),f.fill()},onMouseDown:function(f){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(f)},_render:function(){var f=this.canvas.contextTop,r,u,c=this.points;for(this._saveAndTransform(f),r=0,u=c.length;r<u;r++)this.dot(f,c[r]);f.restore()},onMouseMove:function(f){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(f)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(f),this._render()):this.drawDot(f))},onMouseUp:function(){var f=this.canvas.renderOnAddRemove,r,u;this.canvas.renderOnAddRemove=!1;var c=[];for(r=0,u=this.points.length;r<u;r++){var n=this.points[r],s=new t.Circle({radius:n.radius,left:n.x,top:n.y,originX:"center",originY:"center",fill:n.fill});this.shadow&&(s.shadow=new t.Shadow(this.shadow)),c.push(s)}var i=new t.Group(c);i.canvas=this.canvas,this.canvas.fire("before:path:created",{path:i}),this.canvas.add(i),this.canvas.fire("path:created",{path:i}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=f,this.canvas.requestRenderAll()},addPoint:function(f){var r=new t.Point(f.x,f.y),u=t.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,c=new t.Color(this.color).setAlpha(t.util.getRandomInt(0,100)/100).toRgba();return r.radius=u,r.fill=c,this.points.push(r),r}}),t.SprayBrush=t.util.createClass(t.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(f){this.canvas=f,this.sprayChunks=[]},onMouseDown:function(f){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(f),this.render(this.sprayChunkPoints)},onMouseMove:function(f){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(f)||(this.addSprayChunk(f),this.render(this.sprayChunkPoints))},onMouseUp:function(){var f=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var r=[],u=0,c=this.sprayChunks.length;u<c;u++)for(var n=this.sprayChunks[u],s=0,i=n.length;s<i;s++){var o=new t.Rect({width:n[s].width,height:n[s].width,left:n[s].x+1,top:n[s].y+1,originX:"center",originY:"center",fill:this.color});r.push(o)}this.optimizeOverlapping&&(r=this._getOptimizedRects(r));var d=new t.Group(r);this.shadow&&d.set("shadow",new t.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:d}),this.canvas.add(d),this.canvas.fire("path:created",{path:d}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=f,this.canvas.requestRenderAll()},_getOptimizedRects:function(f){var r={},u,c,n;for(c=0,n=f.length;c<n;c++)u=f[c].left+""+f[c].top,r[u]||(r[u]=f[c]);var s=[];for(u in r)s.push(r[u]);return s},render:function(f){var r=this.canvas.contextTop,u,c;for(r.fillStyle=this.color,this._saveAndTransform(r),u=0,c=f.length;u<c;u++){var n=f[u];typeof n.opacity<"u"&&(r.globalAlpha=n.opacity),r.fillRect(n.x,n.y,n.width,n.width)}r.restore()},_render:function(){var f=this.canvas.contextTop,r,u;for(f.fillStyle=this.color,this._saveAndTransform(f),r=0,u=this.sprayChunks.length;r<u;r++)this.render(this.sprayChunks[r]);f.restore()},addSprayChunk:function(f){this.sprayChunkPoints=[];var r,u,c,n=this.width/2,s;for(s=0;s<this.density;s++){r=t.util.getRandomInt(f.x-n,f.x+n),u=t.util.getRandomInt(f.y-n,f.y+n),this.dotWidthVariance?c=t.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):c=this.dotWidth;var i=new t.Point(r,u);i.width=c,this.randomOpacity&&(i.opacity=t.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(i)}this.sprayChunks.push(this.sprayChunkPoints)}}),t.PatternBrush=t.util.createClass(t.PencilBrush,{getPatternSrc:function(){var f=20,r=5,u=t.util.createCanvasElement(),c=u.getContext("2d");return u.width=u.height=f+r,c.fillStyle=this.color,c.beginPath(),c.arc(f/2,f/2,f/2,0,Math.PI*2,!1),c.closePath(),c.fill(),u},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(f){return f.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(f){this.callSuper("_setBrushStyles",f),f.strokeStyle=this.getPattern(f)},createPath:function(f){var r=this.callSuper("createPath",f),u=r._getLeftTopCoords().scalarAdd(r.strokeWidth/2);return r.stroke=new t.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-u.x,offsetY:-u.y}),r}}),function(){var f=t.util.getPointer,r=t.util.degreesToRadians,u=t.util.isTouchEvent;t.Canvas=t.util.createClass(t.StaticCanvas,{initialize:function(n,s){s||(s={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(n,s),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=t.PencilBrush&&new t.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var n=this.getActiveObjects(),s,i,o;if(n.length>0&&!this.preserveObjectStacking){i=[],o=[];for(var d=0,l=this._objects.length;d<l;d++)s=this._objects[d],n.indexOf(s)===-1?i.push(s):o.push(s);n.length>1&&(this._activeObject._objects=o),i.push.apply(i,o)}else i=this._objects;return i},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var n=this.contextContainer;return this.renderCanvas(n,this._chooseObjectsToRender()),this},renderTopLayer:function(n){n.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(n),this.contextTopDirty=!0),n.restore()},renderTop:function(){var n=this.contextTop;return this.clearContext(n),this.renderTopLayer(n),this.fire("after:render"),this},_normalizePointer:function(n,s){var i=n.calcTransformMatrix(),o=t.util.invertTransform(i),d=this.restorePointerVpt(s);return t.util.transformPoint(d,o)},isTargetTransparent:function(n,s,i){if(n.shouldCache()&&n._cacheCanvas&&n!==this._activeObject){var o=this._normalizePointer(n,{x:s,y:i}),d=Math.max(n.cacheTranslationX+o.x*n.zoomX,0),l=Math.max(n.cacheTranslationY+o.y*n.zoomY,0),_=t.util.isTransparent(n._cacheContext,Math.round(d),Math.round(l),this.targetFindTolerance);return _}var g=this.contextCache,m=n.selectionBackgroundColor,b=this.viewportTransform;n.selectionBackgroundColor="",this.clearContext(g),g.save(),g.transform(b[0],b[1],b[2],b[3],b[4],b[5]),n.render(g),g.restore(),n.selectionBackgroundColor=m;var _=t.util.isTransparent(g,s,i,this.targetFindTolerance);return _},_isSelectionKeyPressed:function(n){var s=!1;return Array.isArray(this.selectionKey)?s=!!this.selectionKey.find(function(i){return n[i]===!0}):s=n[this.selectionKey],s},_shouldClearSelection:function(n,s){var i=this.getActiveObjects(),o=this._activeObject;return!s||s&&o&&i.length>1&&i.indexOf(s)===-1&&o!==s&&!this._isSelectionKeyPressed(n)||s&&!s.evented||s&&!s.selectable&&o&&o!==s},_shouldCenterTransform:function(n,s,i){if(n){var o;return s==="scale"||s==="scaleX"||s==="scaleY"||s==="resizing"?o=this.centeredScaling||n.centeredScaling:s==="rotate"&&(o=this.centeredRotation||n.centeredRotation),o?!i:i}},_getOriginFromCorner:function(n,s){var i={x:n.originX,y:n.originY};return s==="ml"||s==="tl"||s==="bl"?i.x="right":(s==="mr"||s==="tr"||s==="br")&&(i.x="left"),s==="tl"||s==="mt"||s==="tr"?i.y="bottom":(s==="bl"||s==="mb"||s==="br")&&(i.y="top"),i},_getActionFromCorner:function(n,s,i,o){if(!s||!n)return"drag";var d=o.controls[s];return d.getActionName(i,d,o)},_setupCurrentTransform:function(n,s,i){if(s){var o=this.getPointer(n),d=s.__corner,l=s.controls[d],g=i&&d?l.getActionHandler(n,s,l):t.controlsUtils.dragHandler,m=this._getActionFromCorner(i,d,n,s),b=this._getOriginFromCorner(s,d),_=n[this.centeredKey],C={target:s,action:m,actionHandler:g,corner:d,scaleX:s.scaleX,scaleY:s.scaleY,skewX:s.skewX,skewY:s.skewY,offsetX:o.x-s.left,offsetY:o.y-s.top,originX:b.x,originY:b.y,ex:o.x,ey:o.y,lastX:o.x,lastY:o.y,theta:r(s.angle),width:s.width*s.scaleX,shiftKey:n.shiftKey,altKey:_,original:t.util.saveObjectTransform(s)};this._shouldCenterTransform(s,m,_)&&(C.originX="center",C.originY="center"),C.original.originX=b.x,C.original.originY=b.y,this._currentTransform=C,this._beforeTransform(n)}},setCursor:function(n){this.upperCanvasEl.style.cursor=n},_drawSelection:function(n){var s=this._groupSelector,i=new t.Point(s.ex,s.ey),o=t.util.transformPoint(i,this.viewportTransform),d=new t.Point(s.ex+s.left,s.ey+s.top),l=t.util.transformPoint(d,this.viewportTransform),g=Math.min(o.x,l.x),m=Math.min(o.y,l.y),b=Math.max(o.x,l.x),_=Math.max(o.y,l.y),C=this.selectionLineWidth/2;this.selectionColor&&(n.fillStyle=this.selectionColor,n.fillRect(g,m,b-g,_-m)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(n.lineWidth=this.selectionLineWidth,n.strokeStyle=this.selectionBorderColor,g+=C,m+=C,b-=C,_-=C,t.Object.prototype._setLineDash.call(this,n,this.selectionDashArray),n.strokeRect(g,m,b-g,_-m))},findTarget:function(n,s){if(!this.skipTargetFind){var i=!0,o=this.getPointer(n,i),d=this._activeObject,l=this.getActiveObjects(),g,m,b=u(n),_=l.length>1&&!s||l.length===1;if(this.targets=[],_&&d._findTargetCorner(o,b)||l.length>1&&!s&&d===this._searchPossibleTargets([d],o))return d;if(l.length===1&&d===this._searchPossibleTargets([d],o))if(this.preserveObjectStacking)g=d,m=this.targets,this.targets=[];else return d;var C=this._searchPossibleTargets(this._objects,o);return n[this.altSelectionKey]&&C&&g&&C!==g&&(C=g,this.targets=m),C}},_checkTarget:function(n,s,i){if(s&&s.visible&&s.evented&&s.containsPoint(n))if((this.perPixelTargetFind||s.perPixelTargetFind)&&!s.isEditing){var o=this.isTargetTransparent(s,i.x,i.y);if(!o)return!0}else return!0},_searchPossibleTargets:function(n,s){for(var i,o=n.length,d;o--;){var l=n[o],g=l.group?this._normalizePointer(l.group,s):s;if(this._checkTarget(g,l,s)){i=n[o],i.subTargetCheck&&i instanceof t.Group&&(d=this._searchPossibleTargets(i._objects,s),d&&this.targets.push(d));break}}return i},restorePointerVpt:function(n){return t.util.transformPoint(n,t.util.invertTransform(this.viewportTransform))},getPointer:function(n,s){if(this._absolutePointer&&!s)return this._absolutePointer;if(this._pointer&&s)return this._pointer;var i=f(n),o=this.upperCanvasEl,d=o.getBoundingClientRect(),l=d.width||0,g=d.height||0,m;(!l||!g)&&("top"in d&&"bottom"in d&&(g=Math.abs(d.top-d.bottom)),"right"in d&&"left"in d&&(l=Math.abs(d.right-d.left))),this.calcOffset(),i.x=i.x-this._offset.left,i.y=i.y-this._offset.top,s||(i=this.restorePointerVpt(i));var b=this.getRetinaScaling();return b!==1&&(i.x/=b,i.y/=b),l===0||g===0?m={width:1,height:1}:m={width:o.width/l,height:o.height/g},{x:i.x*m.width,y:i.y*m.height}},_createUpperCanvas:function(){var n=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),s=this.lowerCanvasEl,i=this.upperCanvasEl;i?i.className="":(i=this._createCanvasElement(),this.upperCanvasEl=i),t.util.addClass(i,"upper-canvas "+n),this.wrapperEl.appendChild(i),this._copyCanvasStyle(s,i),this._applyCanvasStyle(i),this.contextTop=i.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=t.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),t.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),t.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(n){var s=this.width||n.width,i=this.height||n.height;t.util.setStyle(n,{position:"absolute",width:s+"px",height:i+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),n.width=s,n.height=i,t.util.makeElementUnselectable(n)},_copyCanvasStyle:function(n,s){s.style.cssText=n.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var n=this._activeObject;return n?n.type==="activeSelection"&&n._objects?n._objects.slice(0):[n]:[]},_onObjectRemoved:function(n){n===this._activeObject&&(this.fire("before:selection:cleared",{target:n}),this._discardActiveObject(),this.fire("selection:cleared",{target:n}),n.fire("deselected")),n===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",n)},_fireSelectionEvents:function(n,s){var i=!1,o=this.getActiveObjects(),d=[],l=[];n.forEach(function(g){o.indexOf(g)===-1&&(i=!0,g.fire("deselected",{e:s,target:g}),l.push(g))}),o.forEach(function(g){n.indexOf(g)===-1&&(i=!0,g.fire("selected",{e:s,target:g}),d.push(g))}),n.length>0&&o.length>0?i&&this.fire("selection:updated",{e:s,selected:d,deselected:l}):o.length>0?this.fire("selection:created",{e:s,selected:d}):n.length>0&&this.fire("selection:cleared",{e:s,deselected:l})},setActiveObject:function(n,s){var i=this.getActiveObjects();return this._setActiveObject(n,s),this._fireSelectionEvents(i,s),this},_setActiveObject:function(n,s){return this._activeObject===n||!this._discardActiveObject(s,n)||n.onSelect({e:s})?!1:(this._activeObject=n,!0)},_discardActiveObject:function(n,s){var i=this._activeObject;if(i){if(i.onDeselect({e:n,object:s}))return!1;this._activeObject=null}return!0},discardActiveObject:function(n){var s=this.getActiveObjects(),i=this.getActiveObject();return s.length&&this.fire("before:selection:cleared",{target:i,e:n}),this._discardActiveObject(n),this._fireSelectionEvents(s,n),this},dispose:function(){var n=this.wrapperEl;return this.removeListeners(),n.removeChild(this.upperCanvasEl),n.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach((function(s){t.util.cleanUpJsdomNode(this[s]),this[s]=void 0}).bind(this)),n.parentNode&&n.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,t.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(n){var s=this._activeObject;s&&s._renderControls(n)},_toObject:function(n,s,i){var o=this._realizeGroupTransformOnObject(n),d=this.callSuper("_toObject",n,s,i);return this._unwindGroupTransformOnObject(n,o),d},_realizeGroupTransformOnObject:function(n){if(n.group&&n.group.type==="activeSelection"&&this._activeObject===n.group){var s=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],i={};return s.forEach(function(o){i[o]=n[o]}),t.util.addTransformToObject(n,this._activeObject.calcOwnMatrix()),i}else return null},_unwindGroupTransformOnObject:function(n,s){s&&n.set(s)},_setSVGObject:function(n,s,i){var o=this._realizeGroupTransformOnObject(s);this.callSuper("_setSVGObject",n,s,i),this._unwindGroupTransformOnObject(s,o)},setViewportTransform:function(n){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),t.StaticCanvas.prototype.setViewportTransform.call(this,n)}});for(var c in t.StaticCanvas)c!=="prototype"&&(t.Canvas[c]=t.StaticCanvas[c])}(),function(){var f=t.util.addListener,r=t.util.removeListener,u=3,c=2,n=1,s={passive:!1};function i(o,d){return o.button&&o.button===d-1}t.util.object.extend(t.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(f,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(o,d){var l=this.upperCanvasEl,g=this._getEventPrefix();o(t.window,"resize",this._onResize),o(l,g+"down",this._onMouseDown),o(l,g+"move",this._onMouseMove,s),o(l,g+"out",this._onMouseOut),o(l,g+"enter",this._onMouseEnter),o(l,"wheel",this._onMouseWheel),o(l,"contextmenu",this._onContextMenu),o(l,"dblclick",this._onDoubleClick),o(l,"dragover",this._onDragOver),o(l,"dragenter",this._onDragEnter),o(l,"dragleave",this._onDragLeave),o(l,"drop",this._onDrop),this.enablePointerEvents||o(l,"touchstart",this._onTouchStart,s),typeof eventjs<"u"&&d in eventjs&&(eventjs[d](l,"gesture",this._onGesture),eventjs[d](l,"drag",this._onDrag),eventjs[d](l,"orientation",this._onOrientationChange),eventjs[d](l,"shake",this._onShake),eventjs[d](l,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(r,"remove");var o=this._getEventPrefix();r(t.document,o+"up",this._onMouseUp),r(t.document,"touchend",this._onTouchEnd,s),r(t.document,o+"move",this._onMouseMove,s),r(t.document,"touchmove",this._onMouseMove,s)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(o,d){this.__onTransformGesture&&this.__onTransformGesture(o,d)},_onDrag:function(o,d){this.__onDrag&&this.__onDrag(o,d)},_onMouseWheel:function(o){this.__onMouseWheel(o)},_onMouseOut:function(o){var d=this._hoveredTarget;this.fire("mouse:out",{target:d,e:o}),this._hoveredTarget=null,d&&d.fire("mouseout",{e:o});var l=this;this._hoveredTargets.forEach(function(g){l.fire("mouse:out",{target:g,e:o}),g&&g.fire("mouseout",{e:o})}),this._hoveredTargets=[]},_onMouseEnter:function(o){!this._currentTransform&&!this.findTarget(o)&&(this.fire("mouse:over",{target:null,e:o}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(o,d){this.__onOrientationChange&&this.__onOrientationChange(o,d)},_onShake:function(o,d){this.__onShake&&this.__onShake(o,d)},_onLongPress:function(o,d){this.__onLongPress&&this.__onLongPress(o,d)},_onDragOver:function(o){o.preventDefault();var d=this._simpleEventHandler("dragover",o);this._fireEnterLeaveEvents(d,o)},_onDrop:function(o){return this._simpleEventHandler("drop:before",o),this._simpleEventHandler("drop",o)},_onContextMenu:function(o){return this.stopContextMenu&&(o.stopPropagation(),o.preventDefault()),!1},_onDoubleClick:function(o){this._cacheTransformEventData(o),this._handleEvent(o,"dblclick"),this._resetTransformEventData(o)},getPointerId:function(o){var d=o.changedTouches;return d?d[0]&&d[0].identifier:this.enablePointerEvents?o.pointerId:-1},_isMainEvent:function(o){return o.isPrimary===!0?!0:o.isPrimary===!1?!1:o.type==="touchend"&&o.touches.length===0?!0:o.changedTouches?o.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(o){o.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(o)),this.__onMouseDown(o),this._resetTransformEventData();var d=this.upperCanvasEl,l=this._getEventPrefix();f(t.document,"touchend",this._onTouchEnd,s),f(t.document,"touchmove",this._onMouseMove,s),r(d,l+"down",this._onMouseDown)},_onMouseDown:function(o){this.__onMouseDown(o),this._resetTransformEventData();var d=this.upperCanvasEl,l=this._getEventPrefix();r(d,l+"move",this._onMouseMove,s),f(t.document,l+"up",this._onMouseUp),f(t.document,l+"move",this._onMouseMove,s)},_onTouchEnd:function(o){if(!(o.touches.length>0)){this.__onMouseUp(o),this._resetTransformEventData(),this.mainTouchId=null;var d=this._getEventPrefix();r(t.document,"touchend",this._onTouchEnd,s),r(t.document,"touchmove",this._onMouseMove,s);var l=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){f(l.upperCanvasEl,d+"down",l._onMouseDown),l._willAddMouseDown=0},400)}},_onMouseUp:function(o){this.__onMouseUp(o),this._resetTransformEventData();var d=this.upperCanvasEl,l=this._getEventPrefix();this._isMainEvent(o)&&(r(t.document,l+"up",this._onMouseUp),r(t.document,l+"move",this._onMouseMove,s),f(d,l+"move",this._onMouseMove,s))},_onMouseMove:function(o){!this.allowTouchScrolling&&o.preventDefault&&o.preventDefault(),this.__onMouseMove(o)},_onResize:function(){this.calcOffset()},_shouldRender:function(o){var d=this._activeObject;return!!d!=!!o||d&&o&&d!==o?!0:(d&&d.isEditing,!1)},__onMouseUp:function(o){var d,l=this._currentTransform,g=this._groupSelector,m=!1,b=!g||g.left===0&&g.top===0;if(this._cacheTransformEventData(o),d=this._target,this._handleEvent(o,"up:before"),i(o,u)){this.fireRightClick&&this._handleEvent(o,"up",u,b);return}if(i(o,c)){this.fireMiddleClick&&this._handleEvent(o,"up",c,b),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(o);return}if(this._isMainEvent(o)){if(l&&(this._finalizeCurrentTransform(o),m=l.actionPerformed),!b){var _=d===this._activeObject;this._maybeGroupObjects(o),m||(m=this._shouldRender(d)||!_&&d===this._activeObject)}var C,S;if(d){if(C=d._findTargetCorner(this.getPointer(o,!0),t.util.isTouchEvent(o)),d.selectable&&d!==this._activeObject&&d.activeOn==="up")this.setActiveObject(d,o),m=!0;else{var w=d.controls[C],P=w&&w.getMouseUpHandler(o,d,w);P&&(S=this.getPointer(o),P(o,l,S.x,S.y))}d.isMoving=!1}if(l&&(l.target!==d||l.corner!==C)){var M=l.target&&l.target.controls[l.corner],N=M&&M.getMouseUpHandler(o,d,w);S=S||this.getPointer(o),N&&N(o,l,S.x,S.y)}this._setCursorFromEvent(o,d),this._handleEvent(o,"up",n,b),this._groupSelector=null,this._currentTransform=null,d&&(d.__corner=0),m?this.requestRenderAll():b||this.renderTop()}},_simpleEventHandler:function(o,d){var l=this.findTarget(d),g=this.targets,m={e:d,target:l,subTargets:g};if(this.fire(o,m),l&&l.fire(o,m),!g)return l;for(var b=0;b<g.length;b++)g[b].fire(o,m);return l},_handleEvent:function(o,d,l,g){var m=this._target,b=this.targets||[],_={e:o,target:m,subTargets:b,button:l||n,isClick:g||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};d==="up"&&(_.currentTarget=this.findTarget(o),_.currentSubTargets=this.targets),this.fire("mouse:"+d,_),m&&m.fire("mouse"+d,_);for(var C=0;C<b.length;C++)b[C].fire("mouse"+d,_)},_finalizeCurrentTransform:function(o){var d=this._currentTransform,l=d.target,g={e:o,target:l,transform:d,action:d.action};l._scaling&&(l._scaling=!1),l.setCoords(),(d.actionPerformed||this.stateful&&l.hasStateChanged())&&this._fire("modified",g)},_onMouseDownInDrawingMode:function(o){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(o).requestRenderAll();var d=this.getPointer(o);this.freeDrawingBrush.onMouseDown(d,{e:o,pointer:d}),this._handleEvent(o,"down")},_onMouseMoveInDrawingMode:function(o){if(this._isCurrentlyDrawing){var d=this.getPointer(o);this.freeDrawingBrush.onMouseMove(d,{e:o,pointer:d})}this.setCursor(this.freeDrawingCursor),this._handleEvent(o,"move")},_onMouseUpInDrawingMode:function(o){var d=this.getPointer(o);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:o,pointer:d}),this._handleEvent(o,"up")},__onMouseDown:function(o){this._cacheTransformEventData(o),this._handleEvent(o,"down:before");var d=this._target;if(i(o,u)){this.fireRightClick&&this._handleEvent(o,"down",u);return}if(i(o,c)){this.fireMiddleClick&&this._handleEvent(o,"down",c);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(o);return}if(this._isMainEvent(o)&&!this._currentTransform){var l=this._pointer;this._previousPointer=l;var g=this._shouldRender(d),m=this._shouldGroup(o,d);if(this._shouldClearSelection(o,d)?this.discardActiveObject(o):m&&(this._handleGrouping(o,d),d=this._activeObject),this.selection&&(!d||!d.selectable&&!d.isEditing&&d!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),d){var b=d===this._activeObject;d.selectable&&d.activeOn==="down"&&this.setActiveObject(d,o);var _=d._findTargetCorner(this.getPointer(o,!0),t.util.isTouchEvent(o));if(d.__corner=_,d===this._activeObject&&(_||!m)){this._setupCurrentTransform(o,d,b);var C=d.controls[_],l=this.getPointer(o),S=C&&C.getMouseDownHandler(o,d,C);S&&S(o,this._currentTransform,l.x,l.y)}}this._handleEvent(o,"down"),(g||m)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(o){this._resetTransformEventData(),this._pointer=this.getPointer(o,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(o)||null},_beforeTransform:function(o){var d=this._currentTransform;this.stateful&&d.target.saveState(),this.fire("before:transform",{e:o,transform:d})},__onMouseMove:function(o){this._handleEvent(o,"move:before"),this._cacheTransformEventData(o);var d,l;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(o);return}if(this._isMainEvent(o)){var g=this._groupSelector;g?(l=this._absolutePointer,g.left=l.x-g.ex,g.top=l.y-g.ey,this.renderTop()):this._currentTransform?this._transformObject(o):(d=this.findTarget(o)||null,this._setCursorFromEvent(o,d),this._fireOverOutEvents(d,o)),this._handleEvent(o,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(o,d){var l=this._hoveredTarget,g=this._hoveredTargets,m=this.targets,b=Math.max(g.length,m.length);this.fireSyntheticInOutEvents(o,d,{oldTarget:l,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var _=0;_<b;_++)this.fireSyntheticInOutEvents(m[_],d,{oldTarget:g[_],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=o,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(o,d){var l=this._draggedoverTarget,g=this._hoveredTargets,m=this.targets,b=Math.max(g.length,m.length);this.fireSyntheticInOutEvents(o,d,{oldTarget:l,evtOut:"dragleave",evtIn:"dragenter"});for(var _=0;_<b;_++)this.fireSyntheticInOutEvents(m[_],d,{oldTarget:g[_],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=o},fireSyntheticInOutEvents:function(o,d,l){var g,m,b=l.oldTarget,_,C,S=b!==o,w=l.canvasEvtIn,P=l.canvasEvtOut;S&&(g={e:d,target:o,previousTarget:b},m={e:d,target:b,nextTarget:o}),C=o&&S,_=b&&S,_&&(P&&this.fire(P,m),b.fire(l.evtOut,m)),C&&(w&&this.fire(w,g),o.fire(l.evtIn,g))},__onMouseWheel:function(o){this._cacheTransformEventData(o),this._handleEvent(o,"wheel"),this._resetTransformEventData()},_transformObject:function(o){var d=this.getPointer(o),l=this._currentTransform;l.reset=!1,l.shiftKey=o.shiftKey,l.altKey=o[this.centeredKey],this._performTransformAction(o,l,d),l.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(o,d,l){var g=l.x,m=l.y,b=d.action,_=!1,C=d.actionHandler;C&&(_=C(o,d,g,m)),b==="drag"&&_&&(d.target.isMoving=!0,this.setCursor(d.target.moveCursor||this.moveCursor)),d.actionPerformed=d.actionPerformed||_},_fire:t.controlsUtils.fireEvent,_setCursorFromEvent:function(o,d){if(!d)return this.setCursor(this.defaultCursor),!1;var l=d.hoverCursor||this.hoverCursor,g=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,m=(!g||!g.contains(d))&&d._findTargetCorner(this.getPointer(o,!0));m?this.setCursor(this.getCornerCursor(m,d,o)):(d.subTargetCheck&&this.targets.concat().reverse().map(function(b){l=b.hoverCursor||l}),this.setCursor(l))},getCornerCursor:function(o,d,l){var g=d.controls[o];return g.cursorStyleHandler(l,g,d)}})}(),function(){var f=Math.min,r=Math.max;t.util.object.extend(t.Canvas.prototype,{_shouldGroup:function(u,c){var n=this._activeObject;return n&&this._isSelectionKeyPressed(u)&&c&&c.selectable&&this.selection&&(n!==c||n.type==="activeSelection")&&!c.onSelect({e:u})},_handleGrouping:function(u,c){var n=this._activeObject;n.__corner||c===n&&(c=this.findTarget(u,!0),!c||!c.selectable)||(n&&n.type==="activeSelection"?this._updateActiveSelection(c,u):this._createActiveSelection(c,u))},_updateActiveSelection:function(u,c){var n=this._activeObject,s=n._objects.slice(0);n.contains(u)?(n.removeWithUpdate(u),this._hoveredTarget=u,this._hoveredTargets=this.targets.concat(),n.size()===1&&this._setActiveObject(n.item(0),c)):(n.addWithUpdate(u),this._hoveredTarget=n,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(s,c)},_createActiveSelection:function(u,c){var n=this.getActiveObjects(),s=this._createGroup(u);this._hoveredTarget=s,this._setActiveObject(s,c),this._fireSelectionEvents(n,c)},_createGroup:function(u){var c=this._objects,n=c.indexOf(this._activeObject)<c.indexOf(u),s=n?[this._activeObject,u]:[u,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new t.ActiveSelection(s,{canvas:this})},_groupSelectedObjects:function(u){var c=this._collectObjects(u),n;c.length===1?this.setActiveObject(c[0],u):c.length>1&&(n=new t.ActiveSelection(c.reverse(),{canvas:this}),this.setActiveObject(n,u))},_collectObjects:function(u){for(var c=[],n,s=this._groupSelector.ex,i=this._groupSelector.ey,o=s+this._groupSelector.left,d=i+this._groupSelector.top,l=new t.Point(f(s,o),f(i,d)),g=new t.Point(r(s,o),r(i,d)),m=!this.selectionFullyContained,b=s===o&&i===d,_=this._objects.length;_--&&(n=this._objects[_],!(!(!n||!n.selectable||!n.visible)&&(m&&n.intersectsWithRect(l,g,!0)||n.isContainedWithinRect(l,g,!0)||m&&n.containsPoint(l,null,!0)||m&&n.containsPoint(g,null,!0))&&(c.push(n),b))););return c.length>1&&(c=c.filter(function(C){return!C.onSelect({e:u})})),c},_maybeGroupObjects:function(u){this.selection&&this._groupSelector&&this._groupSelectedObjects(u),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){t.util.object.extend(t.StaticCanvas.prototype,{toDataURL:function(f){f||(f={});var r=f.format||"png",u=f.quality||1,c=(f.multiplier||1)*(f.enableRetinaScaling?this.getRetinaScaling():1),n=this.toCanvasElement(c,f);return t.util.toDataURL(n,r,u)},toCanvasElement:function(f,r){f=f||1,r=r||{};var u=(r.width||this.width)*f,c=(r.height||this.height)*f,n=this.getZoom(),s=this.width,i=this.height,o=n*f,d=this.viewportTransform,l=(d[4]-(r.left||0))*f,g=(d[5]-(r.top||0))*f,m=this.interactive,b=[o,0,0,o,l,g],_=this.enableRetinaScaling,C=t.util.createCanvasElement(),S=this.contextTop;return C.width=u,C.height=c,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=b,this.width=u,this.height=c,this.calcViewportBoundaries(),this.renderCanvas(C.getContext("2d"),this._objects),this.viewportTransform=d,this.width=s,this.height=i,this.calcViewportBoundaries(),this.interactive=m,this.enableRetinaScaling=_,this.contextTop=S,C}})}(),t.util.object.extend(t.StaticCanvas.prototype,{loadFromJSON:function(f,r,u){if(f){var c=typeof f=="string"?JSON.parse(f):t.util.object.clone(f),n=this,s=c.clipPath,i=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete c.clipPath,this._enlivenObjects(c.objects,function(o){n.clear(),n._setBgOverlay(c,function(){s?n._enlivenObjects([s],function(d){n.clipPath=d[0],n.__setupCanvas.call(n,c,o,i,r)}):n.__setupCanvas.call(n,c,o,i,r)})},u),this}},__setupCanvas:function(f,r,u,c){var n=this;r.forEach(function(s,i){n.insertAt(s,i)}),this.renderOnAddRemove=u,delete f.objects,delete f.backgroundImage,delete f.overlayImage,delete f.background,delete f.overlay,this._setOptions(f),this.renderAll(),c&&c()},_setBgOverlay:function(f,r){var u={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!f.backgroundImage&&!f.overlayImage&&!f.background&&!f.overlay){r&&r();return}var c=function(){u.backgroundImage&&u.overlayImage&&u.backgroundColor&&u.overlayColor&&r&&r()};this.__setBgOverlay("backgroundImage",f.backgroundImage,u,c),this.__setBgOverlay("overlayImage",f.overlayImage,u,c),this.__setBgOverlay("backgroundColor",f.background,u,c),this.__setBgOverlay("overlayColor",f.overlay,u,c)},__setBgOverlay:function(f,r,u,c){var n=this;if(!r){u[f]=!0,c&&c();return}f==="backgroundImage"||f==="overlayImage"?t.util.enlivenObjects([r],function(s){n[f]=s[0],u[f]=!0,c&&c()}):this["set"+t.util.string.capitalize(f,!0)](r,function(){u[f]=!0,c&&c()})},_enlivenObjects:function(f,r,u){if(!f||f.length===0){r&&r([]);return}t.util.enlivenObjects(f,function(c){r&&r(c)},null,u)},_toDataURL:function(f,r){this.clone(function(u){r(u.toDataURL(f))})},_toDataURLWithMultiplier:function(f,r,u){this.clone(function(c){u(c.toDataURLWithMultiplier(f,r))})},clone:function(f,r){var u=JSON.stringify(this.toJSON(r));this.cloneWithoutData(function(c){c.loadFromJSON(u,function(){f&&f(c)})})},cloneWithoutData:function(f){var r=t.util.createCanvasElement();r.width=this.width,r.height=this.height;var u=new t.Canvas(r);this.backgroundImage?(u.setBackgroundImage(this.backgroundImage.src,function(){u.renderAll(),f&&f(u)}),u.backgroundImageOpacity=this.backgroundImageOpacity,u.backgroundImageStretch=this.backgroundImageStretch):f&&f(u)}}),function(f){var r=f.fabric||(f.fabric={}),u=r.util.object.extend,c=r.util.object.clone,n=r.util.toFixed,s=r.util.string.capitalize,i=r.util.degreesToRadians,o=!r.isLikelyNode,d=2;r.Object||(r.Object=r.util.createClass(r.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:o,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(l){l&&this.setOptions(l)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=r.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(l){var g=r.perfLimitSizeTotal,m=l.width,b=l.height,_=r.maxCacheSideLimit,C=r.minCacheSideLimit;if(m<=_&&b<=_&&m*b<=g)return m<C&&(l.width=C),b<C&&(l.height=C),l;var S=m/b,w=r.util.limitDimsByArea(S,g),P=r.util.capValue,M=P(C,w.x,_),N=P(C,w.y,_);return m>M&&(l.zoomX/=m/M,l.width=M,l.capped=!0),b>N&&(l.zoomY/=b/N,l.height=N,l.capped=!0),l},_getCacheCanvasDimensions:function(){var l=this.getTotalObjectScaling(),g=this._getTransformedDimensions(0,0),m=g.x*l.scaleX/this.scaleX,b=g.y*l.scaleY/this.scaleY;return{width:m+d,height:b+d,zoomX:l.scaleX,zoomY:l.scaleY,x:m,y:b}},_updateCacheCanvas:function(){var l=this.canvas;if(this.noScaleCache&&l&&l._currentTransform){var g=l._currentTransform.target,m=l._currentTransform.action;if(this===g&&m.slice&&m.slice(0,5)==="scale")return!1}var b=this._cacheCanvas,_=this._limitCacheSize(this._getCacheCanvasDimensions()),C=r.minCacheSideLimit,S=_.width,w=_.height,P,M,N=_.zoomX,X=_.zoomY,j=S!==this.cacheWidth||w!==this.cacheHeight,K=this.zoomX!==N||this.zoomY!==X,ee=j||K,ne=0,ae=0,se=!1;if(j){var oe=this._cacheCanvas.width,T=this._cacheCanvas.height,L=S>oe||w>T,F=(S<oe*.9||w<T*.9)&&oe>C&&T>C;se=L||F,L&&!_.capped&&(S>C||w>C)&&(ne=S*.1,ae=w*.1)}return ee?(se?(b.width=Math.ceil(S+ne),b.height=Math.ceil(w+ae)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,b.width,b.height)),P=_.x/2,M=_.y/2,this.cacheTranslationX=Math.round(b.width/2-P)+P,this.cacheTranslationY=Math.round(b.height/2-M)+M,this.cacheWidth=S,this.cacheHeight=w,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(N,X),this.zoomX=N,this.zoomY=X,!0):!1},setOptions:function(l){this._setOptions(l),this._initGradient(l.fill,"fill"),this._initGradient(l.stroke,"stroke"),this._initPattern(l.fill,"fill"),this._initPattern(l.stroke,"stroke")},transform:function(l){var g=this.group&&!this.group._transformDone||this.group&&this.canvas&&l===this.canvas.contextTop,m=this.calcTransformMatrix(!g);l.transform(m[0],m[1],m[2],m[3],m[4],m[5])},toObject:function(l){var g=r.Object.NUM_FRACTION_DIGITS,m={type:this.type,version:r.version,originX:this.originX,originY:this.originY,left:n(this.left,g),top:n(this.top,g),width:n(this.width,g),height:n(this.height,g),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:n(this.strokeWidth,g),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:n(this.strokeMiterLimit,g),scaleX:n(this.scaleX,g),scaleY:n(this.scaleY,g),angle:n(this.angle,g),flipX:this.flipX,flipY:this.flipY,opacity:n(this.opacity,g),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:n(this.skewX,g),skewY:n(this.skewY,g)};return this.clipPath&&!this.clipPath.excludeFromExport&&(m.clipPath=this.clipPath.toObject(l),m.clipPath.inverted=this.clipPath.inverted,m.clipPath.absolutePositioned=this.clipPath.absolutePositioned),r.util.populateWithProperties(this,m,l),this.includeDefaultValues||(m=this._removeDefaultValues(m)),m},toDatalessObject:function(l){return this.toObject(l)},_removeDefaultValues:function(l){var g=r.util.getKlass(l.type).prototype,m=g.stateProperties;return m.forEach(function(b){b==="left"||b==="top"||(l[b]===g[b]&&delete l[b],Array.isArray(l[b])&&Array.isArray(g[b])&&l[b].length===0&&g[b].length===0&&delete l[b])}),l},toString:function(){return"#<fabric."+s(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var l=r.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(l.scaleX),scaleY:Math.abs(l.scaleY)}},getTotalObjectScaling:function(){var l=this.getObjectScaling(),g=l.scaleX,m=l.scaleY;if(this.canvas){var b=this.canvas.getZoom(),_=this.canvas.getRetinaScaling();g*=b*_,m*=b*_}return{scaleX:g,scaleY:m}},getObjectOpacity:function(){var l=this.opacity;return this.group&&(l*=this.group.getObjectOpacity()),l},_set:function(l,g){var m=l==="scaleX"||l==="scaleY",b=this[l]!==g,_=!1;return m&&(g=this._constrainScale(g)),l==="scaleX"&&g<0?(this.flipX=!this.flipX,g*=-1):l==="scaleY"&&g<0?(this.flipY=!this.flipY,g*=-1):l==="shadow"&&g&&!(g instanceof r.Shadow)?g=new r.Shadow(g):l==="dirty"&&this.group&&this.group.set("dirty",g),this[l]=g,b&&(_=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(l)>-1?(this.dirty=!0,_&&this.group.set("dirty",!0)):_&&this.stateProperties.indexOf(l)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:r.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(l){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(l.save(),this._setupCompositeOperation(l),this.drawSelectionBackground(l),this.transform(l),this._setOpacity(l),this._setShadow(l,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(l)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(l),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),l.restore())},renderCache:function(l){l=l||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,l.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(l,g){if(l.save(),g.inverted?l.globalCompositeOperation="destination-out":l.globalCompositeOperation="destination-in",g.absolutePositioned){var m=r.util.invertTransform(this.calcTransformMatrix());l.transform(m[0],m[1],m[2],m[3],m[4],m[5])}g.transform(l),l.scale(1/g.zoomX,1/g.zoomY),l.drawImage(g._cacheCanvas,-g.cacheTranslationX,-g.cacheTranslationY),l.restore()},drawObject:function(l,g){var m=this.fill,b=this.stroke;g?(this.fill="black",this.stroke="",this._setClippingProperties(l)):this._renderBackground(l),this._render(l),this._drawClipPath(l,this.clipPath),this.fill=m,this.stroke=b},_drawClipPath:function(l,g){g&&(g.canvas=this.canvas,g.shouldCache(),g._transformDone=!0,g.renderCache({forClipping:!0}),this.drawClipPathOnCache(l,g))},drawCacheOnCanvas:function(l){l.scale(1/this.zoomX,1/this.zoomY),l.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(l){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!l&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!l){var g=this.cacheWidth/this.zoomX,m=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-g/2,-m/2,g,m)}return!0}return!1},_renderBackground:function(l){if(this.backgroundColor){var g=this._getNonTransformedDimensions();l.fillStyle=this.backgroundColor,l.fillRect(-g.x/2,-g.y/2,g.x,g.y),this._removeShadow(l)}},_setOpacity:function(l){this.group&&!this.group._transformDone?l.globalAlpha=this.getObjectOpacity():l.globalAlpha*=this.opacity},_setStrokeStyles:function(l,g){var m=g.stroke;m&&(l.lineWidth=g.strokeWidth,l.lineCap=g.strokeLineCap,l.lineDashOffset=g.strokeDashOffset,l.lineJoin=g.strokeLineJoin,l.miterLimit=g.strokeMiterLimit,m.toLive?m.gradientUnits==="percentage"||m.gradientTransform||m.patternTransform?this._applyPatternForTransformedGradient(l,m):(l.strokeStyle=m.toLive(l,this),this._applyPatternGradientTransform(l,m)):l.strokeStyle=g.stroke)},_setFillStyles:function(l,g){var m=g.fill;m&&(m.toLive?(l.fillStyle=m.toLive(l,this),this._applyPatternGradientTransform(l,g.fill)):l.fillStyle=m)},_setClippingProperties:function(l){l.globalAlpha=1,l.strokeStyle="transparent",l.fillStyle="#000000"},_setLineDash:function(l,g){!g||g.length===0||(1&g.length&&g.push.apply(g,g),l.setLineDash(g))},_renderControls:function(l,g){var m=this.getViewportTransform(),b=this.calcTransformMatrix(),_,C,S;g=g||{},C=typeof g.hasBorders<"u"?g.hasBorders:this.hasBorders,S=typeof g.hasControls<"u"?g.hasControls:this.hasControls,b=r.util.multiplyTransformMatrices(m,b),_=r.util.qrDecompose(b),l.save(),l.translate(_.translateX,_.translateY),l.lineWidth=1*this.borderScaleFactor,this.group||(l.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(_.angle-=180),l.rotate(i(this.group?_.angle:this.angle)),g.forActiveSelection||this.group?C&&this.drawBordersInGroup(l,_,g):C&&this.drawBorders(l,g),S&&this.drawControls(l,g),l.restore()},_setShadow:function(l){if(this.shadow){var g=this.shadow,m=this.canvas,b,_=m&&m.viewportTransform[0]||1,C=m&&m.viewportTransform[3]||1;g.nonScaling?b={scaleX:1,scaleY:1}:b=this.getObjectScaling(),m&&m._isRetinaScaling()&&(_*=r.devicePixelRatio,C*=r.devicePixelRatio),l.shadowColor=g.color,l.shadowBlur=g.blur*r.browserShadowBlurConstant*(_+C)*(b.scaleX+b.scaleY)/4,l.shadowOffsetX=g.offsetX*_*b.scaleX,l.shadowOffsetY=g.offsetY*C*b.scaleY}},_removeShadow:function(l){this.shadow&&(l.shadowColor="",l.shadowBlur=l.shadowOffsetX=l.shadowOffsetY=0)},_applyPatternGradientTransform:function(l,g){if(!g||!g.toLive)return{offsetX:0,offsetY:0};var m=g.gradientTransform||g.patternTransform,b=-this.width/2+g.offsetX||0,_=-this.height/2+g.offsetY||0;return g.gradientUnits==="percentage"?l.transform(this.width,0,0,this.height,b,_):l.transform(1,0,0,1,b,_),m&&l.transform(m[0],m[1],m[2],m[3],m[4],m[5]),{offsetX:b,offsetY:_}},_renderPaintInOrder:function(l){this.paintFirst==="stroke"?(this._renderStroke(l),this._renderFill(l)):(this._renderFill(l),this._renderStroke(l))},_render:function(){},_renderFill:function(l){this.fill&&(l.save(),this._setFillStyles(l,this),this.fillRule==="evenodd"?l.fill("evenodd"):l.fill(),l.restore())},_renderStroke:function(l){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(l),l.save(),this.strokeUniform&&this.group){var g=this.getObjectScaling();l.scale(1/g.scaleX,1/g.scaleY)}else this.strokeUniform&&l.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(l,this.strokeDashArray),this._setStrokeStyles(l,this),l.stroke(),l.restore()}},_applyPatternForTransformedGradient:function(l,g){var m=this._limitCacheSize(this._getCacheCanvasDimensions()),b=r.util.createCanvasElement(),_,C=this.canvas.getRetinaScaling(),S=m.x/this.scaleX/C,w=m.y/this.scaleY/C;b.width=Math.ceil(S),b.height=Math.ceil(w),_=b.getContext("2d"),_.beginPath(),_.moveTo(0,0),_.lineTo(S,0),_.lineTo(S,w),_.lineTo(0,w),_.closePath(),_.translate(S/2,w/2),_.scale(m.zoomX/this.scaleX/C,m.zoomY/this.scaleY/C),this._applyPatternGradientTransform(_,g),_.fillStyle=g.toLive(l),_.fill(),l.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),l.scale(C*this.scaleX/m.zoomX,C*this.scaleY/m.zoomY),l.strokeStyle=_.createPattern(b,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var l=r.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",l.scaleX),this.set("scaleY",l.scaleY),this.angle=l.angle,this.skewX=l.skewX,this.skewY=0}},_removeTransformMatrix:function(l){var g=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),g=r.util.transformPoint(g,this.transformMatrix)),this.transformMatrix=null,l&&(this.scaleX*=l.scaleX,this.scaleY*=l.scaleY,this.cropX=l.cropX,this.cropY=l.cropY,g.x+=l.offsetLeft,g.y+=l.offsetTop,this.width=l.width,this.height=l.height),this.setPositionByOrigin(g,"center","center")},clone:function(l,g){var m=this.toObject(g);this.constructor.fromObject?this.constructor.fromObject(m,l):r.Object._fromObject("Object",m,l)},cloneAsImage:function(l,g){var m=this.toCanvasElement(g);return l&&l(new r.Image(m)),this},toCanvasElement:function(l){l||(l={});var g=r.util,m=g.saveObjectTransform(this),b=this.group,_=this.shadow,C=Math.abs,S=(l.multiplier||1)*(l.enableRetinaScaling?r.devicePixelRatio:1);delete this.group,l.withoutTransform&&g.resetObjectTransform(this),l.withoutShadow&&(this.shadow=null);var w=r.util.createCanvasElement(),P=this.getBoundingRect(!0,!0),M=this.shadow,N,X={x:0,y:0},j,K,ee;M&&(j=M.blur,M.nonScaling?N={scaleX:1,scaleY:1}:N=this.getObjectScaling(),X.x=2*Math.round(C(M.offsetX)+j)*C(N.scaleX),X.y=2*Math.round(C(M.offsetY)+j)*C(N.scaleY)),K=P.width+X.x,ee=P.height+X.y,w.width=Math.ceil(K),w.height=Math.ceil(ee);var ne=new r.StaticCanvas(w,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});l.format==="jpeg"&&(ne.backgroundColor="#fff"),this.setPositionByOrigin(new r.Point(ne.width/2,ne.height/2),"center","center");var ae=this.canvas;ne.add(this);var se=ne.toCanvasElement(S||1,l);return this.shadow=_,this.set("canvas",ae),b&&(this.group=b),this.set(m).setCoords(),ne._objects=[],ne.dispose(),ne=null,se},toDataURL:function(l){return l||(l={}),r.util.toDataURL(this.toCanvasElement(l),l.format||"png",l.quality||1)},isType:function(l){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===l},complexity:function(){return 1},toJSON:function(l){return this.toObject(l)},rotate:function(l){var g=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return g&&this._setOriginToCenter(),this.set("angle",l),g&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(l,g){g=g||this.canvas.getPointer(l);var m=new r.Point(g.x,g.y),b=this._getLeftTopCoords();return this.angle&&(m=r.util.rotatePoint(m,b,i(-this.angle))),{x:m.x-b.x,y:m.y-b.y}},_setupCompositeOperation:function(l){this.globalCompositeOperation&&(l.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){r.runningAnimations&&r.runningAnimations.cancelByTarget(this)}}),r.util.createAccessors&&r.util.createAccessors(r.Object),u(r.Object.prototype,r.Observable),r.Object.NUM_FRACTION_DIGITS=2,r.Object.ENLIVEN_PROPS=["clipPath"],r.Object._fromObject=function(l,g,m,b){var _=r[l];g=c(g,!0),r.util.enlivenPatterns([g.fill,g.stroke],function(C){typeof C[0]<"u"&&(g.fill=C[0]),typeof C[1]<"u"&&(g.stroke=C[1]),r.util.enlivenObjectEnlivables(g,g,function(){var S=b?new _(g[b],g):new _(g);m&&m(S)})})},r.Object.__uid=0)}(e),function(){var f=t.util.degreesToRadians,r={left:-.5,center:0,right:.5},u={top:-.5,center:0,bottom:.5};t.util.object.extend(t.Object.prototype,{translateToGivenOrigin:function(c,n,s,i,o){var d=c.x,l=c.y,g,m,b;return typeof n=="string"?n=r[n]:n-=.5,typeof i=="string"?i=r[i]:i-=.5,g=i-n,typeof s=="string"?s=u[s]:s-=.5,typeof o=="string"?o=u[o]:o-=.5,m=o-s,(g||m)&&(b=this._getTransformedDimensions(),d=c.x+g*b.x,l=c.y+m*b.y),new t.Point(d,l)},translateToCenterPoint:function(c,n,s){var i=this.translateToGivenOrigin(c,n,s,"center","center");return this.angle?t.util.rotatePoint(i,c,f(this.angle)):i},translateToOriginPoint:function(c,n,s){var i=this.translateToGivenOrigin(c,"center","center",n,s);return this.angle?t.util.rotatePoint(i,c,f(this.angle)):i},getCenterPoint:function(){var c=new t.Point(this.left,this.top);return this.translateToCenterPoint(c,this.originX,this.originY)},getPointByOrigin:function(c,n){var s=this.getCenterPoint();return this.translateToOriginPoint(s,c,n)},toLocalPoint:function(c,n,s){var i=this.getCenterPoint(),o,d;return typeof n<"u"&&typeof s<"u"?o=this.translateToGivenOrigin(i,"center","center",n,s):o=new t.Point(this.left,this.top),d=new t.Point(c.x,c.y),this.angle&&(d=t.util.rotatePoint(d,i,-f(this.angle))),d.subtractEquals(o)},setPositionByOrigin:function(c,n,s){var i=this.translateToCenterPoint(c,n,s),o=this.translateToOriginPoint(i,this.originX,this.originY);this.set("left",o.x),this.set("top",o.y)},adjustPosition:function(c){var n=f(this.angle),s=this.getScaledWidth(),i=t.util.cos(n)*s,o=t.util.sin(n)*s,d,l;typeof this.originX=="string"?d=r[this.originX]:d=this.originX-.5,typeof c=="string"?l=r[c]:l=c-.5,this.left+=i*(l-d),this.top+=o*(l-d),this.setCoords(),this.originX=c},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var c=this.getCenterPoint();this.originX="center",this.originY="center",this.left=c.x,this.top=c.y},_resetOrigin:function(){var c=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=c.x,this.top=c.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function f(s){return[new t.Point(s.tl.x,s.tl.y),new t.Point(s.tr.x,s.tr.y),new t.Point(s.br.x,s.br.y),new t.Point(s.bl.x,s.bl.y)]}var r=t.util,u=r.degreesToRadians,c=r.multiplyTransformMatrices,n=r.transformPoint;r.object.extend(t.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(s,i){return i?s?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),s?this.aCoords:this.lineCoords)},getCoords:function(s,i){return f(this._getCoords(s,i))},intersectsWithRect:function(s,i,o,d){var l=this.getCoords(o,d),g=t.Intersection.intersectPolygonRectangle(l,s,i);return g.status==="Intersection"},intersectsWithObject:function(s,i,o){var d=t.Intersection.intersectPolygonPolygon(this.getCoords(i,o),s.getCoords(i,o));return d.status==="Intersection"||s.isContainedWithinObject(this,i,o)||this.isContainedWithinObject(s,i,o)},isContainedWithinObject:function(s,i,o){for(var d=this.getCoords(i,o),l=i?s.aCoords:s.lineCoords,g=0,m=s._getImageLines(l);g<4;g++)if(!s.containsPoint(d[g],m))return!1;return!0},isContainedWithinRect:function(s,i,o,d){var l=this.getBoundingRect(o,d);return l.left>=s.x&&l.left+l.width<=i.x&&l.top>=s.y&&l.top+l.height<=i.y},containsPoint:function(s,g,o,d){var l=this._getCoords(o,d),g=g||this._getImageLines(l),m=this._findCrossPoints(s,g);return m!==0&&m%2===1},isOnScreen:function(s){if(!this.canvas)return!1;var i=this.canvas.vptCoords.tl,o=this.canvas.vptCoords.br,d=this.getCoords(!0,s);return d.some(function(l){return l.x<=o.x&&l.x>=i.x&&l.y<=o.y&&l.y>=i.y})||this.intersectsWithRect(i,o,!0,s)?!0:this._containsCenterOfCanvas(i,o,s)},_containsCenterOfCanvas:function(s,i,o){var d={x:(s.x+i.x)/2,y:(s.y+i.y)/2};return!!this.containsPoint(d,null,!0,o)},isPartiallyOnScreen:function(s){if(!this.canvas)return!1;var i=this.canvas.vptCoords.tl,o=this.canvas.vptCoords.br;if(this.intersectsWithRect(i,o,!0,s))return!0;var d=this.getCoords(!0,s).every(function(l){return(l.x>=o.x||l.x<=i.x)&&(l.y>=o.y||l.y<=i.y)});return d&&this._containsCenterOfCanvas(i,o,s)},_getImageLines:function(s){var i={topline:{o:s.tl,d:s.tr},rightline:{o:s.tr,d:s.br},bottomline:{o:s.br,d:s.bl},leftline:{o:s.bl,d:s.tl}};return i},_findCrossPoints:function(s,i){var o,d,l,g,m,b=0,_;for(var C in i)if(_=i[C],!(_.o.y<s.y&&_.d.y<s.y)&&!(_.o.y>=s.y&&_.d.y>=s.y)&&(_.o.x===_.d.x&&_.o.x>=s.x?m=_.o.x:(o=0,d=(_.d.y-_.o.y)/(_.d.x-_.o.x),l=s.y-o*s.x,g=_.o.y-d*_.o.x,m=-(l-g)/(o-d)),m>=s.x&&(b+=1),b===2))break;return b},getBoundingRect:function(s,i){var o=this.getCoords(s,i);return r.makeBoundingBoxFromPoints(o)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(s){return Math.abs(s)<this.minScaleLimit?s<0?-this.minScaleLimit:this.minScaleLimit:s===0?1e-4:s},scale:function(s){return this._set("scaleX",s),this._set("scaleY",s),this.setCoords()},scaleToWidth:function(s,i){var o=this.getBoundingRect(i).width/this.getScaledWidth();return this.scale(s/this.width/o)},scaleToHeight:function(s,i){var o=this.getBoundingRect(i).height/this.getScaledHeight();return this.scale(s/this.height/o)},calcLineCoords:function(){var s=this.getViewportTransform(),i=this.padding,o=u(this.angle),d=r.cos(o),l=r.sin(o),g=d*i,m=l*i,b=g+m,_=g-m,C=this.calcACoords(),S={tl:n(C.tl,s),tr:n(C.tr,s),bl:n(C.bl,s),br:n(C.br,s)};return i&&(S.tl.x-=_,S.tl.y-=b,S.tr.x+=b,S.tr.y-=_,S.bl.x-=b,S.bl.y+=_,S.br.x+=_,S.br.y+=b),S},calcOCoords:function(){var s=this._calcRotateMatrix(),i=this._calcTranslateMatrix(),o=this.getViewportTransform(),d=c(o,i),l=c(d,s),l=c(l,[1/o[0],0,0,1/o[3],0,0]),g=this._calculateCurrentDimensions(),m={};return this.forEachControl(function(b,_,C){m[_]=b.positionHandler(g,l,C)}),m},calcACoords:function(){var s=this._calcRotateMatrix(),i=this._calcTranslateMatrix(),o=c(i,s),d=this._getTransformedDimensions(),l=d.x/2,g=d.y/2;return{tl:n({x:-l,y:-g},o),tr:n({x:l,y:-g},o),bl:n({x:-l,y:g},o),br:n({x:l,y:g},o)}},setCoords:function(s){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),s?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return r.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var s=this.getCenterPoint();return[1,0,0,1,s.x,s.y]},transformMatrixKey:function(s){var i="_",o="";return!s&&this.group&&(o=this.group.transformMatrixKey(s)+i),o+this.top+i+this.left+i+this.scaleX+i+this.scaleY+i+this.skewX+i+this.skewY+i+this.angle+i+this.originX+i+this.originY+i+this.width+i+this.height+i+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(s){var i=this.calcOwnMatrix();if(s||!this.group)return i;var o=this.transformMatrixKey(s),d=this.matrixCache||(this.matrixCache={});return d.key===o?d.value:(this.group&&(i=c(this.group.calcTransformMatrix(!1),i)),d.key=o,d.value=i,i)},calcOwnMatrix:function(){var s=this.transformMatrixKey(!0),i=this.ownMatrixCache||(this.ownMatrixCache={});if(i.key===s)return i.value;var o=this._calcTranslateMatrix(),d={angle:this.angle,translateX:o[4],translateY:o[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return i.key=s,i.value=r.composeMatrix(d),i.value},_getNonTransformedDimensions:function(){var s=this.strokeWidth,i=this.width+s,o=this.height+s;return{x:i,y:o}},_getTransformedDimensions:function(s,i){typeof s>"u"&&(s=this.skewX),typeof i>"u"&&(i=this.skewY);var o,d,l,g=s===0&&i===0;if(this.strokeUniform?(d=this.width,l=this.height):(o=this._getNonTransformedDimensions(),d=o.x,l=o.y),g)return this._finalizeDimensions(d*this.scaleX,l*this.scaleY);var m=r.sizeAfterTransform(d,l,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:s,skewY:i});return this._finalizeDimensions(m.x,m.y)},_finalizeDimensions:function(s,i){return this.strokeUniform?{x:s+this.strokeWidth,y:i+this.strokeWidth}:{x:s,y:i}},_calculateCurrentDimensions:function(){var s=this.getViewportTransform(),i=this._getTransformedDimensions(),o=n(i,s,!0);return o.scalarAdd(2*this.padding)}})}(),t.util.object.extend(t.Object.prototype,{sendToBack:function(){return this.group?t.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?t.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(f){return this.group?t.StaticCanvas.prototype.sendBackwards.call(this.group,this,f):this.canvas&&this.canvas.sendBackwards(this,f),this},bringForward:function(f){return this.group?t.StaticCanvas.prototype.bringForward.call(this.group,this,f):this.canvas&&this.canvas.bringForward(this,f),this},moveTo:function(f){return this.group&&this.group.type!=="activeSelection"?t.StaticCanvas.prototype.moveTo.call(this.group,this,f):this.canvas&&this.canvas.moveTo(this,f),this}}),function(){function f(u,c){if(c){if(c.toLive)return u+": url(#SVGID_"+c.id+"); ";var n=new t.Color(c),s=u+": "+n.toRgb()+"; ",i=n.getAlpha();return i!==1&&(s+=u+"-opacity: "+i.toString()+"; "),s}else return u+": none; "}var r=t.util.toFixed;t.util.object.extend(t.Object.prototype,{getSvgStyles:function(u){var c=this.fillRule?this.fillRule:"nonzero",n=this.strokeWidth?this.strokeWidth:"0",s=this.strokeDashArray?this.strokeDashArray.join(" "):"none",i=this.strokeDashOffset?this.strokeDashOffset:"0",o=this.strokeLineCap?this.strokeLineCap:"butt",d=this.strokeLineJoin?this.strokeLineJoin:"miter",l=this.strokeMiterLimit?this.strokeMiterLimit:"4",g=typeof this.opacity<"u"?this.opacity:"1",m=this.visible?"":" visibility: hidden;",b=u?"":this.getSvgFilter(),_=f("fill",this.fill),C=f("stroke",this.stroke);return[C,"stroke-width: ",n,"; ","stroke-dasharray: ",s,"; ","stroke-linecap: ",o,"; ","stroke-dashoffset: ",i,"; ","stroke-linejoin: ",d,"; ","stroke-miterlimit: ",l,"; ",_,"fill-rule: ",c,"; ","opacity: ",g,";",b,m].join("")},getSvgSpanStyles:function(u,c){var n="; ",i=u.fontFamily?"font-family: "+(u.fontFamily.indexOf("'")===-1&&u.fontFamily.indexOf('"')===-1?"'"+u.fontFamily+"'":u.fontFamily)+n:"",s=u.strokeWidth?"stroke-width: "+u.strokeWidth+n:"",i=i,o=u.fontSize?"font-size: "+u.fontSize+"px"+n:"",d=u.fontStyle?"font-style: "+u.fontStyle+n:"",l=u.fontWeight?"font-weight: "+u.fontWeight+n:"",g=u.fill?f("fill",u.fill):"",m=u.stroke?f("stroke",u.stroke):"",b=this.getSvgTextDecoration(u),_=u.deltaY?"baseline-shift: "+-u.deltaY+"; ":"";return b&&(b="text-decoration: "+b+n),[m,s,i,o,d,l,b,g,_,c?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(u){return["overline","underline","line-through"].filter(function(c){return u[c.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(u,c){var n=u?this.calcTransformMatrix():this.calcOwnMatrix(),s='transform="'+t.util.matrixToSVG(n);return s+(c||"")+'" '},_setSVGBg:function(u){if(this.backgroundColor){var c=t.Object.NUM_FRACTION_DIGITS;u.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',r(-this.width/2,c),'" y="',r(-this.height/2,c),'" width="',r(this.width,c),'" height="',r(this.height,c),`"></rect>
`)}},toSVG:function(u){return this._createBaseSVGMarkup(this._toSVG(u),{reviver:u})},toClipPathSVG:function(u){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(u),{reviver:u})},_createBaseClipPathSVGMarkup:function(u,c){c=c||{};var n=c.reviver,s=c.additionalTransform||"",i=[this.getSvgTransform(!0,s),this.getSvgCommons()].join(""),o=u.indexOf("COMMON_PARTS");return u[o]=i,n?n(u.join("")):u.join("")},_createBaseSVGMarkup:function(u,c){c=c||{};var n=c.noStyle,s=c.reviver,i=n?"":'style="'+this.getSvgStyles()+'" ',o=c.withShadow?'style="'+this.getSvgFilter()+'" ':"",d=this.clipPath,l=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",g=d&&d.absolutePositioned,m=this.stroke,b=this.fill,_=this.shadow,C,S=[],w,P=u.indexOf("COMMON_PARTS"),M=c.additionalTransform;return d&&(d.clipPathId="CLIPPATH_"+t.Object.__uid++,w='<clipPath id="'+d.clipPathId+`" >
`+d.toClipPathSVG(s)+`</clipPath>
`),g&&S.push("<g ",o,this.getSvgCommons(),` >
`),S.push("<g ",this.getSvgTransform(!1),g?"":o+this.getSvgCommons(),` >
`),C=[i,l,n?"":this.addPaintOrder()," ",M?'transform="'+M+'" ':""].join(""),u[P]=C,b&&b.toLive&&S.push(b.toSVG(this)),m&&m.toLive&&S.push(m.toSVG(this)),_&&S.push(_.toSVG(this)),d&&S.push(w),S.push(u.join("")),S.push(`</g>
`),g&&S.push(`</g>
`),s?s(S.join("")):S.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var f=t.util.object.extend,r="stateProperties";function u(n,s,i){var o={},d=!0;i.forEach(function(l){o[l]=n[l]}),f(n[s],o,d)}function c(n,s,i){if(n===s)return!0;if(Array.isArray(n)){if(!Array.isArray(s)||n.length!==s.length)return!1;for(var o=0,d=n.length;o<d;o++)if(!c(n[o],s[o]))return!1;return!0}else if(n&&typeof n=="object"){var l=Object.keys(n),g;if(!s||typeof s!="object"||!i&&l.length!==Object.keys(s).length)return!1;for(var o=0,d=l.length;o<d;o++)if(g=l[o],!(g==="canvas"||g==="group")&&!c(n[g],s[g]))return!1;return!0}}t.util.object.extend(t.Object.prototype,{hasStateChanged:function(n){n=n||r;var s="_"+n;return Object.keys(this[s]).length<this[n].length?!0:!c(this[s],this,!0)},saveState:function(n){var s=n&&n.propertySet||r,i="_"+s;return this[i]?(u(this,i,this[s]),n&&n.stateProperties&&u(this,i,n.stateProperties),this):this.setupState(n)},setupState:function(n){n=n||{};var s=n.propertySet||r;return n.propertySet=s,this["_"+s]={},this.saveState(n),this}})}(),function(){var f=t.util.degreesToRadians;t.util.object.extend(t.Object.prototype,{_findTargetCorner:function(r,u){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var c=r.x,n=r.y,s,i,o=Object.keys(this.oCoords),d=o.length-1,l;for(this.__corner=0;d>=0;d--)if(l=o[d],!!this.isControlVisible(l)&&(i=this._getImageLines(u?this.oCoords[l].touchCorner:this.oCoords[l].corner),s=this._findCrossPoints({x:c,y:n},i),s!==0&&s%2===1))return this.__corner=l,l;return!1},forEachControl:function(r){for(var u in this.controls)r(this.controls[u],u,this)},_setCornerCoords:function(){var r=this.oCoords;for(var u in r){var c=this.controls[u];r[u].corner=c.calcCornerCoords(this.angle,this.cornerSize,r[u].x,r[u].y,!1),r[u].touchCorner=c.calcCornerCoords(this.angle,this.touchCornerSize,r[u].x,r[u].y,!0)}},drawSelectionBackground:function(r){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;r.save();var u=this.getCenterPoint(),c=this._calculateCurrentDimensions(),n=this.canvas.viewportTransform;return r.translate(u.x,u.y),r.scale(1/n[0],1/n[3]),r.rotate(f(this.angle)),r.fillStyle=this.selectionBackgroundColor,r.fillRect(-c.x/2,-c.y/2,c.x,c.y),r.restore(),this},drawBorders:function(r,u){u=u||{};var c=this._calculateCurrentDimensions(),n=this.borderScaleFactor,s=c.x+n,i=c.y+n,o=typeof u.hasControls<"u"?u.hasControls:this.hasControls,d=!1;return r.save(),r.strokeStyle=u.borderColor||this.borderColor,this._setLineDash(r,u.borderDashArray||this.borderDashArray),r.strokeRect(-s/2,-i/2,s,i),o&&(r.beginPath(),this.forEachControl(function(l,g,m){l.withConnection&&l.getVisibility(m,g)&&(d=!0,r.moveTo(l.x*s,l.y*i),r.lineTo(l.x*s+l.offsetX,l.y*i+l.offsetY))}),d&&r.stroke()),r.restore(),this},drawBordersInGroup:function(r,u,c){c=c||{};var n=t.util.sizeAfterTransform(this.width,this.height,u),s=this.strokeWidth,i=this.strokeUniform,o=this.borderScaleFactor,d=n.x+s*(i?this.canvas.getZoom():u.scaleX)+o,l=n.y+s*(i?this.canvas.getZoom():u.scaleY)+o;return r.save(),this._setLineDash(r,c.borderDashArray||this.borderDashArray),r.strokeStyle=c.borderColor||this.borderColor,r.strokeRect(-d/2,-l/2,d,l),r.restore(),this},drawControls:function(r,u){u=u||{},r.save();var c=1,n,s;return this.canvas&&(c=this.canvas.getRetinaScaling()),r.setTransform(c,0,0,c,0,0),r.strokeStyle=r.fillStyle=u.cornerColor||this.cornerColor,this.transparentCorners||(r.strokeStyle=u.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(r,u.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(n=this.group.calcTransformMatrix()),this.forEachControl(function(i,o,d){s=d.oCoords[o],i.getVisibility(d,o)&&(n&&(s=t.util.transformPoint(s,n)),i.render(r,s.x,s.y,u,d))}),r.restore(),this},isControlVisible:function(r){return this.controls[r]&&this.controls[r].getVisibility(this,r)},setControlVisible:function(r,u){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[r]=u,this},setControlsVisibility:function(r){r||(r={});for(var u in r)this.setControlVisible(u,r[u]);return this},onDeselect:function(){},onSelect:function(){}})}(),t.util.object.extend(t.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(f,r){r=r||{};var u=function(){},c=r.onComplete||u,n=r.onChange||u,s=this;return t.util.animate({target:this,startValue:f.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(i){f.set("left",i),s.requestRenderAll(),n()},onComplete:function(){f.setCoords(),c()}})},fxCenterObjectV:function(f,r){r=r||{};var u=function(){},c=r.onComplete||u,n=r.onChange||u,s=this;return t.util.animate({target:this,startValue:f.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(i){f.set("top",i),s.requestRenderAll(),n()},onComplete:function(){f.setCoords(),c()}})},fxRemove:function(f,r){r=r||{};var u=function(){},c=r.onComplete||u,n=r.onChange||u,s=this;return t.util.animate({target:this,startValue:f.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(i){f.set("opacity",i),s.requestRenderAll(),n()},onComplete:function(){s.remove(f),c()}})}}),t.util.object.extend(t.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var f=[],r,u,c=[];for(r in arguments[0])f.push(r);for(var n=0,s=f.length;n<s;n++)r=f[n],u=n!==s-1,c.push(this._animate(r,arguments[0][r],arguments[1],u));return c}else return this._animate.apply(this,arguments)},_animate:function(f,r,u,c){var n=this,s;r=r.toString(),u?u=t.util.object.clone(u):u={},~f.indexOf(".")&&(s=f.split("."));var i=n.colorProperties.indexOf(f)>-1||s&&n.colorProperties.indexOf(s[1])>-1,o=s?this.get(s[0])[s[1]]:this.get(f);"from"in u||(u.from=o),i||(~r.indexOf("=")?r=o+parseFloat(r.replace("=","")):r=parseFloat(r));var d={target:this,startValue:u.from,endValue:r,byValue:u.by,easing:u.easing,duration:u.duration,abort:u.abort&&function(l,g,m){return u.abort.call(n,l,g,m)},onChange:function(l,g,m){s?n[s[0]][s[1]]=l:n.set(f,l),!c&&u.onChange&&u.onChange(l,g,m)},onComplete:function(l,g,m){c||(n.setCoords(),u.onComplete&&u.onComplete(l,g,m))}};return i?t.util.animateColor(d.startValue,d.endValue,d.duration,d):t.util.animate(d)}}),function(f){var r=f.fabric||(f.fabric={}),u=r.util.object.extend,c=r.util.object.clone,n={x1:1,x2:1,y1:1,y2:1};if(r.Line){r.warn("fabric.Line is already defined");return}r.Line=r.util.createClass(r.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:r.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(i,o){i||(i=[0,0,0,0]),this.callSuper("initialize",o),this.set("x1",i[0]),this.set("y1",i[1]),this.set("x2",i[2]),this.set("y2",i[3]),this._setWidthHeight(o)},_setWidthHeight:function(i){i||(i={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in i?i.left:this._getLeftToOriginX(),this.top="top"in i?i.top:this._getTopToOriginY()},_set:function(i,o){return this.callSuper("_set",i,o),typeof n[i]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:s({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:s({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(i){i.beginPath();var o=this.calcLinePoints();i.moveTo(o.x1,o.y1),i.lineTo(o.x2,o.y2),i.lineWidth=this.strokeWidth;var d=i.strokeStyle;i.strokeStyle=this.stroke||i.fillStyle,this.stroke&&this._renderStroke(i),i.strokeStyle=d},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(i){return u(this.callSuper("toObject",i),this.calcLinePoints())},_getNonTransformedDimensions:function(){var i=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(i.y-=this.strokeWidth),this.height===0&&(i.x-=this.strokeWidth)),i},calcLinePoints:function(){var i=this.x1<=this.x2?-1:1,o=this.y1<=this.y2?-1:1,d=i*this.width*.5,l=o*this.height*.5,g=i*this.width*-.5,m=o*this.height*-.5;return{x1:d,x2:g,y1:l,y2:m}},_toSVG:function(){var i=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',i.x1,'" y1="',i.y1,'" x2="',i.x2,'" y2="',i.y2,`" />
`]}}),r.Line.ATTRIBUTE_NAMES=r.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),r.Line.fromElement=function(i,o,d){d=d||{};var l=r.parseAttributes(i,r.Line.ATTRIBUTE_NAMES),g=[l.x1||0,l.y1||0,l.x2||0,l.y2||0];o(new r.Line(g,u(l,d)))},r.Line.fromObject=function(i,o){function d(g){delete g.points,o&&o(g)}var l=c(i,!0);l.points=[i.x1,i.y1,i.x2,i.y2],r.Object._fromObject("Line",l,d,"points")};function s(i,o){var d=i.origin,l=i.axis1,g=i.axis2,m=i.dimension,b=o.nearest,_=o.center,C=o.farthest;return function(){switch(this.get(d)){case b:return Math.min(this.get(l),this.get(g));case _:return Math.min(this.get(l),this.get(g))+.5*this.get(m);case C:return Math.max(this.get(l),this.get(g))}}}}(e),function(f){var r=f.fabric||(f.fabric={}),u=r.util.degreesToRadians;if(r.Circle){r.warn("fabric.Circle is already defined.");return}r.Circle=r.util.createClass(r.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:r.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(n,s){return this.callSuper("_set",n,s),n==="radius"&&this.setRadius(s),this},toObject:function(n){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(n))},_toSVG:function(){var n,s=0,i=0,o=(this.endAngle-this.startAngle)%360;if(o===0)n=["<circle ","COMMON_PARTS",'cx="'+s+'" cy="'+i+'" ','r="',this.radius,`" />
`];else{var d=u(this.startAngle),l=u(this.endAngle),g=this.radius,m=r.util.cos(d)*g,b=r.util.sin(d)*g,_=r.util.cos(l)*g,C=r.util.sin(l)*g,S=o>180?"1":"0";n=['<path d="M '+m+" "+b," A "+g+" "+g," 0 ",+S+" 1"," "+_+" "+C,'" ',"COMMON_PARTS",` />
`]}return n},_render:function(n){n.beginPath(),n.arc(0,0,this.radius,u(this.startAngle),u(this.endAngle),!1),this._renderPaintInOrder(n)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(n){return this.radius=n,this.set("width",n*2).set("height",n*2)}}),r.Circle.ATTRIBUTE_NAMES=r.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),r.Circle.fromElement=function(n,s){var i=r.parseAttributes(n,r.Circle.ATTRIBUTE_NAMES);if(!c(i))throw new Error("value of `r` attribute is required and can not be negative");i.left=(i.left||0)-i.radius,i.top=(i.top||0)-i.radius,s(new r.Circle(i))};function c(n){return"radius"in n&&n.radius>=0}r.Circle.fromObject=function(n,s){r.Object._fromObject("Circle",n,s)}}(e),function(f){var r=f.fabric||(f.fabric={});if(r.Triangle){r.warn("fabric.Triangle is already defined");return}r.Triangle=r.util.createClass(r.Object,{type:"triangle",width:100,height:100,_render:function(u){var c=this.width/2,n=this.height/2;u.beginPath(),u.moveTo(-c,n),u.lineTo(0,-n),u.lineTo(c,n),u.closePath(),this._renderPaintInOrder(u)},_toSVG:function(){var u=this.width/2,c=this.height/2,n=[-u+" "+c,"0 "+-c,u+" "+c].join(",");return["<polygon ","COMMON_PARTS",'points="',n,'" />']}}),r.Triangle.fromObject=function(u,c){return r.Object._fromObject("Triangle",u,c)}}(e),function(f){var r=f.fabric||(f.fabric={}),u=Math.PI*2;if(r.Ellipse){r.warn("fabric.Ellipse is already defined.");return}r.Ellipse=r.util.createClass(r.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:r.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(c){this.callSuper("initialize",c),this.set("rx",c&&c.rx||0),this.set("ry",c&&c.ry||0)},_set:function(c,n){switch(this.callSuper("_set",c,n),c){case"rx":this.rx=n,this.set("width",n*2);break;case"ry":this.ry=n,this.set("height",n*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(c){return this.callSuper("toObject",["rx","ry"].concat(c))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(c){c.beginPath(),c.save(),c.transform(1,0,0,this.ry/this.rx,0,0),c.arc(0,0,this.rx,0,u,!1),c.restore(),this._renderPaintInOrder(c)}}),r.Ellipse.ATTRIBUTE_NAMES=r.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),r.Ellipse.fromElement=function(c,n){var s=r.parseAttributes(c,r.Ellipse.ATTRIBUTE_NAMES);s.left=(s.left||0)-s.rx,s.top=(s.top||0)-s.ry,n(new r.Ellipse(s))},r.Ellipse.fromObject=function(c,n){r.Object._fromObject("Ellipse",c,n)}}(e),function(f){var r=f.fabric||(f.fabric={}),u=r.util.object.extend;if(r.Rect){r.warn("fabric.Rect is already defined");return}r.Rect=r.util.createClass(r.Object,{stateProperties:r.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:r.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(c){this.callSuper("initialize",c),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(c){var n=this.rx?Math.min(this.rx,this.width/2):0,s=this.ry?Math.min(this.ry,this.height/2):0,i=this.width,o=this.height,d=-this.width/2,l=-this.height/2,g=n!==0||s!==0,m=1-.5522847498;c.beginPath(),c.moveTo(d+n,l),c.lineTo(d+i-n,l),g&&c.bezierCurveTo(d+i-m*n,l,d+i,l+m*s,d+i,l+s),c.lineTo(d+i,l+o-s),g&&c.bezierCurveTo(d+i,l+o-m*s,d+i-m*n,l+o,d+i-n,l+o),c.lineTo(d+n,l+o),g&&c.bezierCurveTo(d+m*n,l+o,d,l+o-m*s,d,l+o-s),c.lineTo(d,l+s),g&&c.bezierCurveTo(d,l+m*s,d+m*n,l,d+n,l),c.closePath(),this._renderPaintInOrder(c)},toObject:function(c){return this.callSuper("toObject",["rx","ry"].concat(c))},_toSVG:function(){var c=-this.width/2,n=-this.height/2;return["<rect ","COMMON_PARTS",'x="',c,'" y="',n,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),r.Rect.ATTRIBUTE_NAMES=r.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),r.Rect.fromElement=function(c,n,s){if(!c)return n(null);s=s||{};var i=r.parseAttributes(c,r.Rect.ATTRIBUTE_NAMES);i.left=i.left||0,i.top=i.top||0,i.height=i.height||0,i.width=i.width||0;var o=new r.Rect(u(s?r.util.object.clone(s):{},i));o.visible=o.visible&&o.width>0&&o.height>0,n(o)},r.Rect.fromObject=function(c,n){return r.Object._fromObject("Rect",c,n)}}(e),function(f){var r=f.fabric||(f.fabric={}),u=r.util.object.extend,c=r.util.array.min,n=r.util.array.max,s=r.util.toFixed,i=r.util.projectStrokeOnPoints;if(r.Polyline){r.warn("fabric.Polyline is already defined");return}r.Polyline=r.util.createClass(r.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:r.Object.prototype.cacheProperties.concat("points"),initialize:function(o,d){d=d||{},this.points=o||[],this.callSuper("initialize",d),this._setPositionDimensions(d)},_projectStrokeOnPoints:function(){return i(this.points,this,!0)},_setPositionDimensions:function(o){var d=this._calcDimensions(o),l,g=this.exactBoundingBox?this.strokeWidth:0;this.width=d.width-g,this.height=d.height-g,o.fromSVG||(l=this.translateToGivenOrigin({x:d.left-this.strokeWidth/2+g/2,y:d.top-this.strokeWidth/2+g/2},"left","top",this.originX,this.originY)),typeof o.left>"u"&&(this.left=o.fromSVG?d.left:l.x),typeof o.top>"u"&&(this.top=o.fromSVG?d.top:l.y),this.pathOffset={x:d.left+this.width/2+g/2,y:d.top+this.height/2+g/2}},_calcDimensions:function(){var o=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,d=c(o,"x")||0,l=c(o,"y")||0,g=n(o,"x")||0,m=n(o,"y")||0,b=g-d,_=m-l;return{left:d,top:l,width:b,height:_}},toObject:function(o){return u(this.callSuper("toObject",o),{points:this.points.concat()})},_toSVG:function(){for(var o=[],d=this.pathOffset.x,l=this.pathOffset.y,g=r.Object.NUM_FRACTION_DIGITS,m=0,b=this.points.length;m<b;m++)o.push(s(this.points[m].x-d,g),",",s(this.points[m].y-l,g)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',o.join(""),`" />
`]},commonRender:function(o){var d,l=this.points.length,g=this.pathOffset.x,m=this.pathOffset.y;if(!l||isNaN(this.points[l-1].y))return!1;o.beginPath(),o.moveTo(this.points[0].x-g,this.points[0].y-m);for(var b=0;b<l;b++)d=this.points[b],o.lineTo(d.x-g,d.y-m);return!0},_render:function(o){this.commonRender(o)&&this._renderPaintInOrder(o)},complexity:function(){return this.get("points").length}}),r.Polyline.ATTRIBUTE_NAMES=r.SHARED_ATTRIBUTES.concat(),r.Polyline.fromElementGenerator=function(o){return function(d,l,g){if(!d)return l(null);g||(g={});var m=r.parsePointsAttribute(d.getAttribute("points")),b=r.parseAttributes(d,r[o].ATTRIBUTE_NAMES);b.fromSVG=!0,l(new r[o](m,u(b,g)))}},r.Polyline.fromElement=r.Polyline.fromElementGenerator("Polyline"),r.Polyline.fromObject=function(o,d){return r.Object._fromObject("Polyline",o,d,"points")}}(e),function(f){var r=f.fabric||(f.fabric={}),u=r.util.projectStrokeOnPoints;if(r.Polygon){r.warn("fabric.Polygon is already defined");return}r.Polygon=r.util.createClass(r.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return u(this.points,this)},_render:function(c){this.commonRender(c)&&(c.closePath(),this._renderPaintInOrder(c))}}),r.Polygon.ATTRIBUTE_NAMES=r.SHARED_ATTRIBUTES.concat(),r.Polygon.fromElement=r.Polyline.fromElementGenerator("Polygon"),r.Polygon.fromObject=function(c,n){r.Object._fromObject("Polygon",c,n,"points")}}(e),function(f){var r=f.fabric||(f.fabric={}),u=r.util.array.min,c=r.util.array.max,n=r.util.object.extend,s=r.util.object.clone,i=r.util.toFixed;if(r.Path){r.warn("fabric.Path is already defined");return}r.Path=r.util.createClass(r.Object,{type:"path",path:null,cacheProperties:r.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:r.Object.prototype.stateProperties.concat("path"),initialize:function(o,d){d=s(d||{}),delete d.path,this.callSuper("initialize",d),this._setPath(o||[],d)},_setPath:function(o,d){this.path=r.util.makePathSimpler(Array.isArray(o)?o:r.util.parsePath(o)),r.Polyline.prototype._setPositionDimensions.call(this,d||{})},_renderPathCommands:function(o){var d,l=0,g=0,m=0,b=0,_=0,C=0,S=-this.pathOffset.x,w=-this.pathOffset.y;o.beginPath();for(var P=0,M=this.path.length;P<M;++P)switch(d=this.path[P],d[0]){case"L":m=d[1],b=d[2],o.lineTo(m+S,b+w);break;case"M":m=d[1],b=d[2],l=m,g=b,o.moveTo(m+S,b+w);break;case"C":m=d[5],b=d[6],_=d[3],C=d[4],o.bezierCurveTo(d[1]+S,d[2]+w,_+S,C+w,m+S,b+w);break;case"Q":o.quadraticCurveTo(d[1]+S,d[2]+w,d[3]+S,d[4]+w),m=d[3],b=d[4],_=d[1],C=d[2];break;case"z":case"Z":m=l,b=g,o.closePath();break}},_render:function(o){this._renderPathCommands(o),this._renderPaintInOrder(o)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(o){return n(this.callSuper("toObject",o),{path:this.path.map(function(d){return d.slice()})})},toDatalessObject:function(o){var d=this.toObject(["sourcePath"].concat(o));return d.sourcePath&&delete d.path,d},_toSVG:function(){var o=r.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',o,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var o=r.Object.NUM_FRACTION_DIGITS;return" translate("+i(-this.pathOffset.x,o)+", "+i(-this.pathOffset.y,o)+")"},toClipPathSVG:function(o){var d=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:o,additionalTransform:d})},toSVG:function(o){var d=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:o,additionalTransform:d})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var o=[],d=[],l,g=0,m=0,b=0,_=0,C,S=0,w=this.path.length;S<w;++S){switch(l=this.path[S],l[0]){case"L":b=l[1],_=l[2],C=[];break;case"M":b=l[1],_=l[2],g=b,m=_,C=[];break;case"C":C=r.util.getBoundsOfCurve(b,_,l[1],l[2],l[3],l[4],l[5],l[6]),b=l[5],_=l[6];break;case"Q":C=r.util.getBoundsOfCurve(b,_,l[1],l[2],l[1],l[2],l[3],l[4]),b=l[3],_=l[4];break;case"z":case"Z":b=g,_=m;break}C.forEach(function(ee){o.push(ee.x),d.push(ee.y)}),o.push(b),d.push(_)}var P=u(o)||0,M=u(d)||0,N=c(o)||0,X=c(d)||0,j=N-P,K=X-M;return{left:P,top:M,width:j,height:K}}}),r.Path.fromObject=function(o,d){if(typeof o.sourcePath=="string"){var l=o.sourcePath;r.loadSVGFromURL(l,function(g){var m=g[0];m.setOptions(o),o.clipPath?r.util.enlivenObjects([o.clipPath],function(b){m.clipPath=b[0],d&&d(m)}):d&&d(m)})}else r.Object._fromObject("Path",o,d,"path")},r.Path.ATTRIBUTE_NAMES=r.SHARED_ATTRIBUTES.concat(["d"]),r.Path.fromElement=function(o,d,l){var g=r.parseAttributes(o,r.Path.ATTRIBUTE_NAMES);g.fromSVG=!0,d(new r.Path(g.d,n(g,l)))}}(e),function(f){var r=f.fabric||(f.fabric={}),u=r.util.array.min,c=r.util.array.max;r.Group||(r.Group=r.util.createClass(r.Object,r.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(n,s,i){s=s||{},this._objects=[],i&&this.callSuper("initialize",s),this._objects=n||[];for(var o=this._objects.length;o--;)this._objects[o].group=this;if(i)this._updateObjectsACoords();else{var d=s&&s.centerPoint;s.originX!==void 0&&(this.originX=s.originX),s.originY!==void 0&&(this.originY=s.originY),d||this._calcBounds(),this._updateObjectsCoords(d),delete s.centerPoint,this.callSuper("initialize",s)}this.setCoords()},_updateObjectsACoords:function(){for(var n=!0,s=this._objects.length;s--;)this._objects[s].setCoords(n)},_updateObjectsCoords:function(s){for(var s=s||this.getCenterPoint(),i=this._objects.length;i--;)this._updateObjectCoords(this._objects[i],s)},_updateObjectCoords:function(n,s){var i=n.left,o=n.top,d=!0;n.set({left:i-s.x,top:o-s.y}),n.group=this,n.setCoords(d)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(n){var s=!!this.group;return this._restoreObjectsState(),r.util.resetObjectTransform(this),n&&(s&&r.util.removeTransformFromObject(n,this.group.calcTransformMatrix()),this._objects.push(n),n.group=this,n._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,s?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(n){return this._restoreObjectsState(),r.util.resetObjectTransform(this),this.remove(n),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(n){this.dirty=!0,n.group=this,n._set("canvas",this.canvas)},_onObjectRemoved:function(n){this.dirty=!0,delete n.group},_set:function(n,s){var i=this._objects.length;if(this.useSetOnGroup)for(;i--;)this._objects[i].setOnGroup(n,s);if(n==="canvas")for(;i--;)this._objects[i]._set(n,s);r.Object.prototype._set.call(this,n,s)},toObject:function(n){var s=this.includeDefaultValues,i=this._objects.filter(function(d){return!d.excludeFromExport}).map(function(d){var l=d.includeDefaultValues;d.includeDefaultValues=s;var g=d.toObject(n);return d.includeDefaultValues=l,g}),o=r.Object.prototype.toObject.call(this,n);return o.objects=i,o},toDatalessObject:function(n){var s,i=this.sourcePath;if(i)s=i;else{var o=this.includeDefaultValues;s=this._objects.map(function(l){var g=l.includeDefaultValues;l.includeDefaultValues=o;var m=l.toDatalessObject(n);return l.includeDefaultValues=g,m})}var d=r.Object.prototype.toDatalessObject.call(this,n);return d.objects=s,d},render:function(n){this._transformDone=!0,this.callSuper("render",n),this._transformDone=!1},shouldCache:function(){var n=r.Object.prototype.shouldCache.call(this);if(n){for(var s=0,i=this._objects.length;s<i;s++)if(this._objects[s].willDrawShadow())return this.ownCaching=!1,!1}return n},willDrawShadow:function(){if(r.Object.prototype.willDrawShadow.call(this))return!0;for(var n=0,s=this._objects.length;n<s;n++)if(this._objects[n].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(n){for(var s=0,i=this._objects.length;s<i;s++)this._objects[s].render(n);this._drawClipPath(n,this.clipPath)},isCacheDirty:function(n){if(this.callSuper("isCacheDirty",n))return!0;if(!this.statefullCache)return!1;for(var s=0,i=this._objects.length;s<i;s++)if(this._objects[s].isCacheDirty(!0)){if(this._cacheCanvas){var o=this.cacheWidth/this.zoomX,d=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-o/2,-d/2,o,d)}return!0}return!1},_restoreObjectsState:function(){var n=this.calcOwnMatrix();return this._objects.forEach(function(s){r.util.addTransformToObject(s,n),delete s.group,s.setCoords()}),this},destroy:function(){return this._objects.forEach(function(n){n.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(n){n.dispose&&n.dispose()}),this._objects=[]},toActiveSelection:function(){if(this.canvas){var n=this._objects,s=this.canvas;this._objects=[];var i=this.toObject();delete i.objects;var o=new r.ActiveSelection([]);return o.set(i),o.type="activeSelection",s.remove(this),n.forEach(function(d){d.group=o,d.dirty=!0,s.add(d)}),o.canvas=s,o._objects=n,s._activeObject=o,o.setCoords(),o}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var n=!0;return this.forEachObject(function(s){s.setCoords(n)}),this},_calcBounds:function(n){for(var s=[],i=[],o,d,l,g=["tr","br","bl","tl"],m=0,b=this._objects.length,_,C=g.length;m<b;++m){for(o=this._objects[m],l=o.calcACoords(),_=0;_<C;_++)d=g[_],s.push(l[d].x),i.push(l[d].y);o.aCoords=l}this._getBounds(s,i,n)},_getBounds:function(n,s,i){var o=new r.Point(u(n),u(s)),d=new r.Point(c(n),c(s)),l=o.y||0,g=o.x||0,m=d.x-o.x||0,b=d.y-o.y||0;this.width=m,this.height=b,i||this.setPositionByOrigin({x:g,y:l},"left","top")},_toSVG:function(n){for(var s=["<g ","COMMON_PARTS",` >
`],i=0,o=this._objects.length;i<o;i++)s.push("		",this._objects[i].toSVG(n));return s.push(`</g>
`),s},getSvgStyles:function(){var n=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",s=this.visible?"":" visibility: hidden;";return[n,this.getSvgFilter(),s].join("")},toClipPathSVG:function(n){for(var s=[],i=0,o=this._objects.length;i<o;i++)s.push("	",this._objects[i].toClipPathSVG(n));return this._createBaseClipPathSVGMarkup(s,{reviver:n})}}),r.Group.fromObject=function(n,s){var i=n.objects,o=r.util.object.clone(n,!0);if(delete o.objects,typeof i=="string"){r.loadSVGFromURL(i,function(d){var l=r.util.groupSVGElements(d,n,i),g=o.clipPath;delete o.clipPath,l.set(o),g?r.util.enlivenObjects([g],function(m){l.clipPath=m[0],s&&s(l)}):s&&s(l)});return}r.util.enlivenObjects(i,function(d){r.util.enlivenObjectEnlivables(n,o,function(){s&&s(new r.Group(d,o,!0))})})})}(e),function(f){var r=f.fabric||(f.fabric={});r.ActiveSelection||(r.ActiveSelection=r.util.createClass(r.Group,{type:"activeSelection",initialize:function(u,c){c=c||{},this._objects=u||[];for(var n=this._objects.length;n--;)this._objects[n].group=this;c.originX&&(this.originX=c.originX),c.originY&&(this.originY=c.originY),this._calcBounds(),this._updateObjectsCoords(),r.Object.prototype.initialize.call(this,c),this.setCoords()},toGroup:function(){var u=this._objects.concat();this._objects=[];var c=r.Object.prototype.toObject.call(this),n=new r.Group([]);if(delete c.type,n.set(c),u.forEach(function(i){i.canvas.remove(i),i.group=n}),n._objects=u,!this.canvas)return n;var s=this.canvas;return s.add(n),s._activeObject=n,n.setCoords(),n},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(u,c,n){u.save(),u.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,n=n||{},typeof n.hasControls>"u"&&(n.hasControls=!1),n.forActiveSelection=!0;for(var s=0,i=this._objects.length;s<i;s++)this._objects[s]._renderControls(u,n);this.callSuper("_renderControls",u,c),u.restore()}}),r.ActiveSelection.fromObject=function(u,c){r.util.enlivenObjects(u.objects,function(n){delete u.objects,c&&c(new r.ActiveSelection(n,u,!0))})})}(e),function(f){var r=t.util.object.extend;if(f.fabric||(f.fabric={}),f.fabric.Image){t.warn("fabric.Image is already defined.");return}t.Image=t.util.createClass(t.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:t.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:t.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(u,c){c||(c={}),this.filters=[],this.cacheKey="texture"+t.Object.__uid++,this.callSuper("initialize",c),this._initElement(u,c)},getElement:function(){return this._element||{}},setElement:function(u,c){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=u,this._originalElement=u,this._initConfig(c),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(u){var c=t.filterBackend;c&&c.evictCachesForKey&&c.evictCachesForKey(u)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((function(u){t.util.cleanUpJsdomNode(this[u]),this[u]=void 0}).bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var u=this.getElement();return{width:u.naturalWidth||u.width,height:u.naturalHeight||u.height}},_stroke:function(u){if(!(!this.stroke||this.strokeWidth===0)){var c=this.width/2,n=this.height/2;u.beginPath(),u.moveTo(-c,-n),u.lineTo(c,-n),u.lineTo(c,n),u.lineTo(-c,n),u.lineTo(-c,-n),u.closePath()}},toObject:function(u){var c=[];this.filters.forEach(function(s){s&&c.push(s.toObject())});var n=r(this.callSuper("toObject",["cropX","cropY"].concat(u)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:c});return this.resizeFilter&&(n.resizeFilter=this.resizeFilter.toObject()),n},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var u=[],c=[],n,s=this._element,i=-this.width/2,o=-this.height/2,d="",l="";if(!s)return[];if(this.hasCrop()){var g=t.Object.__uid++;u.push('<clipPath id="imageCrop_'+g+`">
`,'	<rect x="'+i+'" y="'+o+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),d=' clip-path="url(#imageCrop_'+g+')" '}if(this.imageSmoothing||(l='" image-rendering="optimizeSpeed'),c.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',i-this.cropX,'" y="',o-this.cropY,'" width="',s.width||s.naturalWidth,'" height="',s.height||s.height,l,'"',d,`></image>
`),this.stroke||this.strokeDashArray){var m=this.fill;this.fill=null,n=["	<rect ",'x="',i,'" y="',o,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=m}return this.paintFirst!=="fill"?u=u.concat(n,c):u=u.concat(c,n),u},getSrc:function(u){var c=u?this._element:this._originalElement;return c?c.toDataURL?c.toDataURL():this.srcFromAttribute?c.getAttribute("src"):c.src:this.src||""},setSrc:function(u,c,n){return t.util.loadImage(u,function(s,i){this.setElement(s,n),this._setWidthHeight(),c&&c(this,i)},this,n&&n.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var u=this.resizeFilter,c=this.minimumScaleTrigger,n=this.getTotalObjectScaling(),s=n.scaleX,i=n.scaleY,o=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!u||s>c&&i>c){this._element=o,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=s,this._lastScaleY=i;return}t.filterBackend||(t.filterBackend=t.initFilterBackend());var d=t.util.createCanvasElement(),l=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,g=o.width,m=o.height;d.width=g,d.height=m,this._element=d,this._lastScaleX=u.scaleX=s,this._lastScaleY=u.scaleY=i,t.filterBackend.applyFilters([u],o,g,m,this._element,l),this._filterScalingX=d.width/this._originalElement.width,this._filterScalingY=d.height/this._originalElement.height},applyFilters:function(u){if(u=u||this.filters||[],u=u.filter(function(o){return o&&!o.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),u.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var c=this._originalElement,n=c.naturalWidth||c.width,s=c.naturalHeight||c.height;if(this._element===this._originalElement){var i=t.util.createCanvasElement();i.width=n,i.height=s,this._element=i,this._filteredEl=i}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,n,s),this._lastScaleX=1,this._lastScaleY=1;return t.filterBackend||(t.filterBackend=t.initFilterBackend()),t.filterBackend.applyFilters(u,this._originalElement,n,s,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(u){t.util.setImageSmoothing(u,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(u),this._renderPaintInOrder(u)},drawCacheOnCanvas:function(u){t.util.setImageSmoothing(u,this.imageSmoothing),t.Object.prototype.drawCacheOnCanvas.call(this,u)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(u){var c=this._element;if(c){var n=this._filterScalingX,s=this._filterScalingY,i=this.width,o=this.height,d=Math.min,l=Math.max,g=l(this.cropX,0),m=l(this.cropY,0),b=c.naturalWidth||c.width,_=c.naturalHeight||c.height,C=g*n,S=m*s,w=d(i*n,b-C),P=d(o*s,_-S),M=-i/2,N=-o/2,X=d(i,b/n-g),j=d(o,_/s-m);c&&u.drawImage(c,C,S,w,P,M,N,X,j)}},_needsResize:function(){var u=this.getTotalObjectScaling();return u.scaleX!==this._lastScaleX||u.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(u,c){this.setElement(t.util.getById(u),c),t.util.addClass(this.getElement(),t.Image.CSS_CANVAS)},_initConfig:function(u){u||(u={}),this.setOptions(u),this._setWidthHeight(u)},_initFilters:function(u,c){u&&u.length?t.util.enlivenObjects(u,function(n){c&&c(n)},"fabric.Image.filters"):c&&c()},_setWidthHeight:function(u){u||(u={});var c=this.getElement();this.width=u.width||c.naturalWidth||c.width||0,this.height=u.height||c.naturalHeight||c.height||0},parsePreserveAspectRatioAttribute:function(){var u=t.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),c=this._element.width,n=this._element.height,s=1,i=1,o=0,d=0,l=0,g=0,m,b=this.width,_=this.height,C={width:b,height:_};return u&&(u.alignX!=="none"||u.alignY!=="none")?(u.meetOrSlice==="meet"&&(s=i=t.util.findScaleToFit(this._element,C),m=(b-c*s)/2,u.alignX==="Min"&&(o=-m),u.alignX==="Max"&&(o=m),m=(_-n*i)/2,u.alignY==="Min"&&(d=-m),u.alignY==="Max"&&(d=m)),u.meetOrSlice==="slice"&&(s=i=t.util.findScaleToCover(this._element,C),m=c-b/s,u.alignX==="Mid"&&(l=m/2),u.alignX==="Max"&&(l=m),m=n-_/i,u.alignY==="Mid"&&(g=m/2),u.alignY==="Max"&&(g=m),c=b/s,n=_/i)):(s=b/c,i=_/n),{width:c,height:n,scaleX:s,scaleY:i,offsetLeft:o,offsetTop:d,cropX:l,cropY:g}}}),t.Image.CSS_CANVAS="canvas-img",t.Image.prototype.getSvgSrc=t.Image.prototype.getSrc,t.Image.fromObject=function(u,c){var n=t.util.object.clone(u);t.util.loadImage(n.src,function(s,i){if(i){c&&c(null,!0);return}t.Image.prototype._initFilters.call(n,n.filters,function(o){n.filters=o||[],t.Image.prototype._initFilters.call(n,[n.resizeFilter],function(d){n.resizeFilter=d[0],t.util.enlivenObjectEnlivables(n,n,function(){var l=new t.Image(s,n);c(l,!1)})})})},null,n.crossOrigin)},t.Image.fromURL=function(u,c,n){t.util.loadImage(u,function(s,i){c&&c(new t.Image(s,n),i)},null,n&&n.crossOrigin)},t.Image.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),t.Image.fromElement=function(u,c,n){var s=t.parseAttributes(u,t.Image.ATTRIBUTE_NAMES);t.Image.fromURL(s["xlink:href"],c,r(n?t.util.object.clone(n):{},s))}}(e),t.util.object.extend(t.Object.prototype,{_getAngleValueForStraighten:function(){var f=this.angle%360;return f>0?Math.round((f-1)/90)*90:Math.round(f/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(f){f=f||{};var r=function(){},u=f.onComplete||r,c=f.onChange||r,n=this;return t.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(s){n.rotate(s),c()},onComplete:function(){n.setCoords(),u()}})}}),t.util.object.extend(t.StaticCanvas.prototype,{straightenObject:function(f){return f.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(f){return f.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function f(u,c){var n="precision "+c+` float;
void main(){}`,s=u.createShader(u.FRAGMENT_SHADER);return u.shaderSource(s,n),u.compileShader(s),!!u.getShaderParameter(s,u.COMPILE_STATUS)}t.isWebglSupported=function(u){if(t.isLikelyNode)return!1;u=u||t.WebglFilterBackend.prototype.tileSize;var c=document.createElement("canvas"),n=c.getContext("webgl")||c.getContext("experimental-webgl"),s=!1;if(n){t.maxTextureSize=n.getParameter(n.MAX_TEXTURE_SIZE),s=t.maxTextureSize>=u;for(var i=["highp","mediump","lowp"],o=0;o<3;o++)if(f(n,i[o])){t.webGlPrecision=i[o];break}}return this.isSupported=s,s},t.WebglFilterBackend=r;function r(u){u&&u.tileSize&&(this.tileSize=u.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}r.prototype={tileSize:2048,resources:{},setupGLContext:function(u,c){this.dispose(),this.createWebGLCanvas(u,c),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(u,c)},chooseFastestCopyGLTo2DMethod:function(u,c){var n=typeof window.performance<"u",s;try{new ImageData(1,1),s=!0}catch{s=!1}var i=typeof ArrayBuffer<"u",o=typeof Uint8ClampedArray<"u";if(n&&s&&i&&o){var d=t.util.createCanvasElement(),l=new ArrayBuffer(u*c*4);if(t.forceGLPutImageData){this.imageBuffer=l,this.copyGLTo2D=y;return}var g={imageBuffer:l,destinationWidth:u,destinationHeight:c,targetCanvas:d},m,b,_;d.width=u,d.height=c,m=window.performance.now(),p.call(g,this.gl,g),b=window.performance.now()-m,m=window.performance.now(),y.call(g,this.gl,g),_=window.performance.now()-m,b>_?(this.imageBuffer=l,this.copyGLTo2D=y):this.copyGLTo2D=p}},createWebGLCanvas:function(u,c){var n=t.util.createCanvasElement();n.width=u,n.height=c;var s={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},i=n.getContext("webgl",s);i||(i=n.getContext("experimental-webgl",s)),i&&(i.clearColor(0,0,0,0),this.canvas=n,this.gl=i)},applyFilters:function(u,c,n,s,i,o){var d=this.gl,l;o&&(l=this.getCachedTexture(o,c));var g={originalWidth:c.width||c.originalWidth,originalHeight:c.height||c.originalHeight,sourceWidth:n,sourceHeight:s,destinationWidth:n,destinationHeight:s,context:d,sourceTexture:this.createTexture(d,n,s,!l&&c),targetTexture:this.createTexture(d,n,s),originalTexture:l||this.createTexture(d,n,s,!l&&c),passes:u.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:i},m=d.createFramebuffer();return d.bindFramebuffer(d.FRAMEBUFFER,m),u.forEach(function(b){b&&b.applyTo(g)}),v(g),this.copyGLTo2D(d,g),d.bindTexture(d.TEXTURE_2D,null),d.deleteTexture(g.sourceTexture),d.deleteTexture(g.targetTexture),d.deleteFramebuffer(m),i.getContext("2d").setTransform(1,0,0,1,0,0),g},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(u,c,n,s,i){var o=u.createTexture();return u.bindTexture(u.TEXTURE_2D,o),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,i||u.NEAREST),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,i||u.NEAREST),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.CLAMP_TO_EDGE),s?u.texImage2D(u.TEXTURE_2D,0,u.RGBA,u.RGBA,u.UNSIGNED_BYTE,s):u.texImage2D(u.TEXTURE_2D,0,u.RGBA,c,n,0,u.RGBA,u.UNSIGNED_BYTE,null),o},getCachedTexture:function(u,c){if(this.textureCache[u])return this.textureCache[u];var n=this.createTexture(this.gl,c.width,c.height,c);return this.textureCache[u]=n,n},evictCachesForKey:function(u){this.textureCache[u]&&(this.gl.deleteTexture(this.textureCache[u]),delete this.textureCache[u])},copyGLTo2D:p,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var u=this.gl,c={renderer:"",vendor:""};if(!u)return c;var n=u.getExtension("WEBGL_debug_renderer_info");if(n){var s=u.getParameter(n.UNMASKED_RENDERER_WEBGL),i=u.getParameter(n.UNMASKED_VENDOR_WEBGL);s&&(c.renderer=s.toLowerCase()),i&&(c.vendor=i.toLowerCase())}return this.gpuInfo=c,c}}}();function v(f){var r=f.targetCanvas,u=r.width,c=r.height,n=f.destinationWidth,s=f.destinationHeight;(u!==n||c!==s)&&(r.width=n,r.height=s)}function p(f,r){var u=f.canvas,c=r.targetCanvas,n=c.getContext("2d");n.translate(0,c.height),n.scale(1,-1);var s=u.height-c.height;n.drawImage(u,0,s,c.width,c.height,0,0,c.width,c.height)}function y(f,r){var u=r.targetCanvas,c=u.getContext("2d"),n=r.destinationWidth,s=r.destinationHeight,i=n*s*4,o=new Uint8Array(this.imageBuffer,0,i),d=new Uint8ClampedArray(this.imageBuffer,0,i);f.readPixels(0,0,n,s,f.RGBA,f.UNSIGNED_BYTE,o);var l=new ImageData(d,n,s);c.putImageData(l,0,0)}(function(){var f=function(){};t.Canvas2dFilterBackend=r;function r(){}r.prototype={evictCachesForKey:f,dispose:f,clearWebGLCaches:f,resources:{},applyFilters:function(u,c,n,s,i){var o=i.getContext("2d");o.drawImage(c,0,0,n,s);var d=o.getImageData(0,0,n,s),l=o.getImageData(0,0,n,s),g={sourceWidth:n,sourceHeight:s,imageData:d,originalEl:c,originalImageData:l,canvasEl:i,ctx:o,filterBackend:this};return u.forEach(function(m){m.applyTo(g)}),(g.imageData.width!==n||g.imageData.height!==s)&&(i.width=g.imageData.width,i.height=g.imageData.height),o.putImageData(g.imageData,0,0),g}}})(),t.Image=t.Image||{},t.Image.filters=t.Image.filters||{},t.Image.filters.BaseFilter=t.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(f){f&&this.setOptions(f)},setOptions:function(f){for(var r in f)this[r]=f[r]},createProgram:function(f,r,u){r=r||this.fragmentSource,u=u||this.vertexSource,t.webGlPrecision!=="highp"&&(r=r.replace(/precision highp float/g,"precision "+t.webGlPrecision+" float"));var c=f.createShader(f.VERTEX_SHADER);if(f.shaderSource(c,u),f.compileShader(c),!f.getShaderParameter(c,f.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+f.getShaderInfoLog(c));var n=f.createShader(f.FRAGMENT_SHADER);if(f.shaderSource(n,r),f.compileShader(n),!f.getShaderParameter(n,f.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+f.getShaderInfoLog(n));var s=f.createProgram();if(f.attachShader(s,c),f.attachShader(s,n),f.linkProgram(s),!f.getProgramParameter(s,f.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+f.getProgramInfoLog(s));var i=this.getAttributeLocations(f,s),o=this.getUniformLocations(f,s)||{};return o.uStepW=f.getUniformLocation(s,"uStepW"),o.uStepH=f.getUniformLocation(s,"uStepH"),{program:s,attributeLocations:i,uniformLocations:o}},getAttributeLocations:function(f,r){return{aPosition:f.getAttribLocation(r,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(f,r,u){var c=r.aPosition,n=f.createBuffer();f.bindBuffer(f.ARRAY_BUFFER,n),f.enableVertexAttribArray(c),f.vertexAttribPointer(c,2,f.FLOAT,!1,0,0),f.bufferData(f.ARRAY_BUFFER,u,f.STATIC_DRAW)},_setupFrameBuffer:function(f){var r=f.context,u,c;f.passes>1?(u=f.destinationWidth,c=f.destinationHeight,(f.sourceWidth!==u||f.sourceHeight!==c)&&(r.deleteTexture(f.targetTexture),f.targetTexture=f.filterBackend.createTexture(r,u,c)),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,f.targetTexture,0)):(r.bindFramebuffer(r.FRAMEBUFFER,null),r.finish())},_swapTextures:function(f){f.passes--,f.pass++;var r=f.targetTexture;f.targetTexture=f.sourceTexture,f.sourceTexture=r},isNeutralState:function(){var f=this.mainParameter,r=t.Image.filters[this.type].prototype;if(f)if(Array.isArray(r[f])){for(var u=r[f].length;u--;)if(this[f][u]!==r[f][u])return!1;return!0}else return r[f]===this[f];else return!1},applyTo:function(f){f.webgl?(this._setupFrameBuffer(f),this.applyToWebGL(f),this._swapTextures(f)):this.applyTo2d(f)},retrieveShader:function(f){return f.programCache.hasOwnProperty(this.type)||(f.programCache[this.type]=this.createProgram(f.context)),f.programCache[this.type]},applyToWebGL:function(f){var r=f.context,u=this.retrieveShader(f);f.pass===0&&f.originalTexture?r.bindTexture(r.TEXTURE_2D,f.originalTexture):r.bindTexture(r.TEXTURE_2D,f.sourceTexture),r.useProgram(u.program),this.sendAttributeData(r,u.attributeLocations,f.aPosition),r.uniform1f(u.uniformLocations.uStepW,1/f.sourceWidth),r.uniform1f(u.uniformLocations.uStepH,1/f.sourceHeight),this.sendUniformData(r,u.uniformLocations),r.viewport(0,0,f.destinationWidth,f.destinationHeight),r.drawArrays(r.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(f,r,u){f.activeTexture(u),f.bindTexture(f.TEXTURE_2D,r),f.activeTexture(f.TEXTURE0)},unbindAdditionalTexture:function(f,r){f.activeTexture(r),f.bindTexture(f.TEXTURE_2D,null),f.activeTexture(f.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(f){this[this.mainParameter]=f},sendUniformData:function(){},createHelpLayer:function(f){if(!f.helpLayer){var r=document.createElement("canvas");r.width=f.sourceWidth,r.height=f.sourceHeight,f.helpLayer=r}},toObject:function(){var f={type:this.type},r=this.mainParameter;return r&&(f[r]=this[r]),f},toJSON:function(){return this.toObject()}}),t.Image.filters.BaseFilter.fromObject=function(f,r){var u=new t.Image.filters[f.type](f);return r&&r(u),u},function(f){var r=f.fabric||(f.fabric={}),u=r.Image.filters,c=r.util.createClass;u.ColorMatrix=c(u.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(n){this.callSuper("initialize",n),this.matrix=this.matrix.slice(0)},applyTo2d:function(n){var s=n.imageData,i=s.data,o=i.length,d=this.matrix,l,g,m,b,_,C=this.colorsOnly;for(_=0;_<o;_+=4)l=i[_],g=i[_+1],m=i[_+2],C?(i[_]=l*d[0]+g*d[1]+m*d[2]+d[4]*255,i[_+1]=l*d[5]+g*d[6]+m*d[7]+d[9]*255,i[_+2]=l*d[10]+g*d[11]+m*d[12]+d[14]*255):(b=i[_+3],i[_]=l*d[0]+g*d[1]+m*d[2]+b*d[3]+d[4]*255,i[_+1]=l*d[5]+g*d[6]+m*d[7]+b*d[8]+d[9]*255,i[_+2]=l*d[10]+g*d[11]+m*d[12]+b*d[13]+d[14]*255,i[_+3]=l*d[15]+g*d[16]+m*d[17]+b*d[18]+d[19]*255)},getUniformLocations:function(n,s){return{uColorMatrix:n.getUniformLocation(s,"uColorMatrix"),uConstants:n.getUniformLocation(s,"uConstants")}},sendUniformData:function(n,s){var i=this.matrix,o=[i[0],i[1],i[2],i[3],i[5],i[6],i[7],i[8],i[10],i[11],i[12],i[13],i[15],i[16],i[17],i[18]],d=[i[4],i[9],i[14],i[19]];n.uniformMatrix4fv(s.uColorMatrix,!1,o),n.uniform4fv(s.uConstants,d)}}),r.Image.filters.ColorMatrix.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(f){var r=f.fabric||(f.fabric={}),u=r.Image.filters,c=r.util.createClass;u.Brightness=c(u.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(n){if(this.brightness!==0){var s=n.imageData,i=s.data,o,d=i.length,l=Math.round(this.brightness*255);for(o=0;o<d;o+=4)i[o]=i[o]+l,i[o+1]=i[o+1]+l,i[o+2]=i[o+2]+l}},getUniformLocations:function(n,s){return{uBrightness:n.getUniformLocation(s,"uBrightness")}},sendUniformData:function(n,s){n.uniform1f(s.uBrightness,this.brightness)}}),r.Image.filters.Brightness.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(f){var r=f.fabric||(f.fabric={}),u=r.util.object.extend,c=r.Image.filters,n=r.util.createClass;c.Convolute=n(c.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(s){var i=Math.sqrt(this.matrix.length),o=this.type+"_"+i+"_"+(this.opaque?1:0),d=this.fragmentSource[o];return s.programCache.hasOwnProperty(o)||(s.programCache[o]=this.createProgram(s.context,d)),s.programCache[o]},applyTo2d:function(s){var i=s.imageData,o=i.data,d=this.matrix,l=Math.round(Math.sqrt(d.length)),g=Math.floor(l/2),m=i.width,b=i.height,_=s.ctx.createImageData(m,b),C=_.data,S=this.opaque?1:0,w,P,M,N,X,j,K,ee,ne,ae,se,oe,T;for(se=0;se<b;se++)for(ae=0;ae<m;ae++){for(X=(se*m+ae)*4,w=0,P=0,M=0,N=0,T=0;T<l;T++)for(oe=0;oe<l;oe++)K=se+T-g,j=ae+oe-g,!(K<0||K>=b||j<0||j>=m)&&(ee=(K*m+j)*4,ne=d[T*l+oe],w+=o[ee]*ne,P+=o[ee+1]*ne,M+=o[ee+2]*ne,S||(N+=o[ee+3]*ne));C[X]=w,C[X+1]=P,C[X+2]=M,S?C[X+3]=o[X+3]:C[X+3]=N}s.imageData=_},getUniformLocations:function(s,i){return{uMatrix:s.getUniformLocation(i,"uMatrix"),uOpaque:s.getUniformLocation(i,"uOpaque"),uHalfSize:s.getUniformLocation(i,"uHalfSize"),uSize:s.getUniformLocation(i,"uSize")}},sendUniformData:function(s,i){s.uniform1fv(i.uMatrix,this.matrix)},toObject:function(){return u(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),r.Image.filters.Convolute.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(f){var r=f.fabric||(f.fabric={}),u=r.Image.filters,c=r.util.createClass;u.Grayscale=c(u.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(n){var s=n.imageData,i=s.data,o,d=i.length,l,g=this.mode;for(o=0;o<d;o+=4)g==="average"?l=(i[o]+i[o+1]+i[o+2])/3:g==="lightness"?l=(Math.min(i[o],i[o+1],i[o+2])+Math.max(i[o],i[o+1],i[o+2]))/2:g==="luminosity"&&(l=.21*i[o]+.72*i[o+1]+.07*i[o+2]),i[o]=l,i[o+1]=l,i[o+2]=l},retrieveShader:function(n){var s=this.type+"_"+this.mode;if(!n.programCache.hasOwnProperty(s)){var i=this.fragmentSource[this.mode];n.programCache[s]=this.createProgram(n.context,i)}return n.programCache[s]},getUniformLocations:function(n,s){return{uMode:n.getUniformLocation(s,"uMode")}},sendUniformData:function(n,s){var i=1;n.uniform1i(s.uMode,i)},isNeutralState:function(){return!1}}),r.Image.filters.Grayscale.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(f){var r=f.fabric||(f.fabric={}),u=r.Image.filters,c=r.util.createClass;u.Invert=c(u.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(n){var s=n.imageData,i=s.data,o,d=i.length;for(o=0;o<d;o+=4)i[o]=255-i[o],i[o+1]=255-i[o+1],i[o+2]=255-i[o+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(n,s){return{uInvert:n.getUniformLocation(s,"uInvert")}},sendUniformData:function(n,s){n.uniform1i(s.uInvert,this.invert)}}),r.Image.filters.Invert.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(f){var r=f.fabric||(f.fabric={}),u=r.util.object.extend,c=r.Image.filters,n=r.util.createClass;c.Noise=n(c.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(s){if(this.noise!==0){var i=s.imageData,o=i.data,d,l=o.length,g=this.noise,m;for(d=0,l=o.length;d<l;d+=4)m=(.5-Math.random())*g,o[d]+=m,o[d+1]+=m,o[d+2]+=m}},getUniformLocations:function(s,i){return{uNoise:s.getUniformLocation(i,"uNoise"),uSeed:s.getUniformLocation(i,"uSeed")}},sendUniformData:function(s,i){s.uniform1f(i.uNoise,this.noise/255),s.uniform1f(i.uSeed,Math.random())},toObject:function(){return u(this.callSuper("toObject"),{noise:this.noise})}}),r.Image.filters.Noise.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(f){var r=f.fabric||(f.fabric={}),u=r.Image.filters,c=r.util.createClass;u.Pixelate=c(u.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(n){var s=n.imageData,i=s.data,o=s.height,d=s.width,l,g,m,b,_,C,S,w,P,M,N;for(g=0;g<o;g+=this.blocksize)for(m=0;m<d;m+=this.blocksize)for(l=g*4*d+m*4,b=i[l],_=i[l+1],C=i[l+2],S=i[l+3],M=Math.min(g+this.blocksize,o),N=Math.min(m+this.blocksize,d),w=g;w<M;w++)for(P=m;P<N;P++)l=w*4*d+P*4,i[l]=b,i[l+1]=_,i[l+2]=C,i[l+3]=S},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(n,s){return{uBlocksize:n.getUniformLocation(s,"uBlocksize"),uStepW:n.getUniformLocation(s,"uStepW"),uStepH:n.getUniformLocation(s,"uStepH")}},sendUniformData:function(n,s){n.uniform1f(s.uBlocksize,this.blocksize)}}),r.Image.filters.Pixelate.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(f){var r=f.fabric||(f.fabric={}),u=r.util.object.extend,c=r.Image.filters,n=r.util.createClass;c.RemoveColor=n(c.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(s){var i=s.imageData,o=i.data,d,l=this.distance*255,g,m,b,_=new r.Color(this.color).getSource(),C=[_[0]-l,_[1]-l,_[2]-l],S=[_[0]+l,_[1]+l,_[2]+l];for(d=0;d<o.length;d+=4)g=o[d],m=o[d+1],b=o[d+2],g>C[0]&&m>C[1]&&b>C[2]&&g<S[0]&&m<S[1]&&b<S[2]&&(o[d+3]=0)},getUniformLocations:function(s,i){return{uLow:s.getUniformLocation(i,"uLow"),uHigh:s.getUniformLocation(i,"uHigh")}},sendUniformData:function(s,i){var o=new r.Color(this.color).getSource(),d=parseFloat(this.distance),l=[0+o[0]/255-d,0+o[1]/255-d,0+o[2]/255-d,1],g=[o[0]/255+d,o[1]/255+d,o[2]/255+d,1];s.uniform4fv(i.uLow,l),s.uniform4fv(i.uHigh,g)},toObject:function(){return u(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),r.Image.filters.RemoveColor.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(f){var r=f.fabric||(f.fabric={}),u=r.Image.filters,c=r.util.createClass,n={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var s in n)u[s]=c(u.ColorMatrix,{type:s,matrix:n[s],mainParameter:!1,colorsOnly:!0}),r.Image.filters[s].fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(f){var r=f.fabric,u=r.Image.filters,c=r.util.createClass;u.BlendColor=c(u.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(n){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[n]+`}
}`},retrieveShader:function(n){var s=this.type+"_"+this.mode,i;return n.programCache.hasOwnProperty(s)||(i=this.buildSource(this.mode),n.programCache[s]=this.createProgram(n.context,i)),n.programCache[s]},applyTo2d:function(n){var s=n.imageData,i=s.data,o=i.length,d,l,g,m,b,_,C,S=1-this.alpha;C=new r.Color(this.color).getSource(),d=C[0]*this.alpha,l=C[1]*this.alpha,g=C[2]*this.alpha;for(var w=0;w<o;w+=4)switch(m=i[w],b=i[w+1],_=i[w+2],this.mode){case"multiply":i[w]=m*d/255,i[w+1]=b*l/255,i[w+2]=_*g/255;break;case"screen":i[w]=255-(255-m)*(255-d)/255,i[w+1]=255-(255-b)*(255-l)/255,i[w+2]=255-(255-_)*(255-g)/255;break;case"add":i[w]=m+d,i[w+1]=b+l,i[w+2]=_+g;break;case"diff":case"difference":i[w]=Math.abs(m-d),i[w+1]=Math.abs(b-l),i[w+2]=Math.abs(_-g);break;case"subtract":i[w]=m-d,i[w+1]=b-l,i[w+2]=_-g;break;case"darken":i[w]=Math.min(m,d),i[w+1]=Math.min(b,l),i[w+2]=Math.min(_,g);break;case"lighten":i[w]=Math.max(m,d),i[w+1]=Math.max(b,l),i[w+2]=Math.max(_,g);break;case"overlay":i[w]=d<128?2*m*d/255:255-2*(255-m)*(255-d)/255,i[w+1]=l<128?2*b*l/255:255-2*(255-b)*(255-l)/255,i[w+2]=g<128?2*_*g/255:255-2*(255-_)*(255-g)/255;break;case"exclusion":i[w]=d+m-2*d*m/255,i[w+1]=l+b-2*l*b/255,i[w+2]=g+_-2*g*_/255;break;case"tint":i[w]=d+m*S,i[w+1]=l+b*S,i[w+2]=g+_*S}},getUniformLocations:function(n,s){return{uColor:n.getUniformLocation(s,"uColor")}},sendUniformData:function(n,s){var i=new r.Color(this.color).getSource();i[0]=this.alpha*i[0]/255,i[1]=this.alpha*i[1]/255,i[2]=this.alpha*i[2]/255,i[3]=this.alpha,n.uniform4fv(s.uColor,i)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),r.Image.filters.BlendColor.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(f){var r=f.fabric,u=r.Image.filters,c=r.util.createClass;u.BlendImage=c(u.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(n){var s=this.type+"_"+this.mode,i=this.fragmentSource[this.mode];return n.programCache.hasOwnProperty(s)||(n.programCache[s]=this.createProgram(n.context,i)),n.programCache[s]},applyToWebGL:function(n){var s=n.context,i=this.createTexture(n.filterBackend,this.image);this.bindAdditionalTexture(s,i,s.TEXTURE1),this.callSuper("applyToWebGL",n),this.unbindAdditionalTexture(s,s.TEXTURE1)},createTexture:function(n,s){return n.getCachedTexture(s.cacheKey,s._element)},calculateMatrix:function(){var n=this.image,s=n._element.width,i=n._element.height;return[1/n.scaleX,0,0,0,1/n.scaleY,0,-n.left/s,-n.top/i,1]},applyTo2d:function(n){var s=n.imageData,i=n.filterBackend.resources,o=s.data,d=o.length,l=s.width,g=s.height,m,b,_,C,S,w,P,M,N,X,j=this.image,K;i.blendImage||(i.blendImage=r.util.createCanvasElement()),N=i.blendImage,X=N.getContext("2d"),N.width!==l||N.height!==g?(N.width=l,N.height=g):X.clearRect(0,0,l,g),X.setTransform(j.scaleX,0,0,j.scaleY,j.left,j.top),X.drawImage(j._element,0,0,l,g),K=X.getImageData(0,0,l,g).data;for(var ee=0;ee<d;ee+=4)switch(S=o[ee],w=o[ee+1],P=o[ee+2],M=o[ee+3],m=K[ee],b=K[ee+1],_=K[ee+2],C=K[ee+3],this.mode){case"multiply":o[ee]=S*m/255,o[ee+1]=w*b/255,o[ee+2]=P*_/255,o[ee+3]=M*C/255;break;case"mask":o[ee+3]=C;break}},getUniformLocations:function(n,s){return{uTransformMatrix:n.getUniformLocation(s,"uTransformMatrix"),uImage:n.getUniformLocation(s,"uImage")}},sendUniformData:function(n,s){var i=this.calculateMatrix();n.uniform1i(s.uImage,1),n.uniformMatrix3fv(s.uTransformMatrix,!1,i)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),r.Image.filters.BlendImage.fromObject=function(n,s){r.Image.fromObject(n.image,function(i){var o=r.util.object.clone(n);o.image=i,s(new r.Image.filters.BlendImage(o))})}}(e),function(f){var r=f.fabric||(f.fabric={}),u=Math.pow,c=Math.floor,n=Math.sqrt,s=Math.abs,i=Math.round,o=Math.sin,d=Math.ceil,l=r.Image.filters,g=r.util.createClass;l.Resize=g(l.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(m,b){return{uDelta:m.getUniformLocation(b,"uDelta"),uTaps:m.getUniformLocation(b,"uTaps")}},sendUniformData:function(m,b){m.uniform2fv(b.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),m.uniform1fv(b.uTaps,this.taps)},retrieveShader:function(m){var b=this.getFilterWindow(),_=this.type+"_"+b;if(!m.programCache.hasOwnProperty(_)){var C=this.generateShader(b);m.programCache[_]=this.createProgram(m.context,C)}return m.programCache[_]},getFilterWindow:function(){var m=this.tempScale;return Math.ceil(this.lanczosLobes/m)},getTaps:function(){for(var m=this.lanczosCreate(this.lanczosLobes),b=this.tempScale,_=this.getFilterWindow(),C=new Array(_),S=1;S<=_;S++)C[S-1]=m(S*b);return C},generateShader:function(C){for(var b=new Array(C),_=this.fragmentSourceTOP,C,S=1;S<=C;S++)b[S-1]=S+".0 * uDelta";return _+="uniform float uTaps["+C+`];
`,_+=`void main() {
`,_+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,_+=`  float sum = 1.0;
`,b.forEach(function(w,P){_+="  color += texture2D(uTexture, vTexCoord + "+w+") * uTaps["+P+`];
`,_+="  color += texture2D(uTexture, vTexCoord - "+w+") * uTaps["+P+`];
`,_+="  sum += 2.0 * uTaps["+P+`];
`}),_+=`  gl_FragColor = color / sum;
`,_+="}",_},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(m){m.webgl?(m.passes++,this.width=m.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=m.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),m.destinationWidth=this.dW,this._setupFrameBuffer(m),this.applyToWebGL(m),this._swapTextures(m),m.sourceWidth=m.destinationWidth,this.height=m.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),m.destinationHeight=this.dH,this._setupFrameBuffer(m),this.applyToWebGL(m),this._swapTextures(m),m.sourceHeight=m.destinationHeight):this.applyTo2d(m)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(m){return function(b){if(b>=m||b<=-m)return 0;if(b<11920929e-14&&b>-11920929e-14)return 1;b*=Math.PI;var _=b/m;return o(b)/b*o(_)/_}},applyTo2d:function(m){var b=m.imageData,_=this.scaleX,C=this.scaleY;this.rcpScaleX=1/_,this.rcpScaleY=1/C;var S=b.width,w=b.height,P=i(S*_),M=i(w*C),N;this.resizeType==="sliceHack"?N=this.sliceByTwo(m,S,w,P,M):this.resizeType==="hermite"?N=this.hermiteFastResize(m,S,w,P,M):this.resizeType==="bilinear"?N=this.bilinearFiltering(m,S,w,P,M):this.resizeType==="lanczos"&&(N=this.lanczosResize(m,S,w,P,M)),m.imageData=N},sliceByTwo:function(m,b,_,C,S){var w=m.imageData,P=.5,M=!1,N=!1,X=b*P,j=_*P,K=r.filterBackend.resources,ee,ne,ae=0,se=0,oe=b,T=0;for(K.sliceByTwo||(K.sliceByTwo=document.createElement("canvas")),ee=K.sliceByTwo,(ee.width<b*1.5||ee.height<_)&&(ee.width=b*1.5,ee.height=_),ne=ee.getContext("2d"),ne.clearRect(0,0,b*1.5,_),ne.putImageData(w,0,0),C=c(C),S=c(S);!M||!N;)b=X,_=j,C<c(X*P)?X=c(X*P):(X=C,M=!0),S<c(j*P)?j=c(j*P):(j=S,N=!0),ne.drawImage(ee,ae,se,b,_,oe,T,X,j),ae=oe,se=T,T+=j;return ne.getImageData(ae,se,C,S)},lanczosResize:function(m,b,_,C,S){function w(F){var I,J,D,E,B,A,z,H,$,te,k;for(T.x=(F+.5)*j,L.x=c(T.x),I=0;I<S;I++){for(T.y=(I+.5)*K,L.y=c(T.y),B=0,A=0,z=0,H=0,$=0,J=L.x-ae;J<=L.x+ae;J++)if(!(J<0||J>=b)){te=c(1e3*s(J-T.x)),oe[te]||(oe[te]={});for(var x=L.y-se;x<=L.y+se;x++)x<0||x>=_||(k=c(1e3*s(x-T.y)),oe[te][k]||(oe[te][k]=X(n(u(te*ee,2)+u(k*ne,2))/1e3)),D=oe[te][k],D>0&&(E=(x*b+J)*4,B+=D,A+=D*P[E],z+=D*P[E+1],H+=D*P[E+2],$+=D*P[E+3]))}E=(I*C+F)*4,N[E]=A/B,N[E+1]=z/B,N[E+2]=H/B,N[E+3]=$/B}return++F<C?w(F):M}var P=m.imageData.data,M=m.ctx.createImageData(C,S),N=M.data,X=this.lanczosCreate(this.lanczosLobes),j=this.rcpScaleX,K=this.rcpScaleY,ee=2/this.rcpScaleX,ne=2/this.rcpScaleY,ae=d(j*this.lanczosLobes/2),se=d(K*this.lanczosLobes/2),oe={},T={},L={};return w(0)},bilinearFiltering:function(m,b,_,C,S){var w,P,M,N,X,j,K,ee,ne,ae,se,oe,T=0,L,F=this.rcpScaleX,I=this.rcpScaleY,J=4*(b-1),D=m.imageData,E=D.data,B=m.ctx.createImageData(C,S),A=B.data;for(K=0;K<S;K++)for(ee=0;ee<C;ee++)for(X=c(F*ee),j=c(I*K),ne=F*ee-X,ae=I*K-j,L=4*(j*b+X),se=0;se<4;se++)w=E[L+se],P=E[L+4+se],M=E[L+J+se],N=E[L+J+4+se],oe=w*(1-ne)*(1-ae)+P*ne*(1-ae)+M*ae*(1-ne)+N*ne*ae,A[T++]=oe;return B},hermiteFastResize:function(m,b,_,C,S){for(var w=this.rcpScaleX,P=this.rcpScaleY,M=d(w/2),N=d(P/2),X=m.imageData,j=X.data,K=m.ctx.createImageData(C,S),ee=K.data,ne=0;ne<S;ne++)for(var ae=0;ae<C;ae++){for(var se=(ae+ne*C)*4,oe=0,T=0,L=0,F=0,I=0,J=0,D=0,E=(ne+.5)*P,B=c(ne*P);B<(ne+1)*P;B++)for(var A=s(E-(B+.5))/N,z=(ae+.5)*w,H=A*A,$=c(ae*w);$<(ae+1)*w;$++){var te=s(z-($+.5))/M,k=n(H+te*te);k>1&&k<-1||(oe=2*k*k*k-3*k*k+1,oe>0&&(te=4*($+B*b),D+=oe*j[te+3],L+=oe,j[te+3]<255&&(oe=oe*j[te+3]/250),F+=oe*j[te],I+=oe*j[te+1],J+=oe*j[te+2],T+=oe))}ee[se]=F/T,ee[se+1]=I/T,ee[se+2]=J/T,ee[se+3]=D/L}return K},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),r.Image.filters.Resize.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(f){var r=f.fabric||(f.fabric={}),u=r.Image.filters,c=r.util.createClass;u.Contrast=c(u.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(n){if(this.contrast!==0){var s=n.imageData,i,d,o=s.data,d=o.length,l=Math.floor(this.contrast*255),g=259*(l+255)/(255*(259-l));for(i=0;i<d;i+=4)o[i]=g*(o[i]-128)+128,o[i+1]=g*(o[i+1]-128)+128,o[i+2]=g*(o[i+2]-128)+128}},getUniformLocations:function(n,s){return{uContrast:n.getUniformLocation(s,"uContrast")}},sendUniformData:function(n,s){n.uniform1f(s.uContrast,this.contrast)}}),r.Image.filters.Contrast.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(f){var r=f.fabric||(f.fabric={}),u=r.Image.filters,c=r.util.createClass;u.Saturation=c(u.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(n){if(this.saturation!==0){var s=n.imageData,i=s.data,o=i.length,d=-this.saturation,l,g;for(l=0;l<o;l+=4)g=Math.max(i[l],i[l+1],i[l+2]),i[l]+=g!==i[l]?(g-i[l])*d:0,i[l+1]+=g!==i[l+1]?(g-i[l+1])*d:0,i[l+2]+=g!==i[l+2]?(g-i[l+2])*d:0}},getUniformLocations:function(n,s){return{uSaturation:n.getUniformLocation(s,"uSaturation")}},sendUniformData:function(n,s){n.uniform1f(s.uSaturation,-this.saturation)}}),r.Image.filters.Saturation.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(f){var r=f.fabric||(f.fabric={}),u=r.Image.filters,c=r.util.createClass;u.Vibrance=c(u.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(n){if(this.vibrance!==0){var s=n.imageData,i=s.data,o=i.length,d=-this.vibrance,l,g,m,b;for(l=0;l<o;l+=4)g=Math.max(i[l],i[l+1],i[l+2]),m=(i[l]+i[l+1]+i[l+2])/3,b=Math.abs(g-m)*2/255*d,i[l]+=g!==i[l]?(g-i[l])*b:0,i[l+1]+=g!==i[l+1]?(g-i[l+1])*b:0,i[l+2]+=g!==i[l+2]?(g-i[l+2])*b:0}},getUniformLocations:function(n,s){return{uVibrance:n.getUniformLocation(s,"uVibrance")}},sendUniformData:function(n,s){n.uniform1f(s.uVibrance,-this.vibrance)}}),r.Image.filters.Vibrance.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(f){var r=f.fabric||(f.fabric={}),u=r.Image.filters,c=r.util.createClass;u.Blur=c(u.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(n){n.webgl?(this.aspectRatio=n.sourceWidth/n.sourceHeight,n.passes++,this._setupFrameBuffer(n),this.horizontal=!0,this.applyToWebGL(n),this._swapTextures(n),this._setupFrameBuffer(n),this.horizontal=!1,this.applyToWebGL(n),this._swapTextures(n)):this.applyTo2d(n)},applyTo2d:function(n){n.imageData=this.simpleBlur(n)},simpleBlur:function(n){var s=n.filterBackend.resources,i,o,d=n.imageData.width,l=n.imageData.height;s.blurLayer1||(s.blurLayer1=r.util.createCanvasElement(),s.blurLayer2=r.util.createCanvasElement()),i=s.blurLayer1,o=s.blurLayer2,(i.width!==d||i.height!==l)&&(o.width=i.width=d,o.height=i.height=l);var g=i.getContext("2d"),m=o.getContext("2d"),b=15,_,C,S,w,P=this.blur*.06*.5;for(g.putImageData(n.imageData,0,0),m.clearRect(0,0,d,l),w=-b;w<=b;w++)_=(Math.random()-.5)/4,C=w/b,S=P*C*d+_,m.globalAlpha=1-Math.abs(C),m.drawImage(i,S,_),g.drawImage(o,0,0),m.globalAlpha=1,m.clearRect(0,0,o.width,o.height);for(w=-b;w<=b;w++)_=(Math.random()-.5)/4,C=w/b,S=P*C*l+_,m.globalAlpha=1-Math.abs(C),m.drawImage(i,_,S),g.drawImage(o,0,0),m.globalAlpha=1,m.clearRect(0,0,o.width,o.height);n.ctx.drawImage(i,0,0);var M=n.ctx.getImageData(0,0,i.width,i.height);return g.globalAlpha=1,g.clearRect(0,0,i.width,i.height),M},getUniformLocations:function(n,s){return{delta:n.getUniformLocation(s,"uDelta")}},sendUniformData:function(n,s){var i=this.chooseRightDelta();n.uniform2fv(s.delta,i)},chooseRightDelta:function(){var n=1,s=[0,0],i;return this.horizontal?this.aspectRatio>1&&(n=1/this.aspectRatio):this.aspectRatio<1&&(n=this.aspectRatio),i=n*this.blur*.12,this.horizontal?s[0]=i:s[1]=i,s}}),u.Blur.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(f){var r=f.fabric||(f.fabric={}),u=r.Image.filters,c=r.util.createClass;u.Gamma=c(u.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(n){this.gamma=[1,1,1],u.BaseFilter.prototype.initialize.call(this,n)},applyTo2d:function(n){var s=n.imageData,i=s.data,o=this.gamma,d=i.length,l=1/o[0],g=1/o[1],m=1/o[2],b;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),b=0,d=256;b<d;b++)this.rVals[b]=Math.pow(b/255,l)*255,this.gVals[b]=Math.pow(b/255,g)*255,this.bVals[b]=Math.pow(b/255,m)*255;for(b=0,d=i.length;b<d;b+=4)i[b]=this.rVals[i[b]],i[b+1]=this.gVals[i[b+1]],i[b+2]=this.bVals[i[b+2]]},getUniformLocations:function(n,s){return{uGamma:n.getUniformLocation(s,"uGamma")}},sendUniformData:function(n,s){n.uniform3fv(s.uGamma,this.gamma)}}),r.Image.filters.Gamma.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(f){var r=f.fabric||(f.fabric={}),u=r.Image.filters,c=r.util.createClass;u.Composed=c(u.BaseFilter,{type:"Composed",subFilters:[],initialize:function(n){this.callSuper("initialize",n),this.subFilters=this.subFilters.slice(0)},applyTo:function(n){n.passes+=this.subFilters.length-1,this.subFilters.forEach(function(s){s.applyTo(n)})},toObject:function(){return r.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(n){return n.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(n){return!n.isNeutralState()})}}),r.Image.filters.Composed.fromObject=function(n,s){var i=n.subFilters||[],o=i.map(function(l){return new r.Image.filters[l.type](l)}),d=new r.Image.filters.Composed({subFilters:o});return s&&s(d),d}}(e),function(f){var r=f.fabric||(f.fabric={}),u=r.Image.filters,c=r.util.createClass;u.HueRotation=c(u.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var n=this.rotation*Math.PI,s=r.util.cos(n),i=r.util.sin(n),o=1/3,d=Math.sqrt(o)*i,l=1-s;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=s+l/3,this.matrix[1]=o*l-d,this.matrix[2]=o*l+d,this.matrix[5]=o*l+d,this.matrix[6]=s+o*l,this.matrix[7]=o*l-d,this.matrix[10]=o*l-d,this.matrix[11]=o*l+d,this.matrix[12]=s+o*l},isNeutralState:function(n){return this.calculateMatrix(),u.BaseFilter.prototype.isNeutralState.call(this,n)},applyTo:function(n){this.calculateMatrix(),u.BaseFilter.prototype.applyTo.call(this,n)}}),r.Image.filters.HueRotation.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(f){var r=f.fabric||(f.fabric={}),u=r.util.object.clone;if(r.Text){r.warn("fabric.Text is already defined");return}var c="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");r.Text=r.util.createClass(r.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:r.Object.prototype.stateProperties.concat(c),cacheProperties:r.Object.prototype.cacheProperties.concat(c),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(n,s){this.styles=s?s.styles||{}:{},this.text=n,this.__skipDimension=!0,this.callSuper("initialize",s),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var n=this.path;n&&(n.segmentsInfo=r.util.getPathSegmentsInfo(n.path))},getMeasuringContext:function(){return r._measuringContext||(r._measuringContext=this.canvas&&this.canvas.contextCache||r.util.createCanvasElement().getContext("2d")),r._measuringContext},_splitText:function(){var n=this._splitTextIntoLines(this.text);return this.textLines=n.lines,this._textLines=n.graphemeLines,this._unwrappedTextLines=n._unwrappedLines,this._text=n.graphemeText,n},initDimensions:function(){if(!this.__skipDimension){if(this._splitText(),this._clearCache(),this.path){var n=this.getHeightOfLine(0)*1.1;this.width=this.path.width+n,this.height=this.path.height+n}else this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight();this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"})}},enlargeSpaces:function(){for(var n,s,i,o,d,l,g,m=0,b=this._textLines.length;m<b;m++)if(!(this.textAlign!=="justify"&&(m===b-1||this.isEndOfWrapping(m)))&&(o=0,d=this._textLines[m],s=this.getLineWidth(m),s<this.width&&(g=this.textLines[m].match(this._reSpacesAndTabs)))){i=g.length,n=(this.width-s)/i;for(var _=0,C=d.length;_<=C;_++)l=this.__charBounds[m][_],this._reSpaceAndTab.test(d[_])?(l.width+=n,l.kernedWidth+=n,l.left+=o,o+=n):l.left+=o}},isEndOfWrapping:function(n){return n===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var n=this.callSuper("_getCacheCanvasDimensions"),s=this.fontSize;return n.width+=s*n.zoomX,n.height+=s*n.zoomY,n},_render:function(n){var s=this.path;s&&!s.isNotVisible()&&s._render(n),this._setTextStyles(n),this._renderTextLinesBackground(n),this._renderTextDecoration(n,"underline"),this._renderText(n),this._renderTextDecoration(n,"overline"),this._renderTextDecoration(n,"linethrough")},_renderText:function(n){this.paintFirst==="stroke"?(this._renderTextStroke(n),this._renderTextFill(n)):(this._renderTextFill(n),this._renderTextStroke(n))},_setTextStyles:function(n,s,i){if(n.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":n.textBaseline="middle";break;case"ascender":n.textBaseline="top";break;case"descender":n.textBaseline="bottom";break}n.font=this._getFontDeclaration(s,i)},calcTextWidth:function(){for(var n=this.getLineWidth(0),s=1,i=this._textLines.length;s<i;s++){var o=this.getLineWidth(s);o>n&&(n=o)}return n},_renderTextLine:function(n,s,i,o,d,l){this._renderChars(n,s,i,o,d,l)},_renderTextLinesBackground:function(n){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var s,i,o=n.fillStyle,d,l,g=this._getLeftOffset(),m=this._getTopOffset(),b=0,_=0,C,S,w=this.path,P,M=0,N=this._textLines.length;M<N;M++){if(s=this.getHeightOfLine(M),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",M)){m+=s;continue}d=this._textLines[M],i=this._getLineLeftOffset(M),_=0,b=0,l=this.getValueOfPropertyAt(M,0,"textBackgroundColor");for(var X=0,j=d.length;X<j;X++)C=this.__charBounds[M][X],S=this.getValueOfPropertyAt(M,X,"textBackgroundColor"),w?(n.save(),n.translate(C.renderLeft,C.renderTop),n.rotate(C.angle),n.fillStyle=S,S&&n.fillRect(-C.width/2,-s/this.lineHeight*(1-this._fontSizeFraction),C.width,s/this.lineHeight),n.restore()):S!==l?(P=g+i+b,this.direction==="rtl"&&(P=this.width-P-_),n.fillStyle=l,l&&n.fillRect(P,m,_,s/this.lineHeight),b=C.left,_=C.width,l=S):_+=C.kernedWidth;S&&!w&&(P=g+i+b,this.direction==="rtl"&&(P=this.width-P-_),n.fillStyle=S,n.fillRect(P,m,_,s/this.lineHeight)),m+=s}n.fillStyle=o,this._removeShadow(n)}},getFontCache:function(n){var s=n.fontFamily.toLowerCase();r.charWidthsCache[s]||(r.charWidthsCache[s]={});var i=r.charWidthsCache[s],o=n.fontStyle.toLowerCase()+"_"+(n.fontWeight+"").toLowerCase();return i[o]||(i[o]={}),i[o]},_measureChar:function(n,s,i,o){var d=this.getFontCache(s),l=this._getFontDeclaration(s),g=this._getFontDeclaration(o),m=i+n,b=l===g,_,C,S,w=s.fontSize/this.CACHE_FONT_SIZE,P;if(i&&d[i]!==void 0&&(S=d[i]),d[n]!==void 0&&(P=_=d[n]),b&&d[m]!==void 0&&(C=d[m],P=C-S),_===void 0||S===void 0||C===void 0){var M=this.getMeasuringContext();this._setTextStyles(M,s,!0)}return _===void 0&&(P=_=M.measureText(n).width,d[n]=_),S===void 0&&b&&i&&(S=M.measureText(i).width,d[i]=S),b&&C===void 0&&(C=M.measureText(m).width,d[m]=C,P=C-S),{width:_*w,kernedWidth:P*w}},getHeightOfChar:function(n,s){return this.getValueOfPropertyAt(n,s,"fontSize")},measureLine:function(n){var s=this._measureLine(n);return this.charSpacing!==0&&(s.width-=this._getWidthOfCharSpacing()),s.width<0&&(s.width=0),s},_measureLine:function(n){var s=0,i,o,d=this._textLines[n],l,g,m=0,b=new Array(d.length),_=0,C,S,w=this.path,P=this.pathSide==="right";for(this.__charBounds[n]=b,i=0;i<d.length;i++)o=d[i],g=this._getGraphemeBox(o,n,i,l),b[i]=g,s+=g.kernedWidth,l=o;if(b[i]={left:g?g.left+g.width:0,width:0,kernedWidth:0,height:this.fontSize},w){switch(S=w.segmentsInfo[w.segmentsInfo.length-1].length,C=r.util.getPointOnPath(w.path,0,w.segmentsInfo),C.x+=w.pathOffset.x,C.y+=w.pathOffset.y,this.textAlign){case"left":_=P?S-s:0;break;case"center":_=(S-s)/2;break;case"right":_=P?0:S-s;break}for(_+=this.pathStartOffset*(P?-1:1),i=P?d.length-1:0;P?i>=0:i<d.length;P?i--:i++)g=b[i],_>S?_%=S:_<0&&(_+=S),this._setGraphemeOnPath(_,g,C),_+=g.kernedWidth}return{width:s,numOfSpaces:m}},_setGraphemeOnPath:function(n,s,i){var o=n+s.kernedWidth/2,d=this.path,l=r.util.getPointOnPath(d.path,o,d.segmentsInfo);s.renderLeft=l.x-i.x,s.renderTop=l.y-i.y,s.angle=l.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(n,s,i,o,d){var l=this.getCompleteStyleDeclaration(s,i),g=o?this.getCompleteStyleDeclaration(s,i-1):{},m=this._measureChar(n,l,o,g),b=m.kernedWidth,_=m.width,C;this.charSpacing!==0&&(C=this._getWidthOfCharSpacing(),_+=C,b+=C);var S={width:_,left:0,height:l.fontSize,kernedWidth:b,deltaY:l.deltaY};if(i>0&&!d){var w=this.__charBounds[s][i-1];S.left=w.left+w.width+m.kernedWidth-m.width}return S},getHeightOfLine:function(n){if(this.__lineHeights[n])return this.__lineHeights[n];for(var s=this._textLines[n],i=this.getHeightOfChar(n,0),o=1,d=s.length;o<d;o++)i=Math.max(this.getHeightOfChar(n,o),i);return this.__lineHeights[n]=i*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var n,s=0,i=0,o=this._textLines.length;i<o;i++)n=this.getHeightOfLine(i),s+=i===o-1?n/this.lineHeight:n;return s},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(n,s){n.save();for(var i=0,o=this._getLeftOffset(),d=this._getTopOffset(),l=0,g=this._textLines.length;l<g;l++){var m=this.getHeightOfLine(l),b=m/this.lineHeight,_=this._getLineLeftOffset(l);this._renderTextLine(s,n,this._textLines[l],o+_,d+i+b,l),i+=m}n.restore()},_renderTextFill:function(n){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(n,"fillText")},_renderTextStroke:function(n){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(n),n.save(),this._setLineDash(n,this.strokeDashArray),n.beginPath(),this._renderTextCommon(n,"strokeText"),n.closePath(),n.restore())},_renderChars:function(n,s,i,o,d,l){var g=this.getHeightOfLine(l),m=this.textAlign.indexOf("justify")!==-1,b,_,C="",S,w=0,P,M=this.path,N=!m&&this.charSpacing===0&&this.isEmptyStyles(l)&&!M,X=this.direction==="ltr",j=this.direction==="ltr"?1:-1,K,ee=s.canvas.getAttribute("dir");if(s.save(),ee!==this.direction&&(s.canvas.setAttribute("dir",X?"ltr":"rtl"),s.direction=X?"ltr":"rtl",s.textAlign=X?"left":"right"),d-=g*this._fontSizeFraction/this.lineHeight,N){this._renderChar(n,s,l,0,i.join(""),o,d,g),s.restore();return}for(var ne=0,ae=i.length-1;ne<=ae;ne++)P=ne===ae||this.charSpacing||M,C+=i[ne],S=this.__charBounds[l][ne],w===0?(o+=j*(S.kernedWidth-S.width),w+=S.width):w+=S.kernedWidth,m&&!P&&this._reSpaceAndTab.test(i[ne])&&(P=!0),P||(b=b||this.getCompleteStyleDeclaration(l,ne),_=this.getCompleteStyleDeclaration(l,ne+1),P=r.util.hasStyleChanged(b,_,!1)),P&&(M?(s.save(),s.translate(S.renderLeft,S.renderTop),s.rotate(S.angle),this._renderChar(n,s,l,ne,C,-w/2,0,g),s.restore()):(K=o,this._renderChar(n,s,l,ne,C,K,d,g)),C="",b=_,o+=j*w,w=0);s.restore()},_applyPatternGradientTransformText:function(n){var s=r.util.createCanvasElement(),i,o=this.width+this.strokeWidth,d=this.height+this.strokeWidth;return s.width=o,s.height=d,i=s.getContext("2d"),i.beginPath(),i.moveTo(0,0),i.lineTo(o,0),i.lineTo(o,d),i.lineTo(0,d),i.closePath(),i.translate(o/2,d/2),i.fillStyle=n.toLive(i),this._applyPatternGradientTransform(i,n),i.fill(),i.createPattern(s,"no-repeat")},handleFiller:function(n,s,i){var o,d;return i.toLive?i.gradientUnits==="percentage"||i.gradientTransform||i.patternTransform?(o=-this.width/2,d=-this.height/2,n.translate(o,d),n[s]=this._applyPatternGradientTransformText(i),{offsetX:o,offsetY:d}):(n[s]=i.toLive(n,this),this._applyPatternGradientTransform(n,i)):(n[s]=i,{offsetX:0,offsetY:0})},_setStrokeStyles:function(n,s){return n.lineWidth=s.strokeWidth,n.lineCap=this.strokeLineCap,n.lineDashOffset=this.strokeDashOffset,n.lineJoin=this.strokeLineJoin,n.miterLimit=this.strokeMiterLimit,this.handleFiller(n,"strokeStyle",s.stroke)},_setFillStyles:function(n,s){return this.handleFiller(n,"fillStyle",s.fill)},_renderChar:function(n,s,i,o,d,l,g){var m=this._getStyleDeclaration(i,o),b=this.getCompleteStyleDeclaration(i,o),_=n==="fillText"&&b.fill,C=n==="strokeText"&&b.stroke&&b.strokeWidth,S,w;!C&&!_||(s.save(),_&&(S=this._setFillStyles(s,b)),C&&(w=this._setStrokeStyles(s,b)),s.font=this._getFontDeclaration(b),m&&m.textBackgroundColor&&this._removeShadow(s),m&&m.deltaY&&(g+=m.deltaY),_&&s.fillText(d,l-S.offsetX,g-S.offsetY),C&&s.strokeText(d,l-w.offsetX,g-w.offsetY),s.restore())},setSuperscript:function(n,s){return this._setScript(n,s,this.superscript)},setSubscript:function(n,s){return this._setScript(n,s,this.subscript)},_setScript:function(n,s,i){var o=this.get2DCursorLocation(n,!0),d=this.getValueOfPropertyAt(o.lineIndex,o.charIndex,"fontSize"),l=this.getValueOfPropertyAt(o.lineIndex,o.charIndex,"deltaY"),g={fontSize:d*i.size,deltaY:l+d*i.baseline};return this.setSelectionStyles(g,n,s),this},_getLineLeftOffset:function(n){var s=this.getLineWidth(n),i=this.width-s,o=this.textAlign,d=this.direction,g,l=0,g=this.isEndOfWrapping(n);return o==="justify"||o==="justify-center"&&!g||o==="justify-right"&&!g||o==="justify-left"&&!g?0:(o==="center"&&(l=i/2),o==="right"&&(l=i),o==="justify-center"&&(l=i/2),o==="justify-right"&&(l=i),d==="rtl"&&(l-=i),l)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var n=this._forceClearCache;return n||(n=this.hasStateChanged("_dimensionAffectingProps")),n&&(this.dirty=!0,this._forceClearCache=!1),n},getLineWidth:function(n){if(this.__lineWidths[n]!==void 0)return this.__lineWidths[n];var s=this.measureLine(n),i=s.width;return this.__lineWidths[n]=i,i},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(n,s,i){var o=this._getStyleDeclaration(n,s);return o&&typeof o[i]<"u"?o[i]:this[i]},_renderTextDecoration:function(n,s){if(!(!this[s]&&!this.styleHas(s))){n.save(),(s==="overline"||s==="linethrough")&&this._removeShadow(n);for(var i,o,d,l,g,m,b,_,C=this._getLeftOffset(),S=this._getTopOffset(),w,P,M,N,X,j,K,ee,ne=this.path,ae=this._getWidthOfCharSpacing(),se=this.offsets[s],oe=0,T=this._textLines.length;oe<T;oe++){if(i=this.getHeightOfLine(oe),!this[s]&&!this.styleHas(s,oe)){S+=i;continue}b=this._textLines[oe],j=i/this.lineHeight,l=this._getLineLeftOffset(oe),P=0,M=0,_=this.getValueOfPropertyAt(oe,0,s),ee=this.getValueOfPropertyAt(oe,0,"fill"),w=S+j*(1-this._fontSizeFraction),o=this.getHeightOfChar(oe,0),g=this.getValueOfPropertyAt(oe,0,"deltaY");for(var L=0,F=b.length;L<F;L++)if(N=this.__charBounds[oe][L],X=this.getValueOfPropertyAt(oe,L,s),K=this.getValueOfPropertyAt(oe,L,"fill"),d=this.getHeightOfChar(oe,L),m=this.getValueOfPropertyAt(oe,L,"deltaY"),ne&&X&&K)n.save(),n.fillStyle=ee,n.translate(N.renderLeft,N.renderTop),n.rotate(N.angle),n.fillRect(-N.kernedWidth/2,se*d+m,N.kernedWidth,this.fontSize/15),n.restore();else if((X!==_||K!==ee||d!==o||m!==g)&&M>0){var I=C+l+P;this.direction==="rtl"&&(I=this.width-I-M),_&&ee&&(n.fillStyle=ee,n.fillRect(I,w+se*o+g,M,this.fontSize/15)),P=N.left,M=N.width,_=X,ee=K,o=d,g=m}else M+=N.kernedWidth;var I=C+l+P;this.direction==="rtl"&&(I=this.width-I-M),n.fillStyle=K,X&&K&&n.fillRect(I,w+se*o+g,M-ae,this.fontSize/15),S+=i}n.restore()}},_getFontDeclaration:function(n,s){var i=n||this,o=this.fontFamily,d=r.Text.genericFonts.indexOf(o.toLowerCase())>-1,l=o===void 0||o.indexOf("'")>-1||o.indexOf(",")>-1||o.indexOf('"')>-1||d?i.fontFamily:'"'+i.fontFamily+'"';return[r.isLikelyNode?i.fontWeight:i.fontStyle,r.isLikelyNode?i.fontStyle:i.fontWeight,s?this.CACHE_FONT_SIZE+"px":i.fontSize+"px",l].join(" ")},render:function(n){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",n)))},_splitTextIntoLines:function(n){for(var s=n.split(this._reNewline),i=new Array(s.length),o=[`
`],d=[],l=0;l<s.length;l++)i[l]=r.util.string.graphemeSplit(s[l]),d=d.concat(i[l],o);return d.pop(),{_unwrappedLines:i,lines:s,graphemeText:d,graphemeLines:i}},toObject:function(n){var s=c.concat(n),i=this.callSuper("toObject",s);return i.styles=r.util.stylesToArray(this.styles,this.text),i.path&&(i.path=this.path.toObject()),i},set:function(n,s){this.callSuper("set",n,s);var i=!1,o=!1;if(typeof n=="object")for(var d in n)d==="path"&&this.setPathInfo(),i=i||this._dimensionAffectingProps.indexOf(d)!==-1,o=o||d==="path";else i=this._dimensionAffectingProps.indexOf(n)!==-1,o=n==="path";return o&&this.setPathInfo(),i&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),r.Text.ATTRIBUTE_NAMES=r.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),r.Text.DEFAULT_SVG_FONT_SIZE=16,r.Text.fromElement=function(n,s,i){if(!n)return s(null);var o=r.parseAttributes(n,r.Text.ATTRIBUTE_NAMES),d=o.textAnchor||"left";if(i=r.util.object.extend(i?u(i):{},o),i.top=i.top||0,i.left=i.left||0,o.textDecoration){var l=o.textDecoration;l.indexOf("underline")!==-1&&(i.underline=!0),l.indexOf("overline")!==-1&&(i.overline=!0),l.indexOf("line-through")!==-1&&(i.linethrough=!0),delete i.textDecoration}"dx"in o&&(i.left+=o.dx),"dy"in o&&(i.top+=o.dy),"fontSize"in i||(i.fontSize=r.Text.DEFAULT_SVG_FONT_SIZE);var g="";"textContent"in n?g=n.textContent:"firstChild"in n&&n.firstChild!==null&&"data"in n.firstChild&&n.firstChild.data!==null&&(g=n.firstChild.data),g=g.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var m=i.strokeWidth;i.strokeWidth=0;var b=new r.Text(g,i),_=b.getScaledHeight()/b.height,C=(b.height+b.strokeWidth)*b.lineHeight-b.height,S=C*_,w=b.getScaledHeight()+S,P=0;d==="center"&&(P=b.getScaledWidth()/2),d==="right"&&(P=b.getScaledWidth()),b.set({left:b.left-P,top:b.top-(w-b.fontSize*(.07+b._fontSizeFraction))/b.lineHeight,strokeWidth:typeof m<"u"?m:1}),s(b)},r.Text.fromObject=function(n,s){var i=u(n),o=n.path;return delete i.path,r.Object._fromObject("Text",i,function(d){d.styles=r.util.stylesFromArray(n.styles,n.text),o?r.Object._fromObject("Path",o,function(l){d.set("path",l),s(d)},"path"):s(d)},"text")},r.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],r.util.createAccessors&&r.util.createAccessors(r.Text)}(e),function(){t.util.object.extend(t.Text.prototype,{isEmptyStyles:function(f){if(!this.styles||typeof f<"u"&&!this.styles[f])return!0;var r=typeof f>"u"?this.styles:{line:this.styles[f]};for(var u in r)for(var c in r[u])for(var n in r[u][c])return!1;return!0},styleHas:function(f,r){if(!this.styles||!f||f===""||typeof r<"u"&&!this.styles[r])return!1;var u=typeof r>"u"?this.styles:{0:this.styles[r]};for(var c in u)for(var n in u[c])if(typeof u[c][n][f]<"u")return!0;return!1},cleanStyle:function(f){if(!this.styles||!f||f==="")return!1;var r=this.styles,u=0,c,n,s=!0,i=0,o;for(var d in r){c=0;for(var l in r[d]){var o=r[d][l],g=o.hasOwnProperty(f);u++,g?(n?o[f]!==n&&(s=!1):n=o[f],o[f]===this[f]&&delete o[f]):s=!1,Object.keys(o).length!==0?c++:delete r[d][l]}c===0&&delete r[d]}for(var m=0;m<this._textLines.length;m++)i+=this._textLines[m].length;s&&u===i&&(this[f]=n,this.removeStyle(f))},removeStyle:function(f){if(!(!this.styles||!f||f==="")){var r=this.styles,u,c,n;for(c in r){u=r[c];for(n in u)delete u[n][f],Object.keys(u[n]).length===0&&delete u[n];Object.keys(u).length===0&&delete r[c]}}},_extendStyles:function(f,r){var u=this.get2DCursorLocation(f);this._getLineStyle(u.lineIndex)||this._setLineStyle(u.lineIndex),this._getStyleDeclaration(u.lineIndex,u.charIndex)||this._setStyleDeclaration(u.lineIndex,u.charIndex,{}),t.util.object.extend(this._getStyleDeclaration(u.lineIndex,u.charIndex),r)},get2DCursorLocation:function(f,r){typeof f>"u"&&(f=this.selectionStart);for(var u=r?this._unwrappedTextLines:this._textLines,c=u.length,n=0;n<c;n++){if(f<=u[n].length)return{lineIndex:n,charIndex:f};f-=u[n].length+this.missingNewlineOffset(n,r)}return{lineIndex:n-1,charIndex:u[n-1].length<f?u[n-1].length:f}},getSelectionStyles:function(f,r,u){typeof f>"u"&&(f=this.selectionStart||0),typeof r>"u"&&(r=this.selectionEnd||f);for(var c=[],n=f;n<r;n++)c.push(this.getStyleAtPosition(n,u));return c},getStyleAtPosition:function(f,r){var u=this.get2DCursorLocation(f),c=r?this.getCompleteStyleDeclaration(u.lineIndex,u.charIndex):this._getStyleDeclaration(u.lineIndex,u.charIndex);return c||{}},setSelectionStyles:function(f,r,u){typeof r>"u"&&(r=this.selectionStart||0),typeof u>"u"&&(u=this.selectionEnd||r);for(var c=r;c<u;c++)this._extendStyles(c,f);return this._forceClearCache=!0,this},_getStyleDeclaration:function(f,r){var u=this.styles&&this.styles[f];return u?u[r]:null},getCompleteStyleDeclaration:function(f,r){for(var u=this._getStyleDeclaration(f,r)||{},c={},n,s=0;s<this._styleProperties.length;s++)n=this._styleProperties[s],c[n]=typeof u[n]>"u"?this[n]:u[n];return c},_setStyleDeclaration:function(f,r,u){this.styles[f][r]=u},_deleteStyleDeclaration:function(f,r){delete this.styles[f][r]},_getLineStyle:function(f){return!!this.styles[f]},_setLineStyle:function(f){this.styles[f]={}},_deleteLineStyle:function(f){delete this.styles[f]}})}(),function(){function f(r){r.textDecoration&&(r.textDecoration.indexOf("underline")>-1&&(r.underline=!0),r.textDecoration.indexOf("line-through")>-1&&(r.linethrough=!0),r.textDecoration.indexOf("overline")>-1&&(r.overline=!0),delete r.textDecoration)}t.IText=t.util.createClass(t.Text,t.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(r,u){this.callSuper("initialize",r,u),this.initBehavior()},setSelectionStart:function(r){r=Math.max(r,0),this._updateAndFire("selectionStart",r)},setSelectionEnd:function(r){r=Math.min(r,this.text.length),this._updateAndFire("selectionEnd",r)},_updateAndFire:function(r,u){this[r]!==u&&(this._fireSelectionChanged(),this[r]=u),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(r){this.clearContextTop(),this.callSuper("render",r),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(r){this.callSuper("_render",r)},clearContextTop:function(r){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var u=this.canvas.contextTop,c=this.canvas.viewportTransform;u.save(),u.transform(c[0],c[1],c[2],c[3],c[4],c[5]),this.transform(u),this._clearTextArea(u),r||u.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var r=this._getCursorBoundaries(),u=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(r,u):this.renderSelection(r,u),u.restore()}},_clearTextArea:function(r){var u=this.width+4,c=this.height+4;r.clearRect(-u/2,-c/2,u,c)},_getCursorBoundaries:function(r){typeof r>"u"&&(r=this.selectionStart);var u=this._getLeftOffset(),c=this._getTopOffset(),n=this._getCursorBoundariesOffsets(r);return{left:u,top:c,leftOffset:n.left,topOffset:n.top}},_getCursorBoundariesOffsets:function(r){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var u,c,n,s=0,i=0,o,d=this.get2DCursorLocation(r);n=d.charIndex,c=d.lineIndex;for(var l=0;l<c;l++)s+=this.getHeightOfLine(l);u=this._getLineLeftOffset(c);var g=this.__charBounds[c][n];return g&&(i=g.left),this.charSpacing!==0&&n===this._textLines[c].length&&(i-=this._getWidthOfCharSpacing()),o={top:s,left:u+(i>0?i:0)},this.direction==="rtl"&&(o.left*=-1),this.cursorOffsetCache=o,this.cursorOffsetCache},renderCursor:function(r,u){var c=this.get2DCursorLocation(),n=c.lineIndex,s=c.charIndex>0?c.charIndex-1:0,i=this.getValueOfPropertyAt(n,s,"fontSize"),o=this.scaleX*this.canvas.getZoom(),d=this.cursorWidth/o,l=r.topOffset,g=this.getValueOfPropertyAt(n,s,"deltaY");l+=(1-this._fontSizeFraction)*this.getHeightOfLine(n)/this.lineHeight-i*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(r,u),u.fillStyle=this.cursorColor||this.getValueOfPropertyAt(n,s,"fill"),u.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,u.fillRect(r.left+r.leftOffset-d/2,l+r.top+g,d,i)},renderSelection:function(r,u){for(var c=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,n=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,s=this.textAlign.indexOf("justify")!==-1,i=this.get2DCursorLocation(c),o=this.get2DCursorLocation(n),d=i.lineIndex,l=o.lineIndex,g=i.charIndex<0?0:i.charIndex,m=o.charIndex<0?0:o.charIndex,b=d;b<=l;b++){var _=this._getLineLeftOffset(b)||0,C=this.getHeightOfLine(b),S=0,w=0,P=0;if(b===d&&(w=this.__charBounds[d][g].left),b>=d&&b<l)P=s&&!this.isEndOfWrapping(b)?this.width:this.getLineWidth(b)||5;else if(b===l)if(m===0)P=this.__charBounds[l][m].left;else{var M=this._getWidthOfCharSpacing();P=this.__charBounds[l][m-1].left+this.__charBounds[l][m-1].width-M}S=C,(this.lineHeight<1||b===l&&this.lineHeight>1)&&(C/=this.lineHeight);var N=r.left+_+w,X=P-w,j=C,K=0;this.inCompositionMode?(u.fillStyle=this.compositionColor||"black",j=1,K=C):u.fillStyle=this.selectionColor,this.direction==="rtl"&&(N=this.width-N-X),u.fillRect(N,r.top+r.topOffset+K,X,j),r.topOffset+=S}},getCurrentCharFontSize:function(){var r=this._getCurrentCharIndex();return this.getValueOfPropertyAt(r.l,r.c,"fontSize")},getCurrentCharColor:function(){var r=this._getCurrentCharIndex();return this.getValueOfPropertyAt(r.l,r.c,"fill")},_getCurrentCharIndex:function(){var r=this.get2DCursorLocation(this.selectionStart,!0),u=r.charIndex>0?r.charIndex-1:0;return{l:r.lineIndex,c:u}}}),t.IText.fromObject=function(r,u){var c=t.util.stylesFromArray(r.styles,r.text),n=Object.assign({},r,{styles:c});if(delete n.path,f(n),n.styles)for(var s in n.styles)for(var i in n.styles[s])f(n.styles[s][i]);t.Object._fromObject("IText",n,function(o){r.path?t.Object._fromObject("Path",r.path,function(d){o.set("path",d),u(o)},"path"):u(o)},"text")}}(),function(){var f=t.util.object.clone;t.util.object.extend(t.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var r=this;this.on("added",function(){var u=r.canvas;u&&(u._hasITextHandlers||(u._hasITextHandlers=!0,r._initCanvasHandlers(u)),u._iTextInstances=u._iTextInstances||[],u._iTextInstances.push(r))})},initRemovedHandler:function(){var r=this;this.on("removed",function(){var u=r.canvas;u&&(u._iTextInstances=u._iTextInstances||[],t.util.removeFromArray(u._iTextInstances,r),u._iTextInstances.length===0&&(u._hasITextHandlers=!1,r._removeCanvasHandlers(u)))})},_initCanvasHandlers:function(r){r._mouseUpITextHandler=function(){r._iTextInstances&&r._iTextInstances.forEach(function(u){u.__isMousedown=!1})},r.on("mouse:up",r._mouseUpITextHandler)},_removeCanvasHandlers:function(r){r.off("mouse:up",r._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(r,u,c,n){var s;return s={isAborted:!1,abort:function(){this.isAborted=!0}},r.animate("_currentCursorOpacity",u,{duration:c,onComplete:function(){s.isAborted||r[n]()},onChange:function(){r.canvas&&r.selectionStart===r.selectionEnd&&r.renderCursorOrSelection()},abort:function(){return s.isAborted}}),s},_onTickComplete:function(){var r=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){r._currentTickCompleteState=r._animateCursor(r,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(r){var u=this,c=r?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){u._tick()},c)},abortCursorAnimation:function(){var r=this._currentTickState||this._currentTickCompleteState,u=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,r&&u&&u.clearContext(u.contextTop||u.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(r){var u=0,c=r-1;if(this._reSpace.test(this._text[c]))for(;this._reSpace.test(this._text[c]);)u++,c--;for(;/\S/.test(this._text[c])&&c>-1;)u++,c--;return r-u},findWordBoundaryRight:function(r){var u=0,c=r;if(this._reSpace.test(this._text[c]))for(;this._reSpace.test(this._text[c]);)u++,c++;for(;/\S/.test(this._text[c])&&c<this._text.length;)u++,c++;return r+u},findLineBoundaryLeft:function(r){for(var u=0,c=r-1;!/\n/.test(this._text[c])&&c>-1;)u++,c--;return r-u},findLineBoundaryRight:function(r){for(var u=0,c=r;!/\n/.test(this._text[c])&&c<this._text.length;)u++,c++;return r+u},searchWordBoundary:function(r,u){for(var c=this._text,n=this._reSpace.test(c[r])?r-1:r,s=c[n],i=t.reNonWord;!i.test(s)&&n>0&&n<c.length;)n+=u,s=c[n];return i.test(s)&&(n+=u===1?0:1),n},selectWord:function(r){r=r||this.selectionStart;var u=this.searchWordBoundary(r,-1),c=this.searchWordBoundary(r,1);this.selectionStart=u,this.selectionEnd=c,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(r){r=r||this.selectionStart;var u=this.findLineBoundaryLeft(r),c=this.findLineBoundaryRight(r);return this.selectionStart=u,this.selectionEnd=c,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(r){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(r),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(r){r._iTextInstances&&r._iTextInstances.forEach(function(u){u.selected=!1,u.isEditing&&u.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(r){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var u=this.getSelectionStartFromPointer(r.e),c=this.selectionStart,n=this.selectionEnd;(u!==this.__selectionStartOnMouseDown||c===n)&&(c===u||n===u)||(u>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=u):(this.selectionStart=u,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==c||this.selectionEnd!==n)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(r,u,c){var n=c.slice(0,r),s=t.util.string.graphemeSplit(n).length;if(r===u)return{selectionStart:s,selectionEnd:s};var i=c.slice(r,u),o=t.util.string.graphemeSplit(i).length;return{selectionStart:s,selectionEnd:s+o}},fromGraphemeToStringSelection:function(r,u,c){var n=c.slice(0,r),s=n.join("").length;if(r===u)return{selectionStart:s,selectionEnd:s};var i=c.slice(r,u),o=i.join("").length;return{selectionStart:s,selectionEnd:s+o}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var r=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=r.selectionStart,this.hiddenTextarea.selectionEnd=r.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var r=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=r.selectionEnd,this.inCompositionMode||(this.selectionStart=r.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var r=this._calcTextareaPosition();this.hiddenTextarea.style.left=r.left,this.hiddenTextarea.style.top=r.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var r=this.inCompositionMode?this.compositionStart:this.selectionStart,u=this._getCursorBoundaries(r),c=this.get2DCursorLocation(r),n=c.lineIndex,s=c.charIndex,i=this.getValueOfPropertyAt(n,s,"fontSize")*this.lineHeight,o=u.leftOffset,d=this.calcTransformMatrix(),l={x:u.left+o,y:u.top+u.topOffset+i},g=this.canvas.getRetinaScaling(),m=this.canvas.upperCanvasEl,b=m.width/g,_=m.height/g,C=b-i,S=_-i,w=m.clientWidth/b,P=m.clientHeight/_;return l=t.util.transformPoint(l,d),l=t.util.transformPoint(l,this.canvas.viewportTransform),l.x*=w,l.y*=P,l.x<0&&(l.x=0),l.x>C&&(l.x=C),l.y<0&&(l.y=0),l.y>S&&(l.y=S),l.x+=this.canvas._offset.left,l.y+=this.canvas._offset.top,{left:l.x+"px",top:l.y+"px",fontSize:i+"px",charHeight:i}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var r=this._textBeforeEdit!==this.text,u=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,u&&(u.blur&&u.blur(),u.parentNode&&u.parentNode.removeChild(u)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),r&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),r&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var r in this.styles)this._textLines[r]||delete this.styles[r]},removeStyleFromTo:function(r,u){var c=this.get2DCursorLocation(r,!0),n=this.get2DCursorLocation(u,!0),s=c.lineIndex,i=c.charIndex,o=n.lineIndex,d=n.charIndex,l,g;if(s!==o){if(this.styles[s])for(l=i;l<this._unwrappedTextLines[s].length;l++)delete this.styles[s][l];if(this.styles[o])for(l=d;l<this._unwrappedTextLines[o].length;l++)g=this.styles[o][l],g&&(this.styles[s]||(this.styles[s]={}),this.styles[s][i+l-d]=g);for(l=s+1;l<=o;l++)delete this.styles[l];this.shiftLineStyles(o,s-o)}else if(this.styles[s]){g=this.styles[s];var m=d-i,b,_;for(l=i;l<d;l++)delete g[l];for(_ in this.styles[s])b=parseInt(_,10),b>=d&&(g[b-m]=g[_],delete g[_])}},shiftLineStyles:function(r,u){var c=f(this.styles);for(var n in this.styles){var s=parseInt(n,10);s>r&&(this.styles[s+u]=c[s],c[s-u]||delete this.styles[s])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(r,u,c,n){var s,i={},o=!1,d=this._unwrappedTextLines[r].length,l=d===u;c||(c=1),this.shiftLineStyles(r,c),this.styles[r]&&(s=this.styles[r][u===0?u:u-1]);for(var g in this.styles[r]){var m=parseInt(g,10);m>=u&&(o=!0,i[m-u]=this.styles[r][g],l&&u===0||delete this.styles[r][g])}var b=!1;for(o&&!l&&(this.styles[r+c]=i,b=!0),(b||d>u)&&c--;c>0;)n&&n[c-1]?this.styles[r+c]={0:f(n[c-1])}:s?this.styles[r+c]={0:f(s)}:delete this.styles[r+c],c--;this._forceClearCache=!0},insertCharStyleObject:function(r,u,c,n){this.styles||(this.styles={});var s=this.styles[r],i=s?f(s):{};c||(c=1);for(var o in i){var d=parseInt(o,10);d>=u&&(s[d+c]=i[d],i[d-c]||delete s[d])}if(this._forceClearCache=!0,n){for(;c--;)Object.keys(n[c]).length&&(this.styles[r]||(this.styles[r]={}),this.styles[r][u+c]=f(n[c]));return}if(s)for(var l=s[u?u-1:1];l&&c--;)this.styles[r][u+c]=f(l)},insertNewStyleBlock:function(r,u,c){for(var n=this.get2DCursorLocation(u,!0),s=[0],i=0,o=0;o<r.length;o++)r[o]===`
`?(i++,s[i]=0):s[i]++;s[0]>0&&(this.insertCharStyleObject(n.lineIndex,n.charIndex,s[0],c),c=c&&c.slice(s[0]+1)),i&&this.insertNewlineStyleObject(n.lineIndex,n.charIndex+s[0],i);for(var o=1;o<i;o++)s[o]>0?this.insertCharStyleObject(n.lineIndex+o,0,s[o],c):c&&this.styles[n.lineIndex+o]&&c[0]&&(this.styles[n.lineIndex+o][0]=c[0]),c=c&&c.slice(s[o]+1);s[o]>0&&this.insertCharStyleObject(n.lineIndex+o,0,s[o],c)},setSelectionStartEndWithShift:function(r,u,c){c<=r?(u===r?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=r),this.selectionStart=c):c>r&&c<u?this._selectionDirection==="right"?this.selectionEnd=c:this.selectionStart=c:(u===r?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=u),this.selectionEnd=c)},setSelectionInBoundaries:function(){var r=this.text.length;this.selectionStart>r?this.selectionStart=r:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>r?this.selectionEnd=r:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),t.util.object.extend(t.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(f){if(this.canvas){this.__newClickTime=+new Date;var r=f.pointer;this.isTripleClick(r)&&(this.fire("tripleclick",f),this._stopEvent(f.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=r,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(f){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===f.x&&this.__lastPointer.y===f.y},_stopEvent:function(f){f.preventDefault&&f.preventDefault(),f.stopPropagation&&f.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(f){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(f.e))},tripleClickHandler:function(f){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(f.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(f){!this.canvas||!this.editable||f.e.button&&f.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(f.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(f){!this.canvas||!this.editable||f.e.button&&f.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(f){if(this.__isMousedown=!1,!(!this.editable||this.group||f.transform&&f.transform.actionPerformed||f.e.button&&f.e.button!==1)){if(this.canvas){var r=this.canvas._activeObject;if(r&&r!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(f.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(f){var r=this.getSelectionStartFromPointer(f),u=this.selectionStart,c=this.selectionEnd;f.shiftKey?this.setSelectionStartEndWithShift(u,c,r):(this.selectionStart=r,this.selectionEnd=r),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(f){for(var r=this.getLocalPointer(f),u=0,c=0,n=0,s=0,i=0,o,d,l=0,g=this._textLines.length;l<g&&n<=r.y;l++)n+=this.getHeightOfLine(l)*this.scaleY,i=l,l>0&&(s+=this._textLines[l-1].length+this.missingNewlineOffset(l-1));o=this._getLineLeftOffset(i),c=o*this.scaleX,d=this._textLines[i],this.direction==="rtl"&&(r.x=this.width*this.scaleX-r.x+c);for(var m=0,b=d.length;m<b&&(u=c,c+=this.__charBounds[i][m].kernedWidth*this.scaleX,c<=r.x);m++)s++;return this._getNewSelectionStartFromOffset(r,u,c,s,b)},_getNewSelectionStartFromOffset:function(f,r,u,c,n){var s=f.x-r,i=u-f.x,o=i>s||i<0?0:1,d=c+o;return this.flipX&&(d=n-d),d>this._text.length&&(d=this._text.length),d}}),t.util.object.extend(t.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=t.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var f=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+f.top+"; left: "+f.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+f.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):t.document.body.appendChild(this.hiddenTextarea),t.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),t.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),t.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),t.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(t.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(f){if(this.isEditing){var r=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(f.keyCode in r)this[r[f.keyCode]](f);else if(f.keyCode in this.ctrlKeysMapDown&&(f.ctrlKey||f.metaKey))this[this.ctrlKeysMapDown[f.keyCode]](f);else return;f.stopImmediatePropagation(),f.preventDefault(),f.keyCode>=33&&f.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(f){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(f.keyCode in this.ctrlKeysMapUp&&(f.ctrlKey||f.metaKey))this[this.ctrlKeysMapUp[f.keyCode]](f);else return;f.stopImmediatePropagation(),f.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(f){var r=this.fromPaste;if(this.fromPaste=!1,f&&f.stopPropagation(),!!this.isEditing){var u=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,c=this._text.length,n=u.length,s,i,o=n-c,d=this.selectionStart,l=this.selectionEnd,g=d!==l,m,b,_;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var C=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),S=d>C.selectionStart;g?(s=this._text.slice(d,l),o+=l-d):n<c&&(S?s=this._text.slice(l+o,l):s=this._text.slice(d,d-o)),i=u.slice(C.selectionEnd-o,C.selectionEnd),s&&s.length&&(i.length&&(m=this.getSelectionStyles(d,d+1,!1),m=i.map(function(){return m[0]})),g?(b=d,_=l):S?(b=l-s.length,_=l):(b=l,_=l+s.length),this.removeStyleFromTo(b,_)),i.length&&(r&&i.join("")===t.copiedText&&!t.disableStyleCopyPaste&&(m=t.copiedTextStyle),this.insertNewStyleBlock(i,d,m)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(f){this.compositionStart=f.target.selectionStart,this.compositionEnd=f.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(t.copiedText=this.getSelectedText(),t.disableStyleCopyPaste?t.copiedTextStyle=null:t.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(f){return f&&f.clipboardData||t.window.clipboardData},_getWidthBeforeCursor:function(f,r){var u=this._getLineLeftOffset(f),c;return r>0&&(c=this.__charBounds[f][r-1],u+=c.left+c.width),u},getDownCursorOffset:function(f,r){var u=this._getSelectionForOffset(f,r),c=this.get2DCursorLocation(u),n=c.lineIndex;if(n===this._textLines.length-1||f.metaKey||f.keyCode===34)return this._text.length-u;var s=c.charIndex,i=this._getWidthBeforeCursor(n,s),o=this._getIndexOnLine(n+1,i),d=this._textLines[n].slice(s);return d.length+o+1+this.missingNewlineOffset(n)},_getSelectionForOffset:function(f,r){return f.shiftKey&&this.selectionStart!==this.selectionEnd&&r?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(f,r){var u=this._getSelectionForOffset(f,r),c=this.get2DCursorLocation(u),n=c.lineIndex;if(n===0||f.metaKey||f.keyCode===33)return-u;var s=c.charIndex,i=this._getWidthBeforeCursor(n,s),o=this._getIndexOnLine(n-1,i),d=this._textLines[n].slice(0,s),l=this.missingNewlineOffset(n-1);return-this._textLines[n-1].length+o-d.length+(1-l)},_getIndexOnLine:function(f,r){for(var u=this._textLines[f],c=this._getLineLeftOffset(f),n=c,s=0,i,o,d=0,l=u.length;d<l;d++)if(i=this.__charBounds[f][d].width,n+=i,n>r){o=!0;var g=n-i,m=n,b=Math.abs(g-r),_=Math.abs(m-r);s=_<b?d:d-1;break}return o||(s=u.length-1),s},moveCursorDown:function(f){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",f)},moveCursorUp:function(f){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",f)},_moveCursorUpOrDown:function(f,r){var u="get"+f+"CursorOffset",c=this[u](r,this._selectionDirection==="right");r.shiftKey?this.moveCursorWithShift(c):this.moveCursorWithoutShift(c),c!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(f){var r=this._selectionDirection==="left"?this.selectionStart+f:this.selectionEnd+f;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,r),f!==0},moveCursorWithoutShift:function(f){return f<0?(this.selectionStart+=f,this.selectionEnd=this.selectionStart):(this.selectionEnd+=f,this.selectionStart=this.selectionEnd),f!==0},moveCursorLeft:function(f){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",f)},_move:function(f,r,u){var c;if(f.altKey)c=this["findWordBoundary"+u](this[r]);else if(f.metaKey||f.keyCode===35||f.keyCode===36)c=this["findLineBoundary"+u](this[r]);else return this[r]+=u==="Left"?-1:1,!0;if(typeof c<"u"&&this[r]!==c)return this[r]=c,!0},_moveLeft:function(f,r){return this._move(f,r,"Left")},_moveRight:function(f,r){return this._move(f,r,"Right")},moveCursorLeftWithoutShift:function(f){var r=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(r=this._moveLeft(f,"selectionStart")),this.selectionEnd=this.selectionStart,r},moveCursorLeftWithShift:function(f){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(f,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(f,"selectionStart")},moveCursorRight:function(f){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",f)},_moveCursorLeftOrRight:function(f,r){var u="moveCursor"+f+"With";this._currentCursorOpacity=1,r.shiftKey?u+="Shift":u+="outShift",this[u](r)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(f){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(f,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(f,"selectionEnd")},moveCursorRightWithoutShift:function(f){var r=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(r=this._moveRight(f,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,r},removeChars:function(f,r){typeof r>"u"&&(r=f+1),this.removeStyleFromTo(f,r),this._text.splice(f,r-f),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(f,r,u,c){typeof c>"u"&&(c=u),c>u&&this.removeStyleFromTo(u,c);var n=t.util.string.graphemeSplit(f);this.insertNewStyleBlock(n,u,r),this._text=[].concat(this._text.slice(0,u),n,this._text.slice(c)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var f=t.util.toFixed,r=t.util.radiansToDegrees,u=t.util.calcRotateMatrix,c=t.util.transformPoint,n=/  +/g;t.util.object.extend(t.Text.prototype,{_toSVG:function(){var s=this._getSVGLeftTopOffsets(),i=this._getSVGTextAndBg(s.textTop,s.textLeft);return this._wrapSVGTextAndBg(i)},toSVG:function(s){var i=this._createBaseSVGMarkup(this._toSVG(),{reviver:s,noStyle:!0,withShadow:!0}),o=this.path;return o?i+o._createBaseSVGMarkup(o._toSVG(),{reviver:s,withShadow:!0}):i},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(s){var i=!0,o=this.getSvgTextDecoration(this);return[s.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",o?'text-decoration="'+o+'" ':"",'style="',this.getSvgStyles(i),'"',this.addPaintOrder()," >",s.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(s,i){var o=[],d=[],l=s,g;this._setSVGBg(d);for(var m=0,b=this._textLines.length;m<b;m++)g=this._getLineLeftOffset(m),(this.textBackgroundColor||this.styleHas("textBackgroundColor",m))&&this._setSVGTextLineBg(d,m,i+g,l),this._setSVGTextLineText(o,m,i+g,l),l+=this.getHeightOfLine(m);return{textSpans:o,textBgRects:d}},_createTextCharSpan:function(s,i,o,d,l){var g=s!==s.trim()||s.match(n),m=this.getSvgSpanStyles(i,g),b=m?'style="'+m+'"':"",_=i.deltaY,C="",S=t.Object.NUM_FRACTION_DIGITS,w="";if(_&&(C=' dy="'+f(_,S)+'" '),l.renderLeft!==void 0){var P=l.angle;w=' rotate="'+f(r(P),t.Object.NUM_FRACTION_DIGITS)+'" ';var M=l.width/2,N=u({angle:r(P)});N[4]=l.renderLeft,N[5]=l.renderTop;var X=c({x:-M,y:0},N);o=X.x,d=X.y}return['<tspan x="',f(o,S),'" y="',f(d,S),'" ',C,b,w,">",t.util.string.escapeXml(s),"</tspan>"].join("")},_setSVGTextLineText:function(s,i,o,d){var l=this.getHeightOfLine(i),g=this.textAlign.indexOf("justify")!==-1,m,b,_="",C,S,w=0,P=this._textLines[i],M;d+=l*(1-this._fontSizeFraction)/this.lineHeight;for(var N=0,X=P.length-1;N<=X;N++)M=N===X||this.charSpacing||this.path,_+=P[N],C=this.__charBounds[i][N],w===0?(o+=C.kernedWidth-C.width,w+=C.width):w+=C.kernedWidth,g&&!M&&this._reSpaceAndTab.test(P[N])&&(M=!0),M||(m=m||this.getCompleteStyleDeclaration(i,N),b=this.getCompleteStyleDeclaration(i,N+1),M=t.util.hasStyleChanged(m,b,!0)),M&&(S=this._getStyleDeclaration(i,N)||{},s.push(this._createTextCharSpan(_,S,o,d,C)),_="",m=b,o+=w,w=0)},_pushTextBgRect:function(s,i,o,d,l,g){var m=t.Object.NUM_FRACTION_DIGITS;s.push("		<rect ",this._getFillAttributes(i),' x="',f(o,m),'" y="',f(d,m),'" width="',f(l,m),'" height="',f(g,m),`"></rect>
`)},_setSVGTextLineBg:function(s,i,o,d){for(var l=this._textLines[i],g=this.getHeightOfLine(i)/this.lineHeight,m=0,b=0,_,C,S=this.getValueOfPropertyAt(i,0,"textBackgroundColor"),w=0,P=l.length;w<P;w++)_=this.__charBounds[i][w],C=this.getValueOfPropertyAt(i,w,"textBackgroundColor"),C!==S?(S&&this._pushTextBgRect(s,S,o+b,d,m,g),b=_.left,m=_.width,S=C):m+=_.kernedWidth;C&&this._pushTextBgRect(s,C,o+b,d,m,g)},_getFillAttributes:function(s){var i=s&&typeof s=="string"?new t.Color(s):"";return!i||!i.getSource()||i.getAlpha()===1?'fill="'+s+'"':'opacity="'+i.getAlpha()+'" fill="'+i.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(s){for(var i=0,o=0,d=0;d<s;d++)i+=this.getHeightOfLine(d);return o=this.getHeightOfLine(d),{lineTop:i,offset:(this._fontSizeMult-this._fontSizeFraction)*o/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(s){var i=t.Object.prototype.getSvgStyles.call(this,s);return i+" white-space: pre;"}})}(),function(f){var r=f.fabric||(f.fabric={});r.Textbox=r.util.createClass(r.IText,r.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:r.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(u){for(var c=0,n=0,s=0,i={},o=0;o<u.graphemeLines.length;o++)u.graphemeText[s]===`
`&&o>0?(n=0,s++,c++):!this.splitByGrapheme&&this._reSpaceAndTab.test(u.graphemeText[s])&&o>0&&(n++,s++),i[o]={line:c,offset:n},s+=u.graphemeLines[o].length,n+=u.graphemeLines[o].length;return i},styleHas:function(u,c){if(this._styleMap&&!this.isWrapping){var n=this._styleMap[c];n&&(c=n.line)}return r.Text.prototype.styleHas.call(this,u,c)},isEmptyStyles:function(u){if(!this.styles)return!0;var c=0,n=u+1,s,i,o=!1,d=this._styleMap[u],l=this._styleMap[u+1];d&&(u=d.line,c=d.offset),l&&(n=l.line,o=n===u,s=l.offset),i=typeof u>"u"?this.styles:{line:this.styles[u]};for(var g in i)for(var m in i[g])if(m>=c&&(!o||m<s))for(var b in i[g][m])return!1;return!0},_getStyleDeclaration:function(u,c){if(this._styleMap&&!this.isWrapping){var n=this._styleMap[u];if(!n)return null;u=n.line,c=n.offset+c}return this.callSuper("_getStyleDeclaration",u,c)},_setStyleDeclaration:function(u,c,n){var s=this._styleMap[u];u=s.line,c=s.offset+c,this.styles[u][c]=n},_deleteStyleDeclaration:function(u,c){var n=this._styleMap[u];u=n.line,c=n.offset+c,delete this.styles[u][c]},_getLineStyle:function(u){var c=this._styleMap[u];return!!this.styles[c.line]},_setLineStyle:function(u){var c=this._styleMap[u];this.styles[c.line]={}},_wrapText:function(u,c){var n=[],s;for(this.isWrapping=!0,s=0;s<u.length;s++)n=n.concat(this._wrapLine(u[s],s,c));return this.isWrapping=!1,n},_measureWord:function(u,c,n){var s=0,i,o=!0;n=n||0;for(var d=0,l=u.length;d<l;d++){var g=this._getGraphemeBox(u[d],c,d+n,i,o);s+=g.kernedWidth,i=u[d]}return s},_wrapLine:function(u,c,n,N){var i=0,o=this.splitByGrapheme,d=[],l=[],g=o?r.util.string.graphemeSplit(u):u.split(this._wordJoiners),m="",b=0,_=o?"":" ",C=0,S=0,w=0,P=!0,M=this._getWidthOfCharSpacing(),N=N||0;g.length===0&&g.push([]),n-=N;for(var X=0;X<g.length;X++)m=o?g[X]:r.util.string.graphemeSplit(g[X]),C=this._measureWord(m,c,b),b+=m.length,i+=S+C-M,i>n&&!P?(d.push(l),l=[],i=C,P=!0):i+=M,!P&&!o&&l.push(_),l=l.concat(m),S=o?0:this._measureWord([_],c,b),b++,P=!1,C>w&&(w=C);return X&&d.push(l),w+N>this.dynamicMinWidth&&(this.dynamicMinWidth=w-M+N),d},isEndOfWrapping:function(u){return!this._styleMap[u+1]||this._styleMap[u+1].line!==this._styleMap[u].line},missingNewlineOffset:function(u,c){return this.splitByGrapheme&&!c?this.isEndOfWrapping(u)?1:0:1},_splitTextIntoLines:function(u){for(var c=r.Text.prototype._splitTextIntoLines.call(this,u),n=this._wrapText(c.lines,this.width),s=new Array(n.length),i=0;i<n.length;i++)s[i]=n[i].join("");return c.lines=s,c.graphemeLines=n,c},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var u={};for(var c in this._styleMap)this._textLines[c]&&(u[this._styleMap[c].line]=1);for(var c in this.styles)u[c]||delete this.styles[c]},toObject:function(u){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(u))}}),r.Textbox.fromObject=function(u,c){var n=r.util.stylesFromArray(u.styles,u.text),s=Object.assign({},u,{styles:n});return delete s.path,r.Object._fromObject("Textbox",s,function(i){u.path?r.Object._fromObject("Path",u.path,function(o){i.set("path",o),c(i)},"path"):c(i)},"text")}}(e),function(){var f=t.controlsUtils,r=f.scaleSkewCursorStyleHandler,u=f.scaleCursorStyleHandler,c=f.scalingEqually,n=f.scalingYOrSkewingX,s=f.scalingXOrSkewingY,i=f.scaleOrSkewActionName,o=t.Object.prototype.controls;if(o.ml=new t.Control({x:-.5,y:0,cursorStyleHandler:r,actionHandler:s,getActionName:i}),o.mr=new t.Control({x:.5,y:0,cursorStyleHandler:r,actionHandler:s,getActionName:i}),o.mb=new t.Control({x:0,y:.5,cursorStyleHandler:r,actionHandler:n,getActionName:i}),o.mt=new t.Control({x:0,y:-.5,cursorStyleHandler:r,actionHandler:n,getActionName:i}),o.tl=new t.Control({x:-.5,y:-.5,cursorStyleHandler:u,actionHandler:c}),o.tr=new t.Control({x:.5,y:-.5,cursorStyleHandler:u,actionHandler:c}),o.bl=new t.Control({x:-.5,y:.5,cursorStyleHandler:u,actionHandler:c}),o.br=new t.Control({x:.5,y:.5,cursorStyleHandler:u,actionHandler:c}),o.mtr=new t.Control({x:0,y:-.5,actionHandler:f.rotationWithSnapping,cursorStyleHandler:f.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),t.Textbox){var d=t.Textbox.prototype.controls={};d.mtr=o.mtr,d.tr=o.tr,d.br=o.br,d.tl=o.tl,d.bl=o.bl,d.mt=o.mt,d.mb=o.mb,d.mr=new t.Control({x:.5,y:0,actionHandler:f.changeWidth,cursorStyleHandler:r,actionName:"resizing"}),d.ml=new t.Control({x:-.5,y:0,actionHandler:f.changeWidth,cursorStyleHandler:r,actionName:"resizing"})}}()}(Zr)),Zr}var im=nm();const Er=zd("counter",{state:()=>({tool:"pencil",canvas:null}),getters:{},actions:{setTool(e){this.tool=="text"&&this.canvas.off("mouse:down",this.enterTextEdit),this.tool=e,this.canvas.isDrawingMode=this.tool=="pencil",this.tool=="text"&&this.canvas.on("mouse:down",this.enterTextEdit)},enterTextEdit(e){const t=this.canvas.getPointer(e.e),a=new fabric.IText("",{left:t.x,top:t.y,fontSize:20,fill:this.canvas.freeDrawingBrush.color,editable:!0});this.canvas.add(a).setActiveObject(a),a.enterEditing()}}}),ga=(e,t)=>{const a=e.__vccOpts||e;for(const[h,v]of t)a[h]=v;return a},rm={class:"ma-3"},sm={__name:"Canvas",setup(e){const t=be(null),a=Er();Ct(()=>{h(),a.canvas=new im.fabric.Canvas(t.value,{isDrawingMode:!0})});function h(){t.value.width=window.innerWidth-335,t.value.height=window.innerHeight*.92}return(v,p)=>(An(),bc("div",rm,[ta("canvas",{ref_key:"canvasEl",ref:t,width:"800",height:"600"},null,512)]))}},am=ga(sm,[["__scopeId","data-v-f0618570"]]),om=ue({color:{type:Object},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300},...ke()},"VColorPickerCanvas"),lm=St({name:"VColorPickerCanvas",props:om(),emits:{"update:color":e=>!0,"update:position":e=>!0},setup(e,t){let{emit:a}=t;const h=ye(!1),v=be(),p=ye(parseFloat(e.width)),y=ye(parseFloat(e.height)),f=be({x:0,y:0}),r=U({get:()=>f.value,set(l){var b,_;if(!v.value)return;const{x:g,y:m}=l;f.value=l,a("update:color",{h:((b=e.color)==null?void 0:b.h)??0,s:Kt(g,0,p.value)/p.value,v:1-Kt(m,0,y.value)/y.value,a:((_=e.color)==null?void 0:_.a)??1})}}),u=U(()=>{const{x:l,y:g}=r.value,m=parseInt(e.dotSize,10)/2;return{width:_e(e.dotSize),height:_e(e.dotSize),transform:`translate(${_e(l-m)}, ${_e(g-m)})`}}),{resizeRef:c}=da(l=>{var b;if(!((b=c.el)!=null&&b.offsetParent))return;const{width:g,height:m}=l[0].contentRect;p.value=g,y.value=m});function n(l,g,m){const{left:b,top:_,width:C,height:S}=m;r.value={x:Kt(l-b,0,C),y:Kt(g-_,0,S)}}function s(l){l.type==="mousedown"&&l.preventDefault(),!e.disabled&&(i(l),window.addEventListener("mousemove",i),window.addEventListener("mouseup",o),window.addEventListener("touchmove",i),window.addEventListener("touchend",o))}function i(l){if(e.disabled||!v.value)return;h.value=!0;const g=iv(l);n(g.clientX,g.clientY,v.value.getBoundingClientRect())}function o(){window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",o),window.removeEventListener("touchmove",i),window.removeEventListener("touchend",o)}function d(){var _;if(!v.value)return;const l=v.value,g=l.getContext("2d");if(!g)return;const m=g.createLinearGradient(0,0,l.width,0);m.addColorStop(0,"hsla(0, 0%, 100%, 1)"),m.addColorStop(1,`hsla(${((_=e.color)==null?void 0:_.h)??0}, 100%, 50%, 1)`),g.fillStyle=m,g.fillRect(0,0,l.width,l.height);const b=g.createLinearGradient(0,0,0,l.height);b.addColorStop(0,"hsla(0, 0%, 0%, 0)"),b.addColorStop(1,"hsla(0, 0%, 0%, 1)"),g.fillStyle=b,g.fillRect(0,0,l.width,l.height)}return Ce(()=>{var l;return(l=e.color)==null?void 0:l.h},d,{immediate:!0}),Ce(()=>[p.value,y.value],(l,g)=>{d(),f.value={x:r.value.x*l[0]/g[0],y:r.value.y*l[1]/g[1]}},{flush:"post"}),Ce(()=>e.color,()=>{if(h.value){h.value=!1;return}f.value=e.color?{x:e.color.s*p.value,y:(1-e.color.v)*y.value}:{x:0,y:0}},{deep:!0,immediate:!0}),Ct(()=>d()),xe(()=>Y("div",{ref:c,class:["v-color-picker-canvas",e.class],style:e.style,onMousedown:s,onTouchstartPassive:s},[Y("canvas",{ref:v,width:p.value,height:y.value},null),e.color&&Y("div",{class:["v-color-picker-canvas__dot",{"v-color-picker-canvas__dot--disabled":e.disabled}],style:u.value},null)])),{}}}),sn=ue({border:[Boolean,Number,String]},"border");function an(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Et();return{borderClasses:U(()=>{const h=Pe(e)?e.value:e.border,v=[];if(h===!0||h==="")v.push(`${t}--border`);else if(typeof h=="string"||h===0)for(const p of String(h).split(" "))v.push(`border-${p}`);return v})}}const cm=[null,"default","comfortable","compact"],ni=ue({density:{type:String,default:"default",validator:e=>cm.includes(e)}},"density");function ii(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Et();return{densityClasses:U(()=>`${t}--density-${e.density}`)}}const on=ue({elevation:{type:[Number,String],validator(e){const t=parseInt(e);return!isNaN(t)&&t>=0&&t<=24}}},"elevation");function ln(e){return{elevationClasses:U(()=>{const a=Pe(e)?e.value:e.elevation,h=[];return a==null||h.push(`elevation-${a}`),h})}}const At=ue({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function Dt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Et();return{roundedClasses:U(()=>{const h=Pe(e)?e.value:e.rounded,v=Pe(e)?e.value:e.tile,p=[];if(h===!0||h==="")p.push(`${t}--rounded`);else if(typeof h=="string"||h===0)for(const y of String(h).split(" "))p.push(`rounded-${y}`);else(v||h===!1)&&p.push("rounded-0");return p})}}function va(e){return Qc(()=>{const t=[],a={};if(e.value.background)if(bs(e.value.background)){if(a.backgroundColor=e.value.background,!e.value.text&&Tv(e.value.background)){const h=gt(e.value.background);if(h.a==null||h.a===1){const v=fu(h);a.color=v,a.caretColor=v}}}else t.push(`bg-${e.value.background}`);return e.value.text&&(bs(e.value.text)?(a.color=e.value.text,a.caretColor=e.value.text):t.push(`text-${e.value.text}`)),{colorClasses:t,colorStyles:a}})}function kn(e,t){const a=U(()=>({text:Pe(e)?e.value:null})),{colorClasses:h,colorStyles:v}=va(a);return{textColorClasses:h,textColorStyles:v}}function Qt(e,t){const a=U(()=>({background:Pe(e)?e.value:null})),{colorClasses:h,colorStyles:v}=va(a);return{backgroundColorClasses:h,backgroundColorStyles:v}}const um=["elevated","flat","tonal","outlined","text","plain"];function ma(e,t){return Y(Re,null,[e&&Y("span",{key:"overlay",class:`${t}__overlay`},null),Y("span",{key:"underlay",class:`${t}__underlay`},null)])}const ji=ue({color:String,variant:{type:String,default:"elevated",validator:e=>um.includes(e)}},"variant");function pa(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Et();const a=U(()=>{const{variant:p}=Ve(e);return`${t}--variant-${p}`}),{colorClasses:h,colorStyles:v}=va(U(()=>{const{variant:p,color:y}=Ve(e);return{[["elevated","flat"].includes(p)?"background":"text"]:y}}));return{colorClasses:h,colorStyles:v,variantClasses:a}}const _u=ue({baseColor:String,divided:Boolean,...sn(),...ke(),...ni(),...on(),...At(),...Ze(),...rt(),...ji()},"VBtnGroup"),$o=we()({name:"VBtnGroup",props:_u(),setup(e,t){let{slots:a}=t;const{themeClasses:h}=ct(e),{densityClasses:v}=ii(e),{borderClasses:p}=an(e),{elevationClasses:y}=ln(e),{roundedClasses:f}=Dt(e);ti({VBtn:{height:"auto",baseColor:ge(e,"baseColor"),color:ge(e,"color"),density:ge(e,"density"),flat:!0,variant:ge(e,"variant")}}),xe(()=>Y(e.tag,{class:["v-btn-group",{"v-btn-group--divided":e.divided},h.value,p.value,v.value,y.value,f.value,e.class],style:e.style},a))}}),fm=ue({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),hm=ue({value:null,disabled:Boolean,selectedClass:String},"group-item");function dm(e,t){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const h=He("useGroupItem");if(!h)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const v=Dn();ze(Symbol.for(`${t.description}:id`),v);const p=Ae(t,null);if(!p){if(!a)return p;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${t.description}`)}const y=ge(e,"value"),f=U(()=>!!(p.disabled.value||e.disabled));p.register({id:v,value:y,disabled:f},h),it(()=>{p.unregister(v)});const r=U(()=>p.isSelected(v)),u=U(()=>p.items.value[0].id===v),c=U(()=>p.items.value[p.items.value.length-1].id===v),n=U(()=>r.value&&[p.selectedClass.value,e.selectedClass]);return Ce(r,s=>{h.emit("group:selected",{value:s})},{flush:"sync"}),{id:v,isSelected:r,isFirst:u,isLast:c,toggle:()=>p.select(v,!r.value),select:s=>p.select(v,s),selectedClass:n,value:y,disabled:f,group:p}}function gm(e,t){let a=!1;const h=Ne([]),v=vt(e,"modelValue",[],s=>s==null?[]:Cu(h,Cn(s)),s=>{const i=mm(h,s);return e.multiple?i:i[0]}),p=He("useGroup");function y(s,i){const o=s,d=Symbol.for(`${t.description}:id`),g=Yn(d,p==null?void 0:p.vnode).indexOf(i);Ve(o.value)==null&&(o.value=g,o.useIndexAsValue=!0),g>-1?h.splice(g,0,o):h.push(o)}function f(s){if(a)return;r();const i=h.findIndex(o=>o.id===s);h.splice(i,1)}function r(){const s=h.find(i=>!i.disabled);s&&e.mandatory==="force"&&!v.value.length&&(v.value=[s.id])}Ct(()=>{r()}),it(()=>{a=!0}),qs(()=>{for(let s=0;s<h.length;s++)h[s].useIndexAsValue&&(h[s].value=s)});function u(s,i){const o=h.find(d=>d.id===s);if(!(i&&(o!=null&&o.disabled)))if(e.multiple){const d=v.value.slice(),l=d.findIndex(m=>m===s),g=~l;if(i=i??!g,g&&e.mandatory&&d.length<=1||!g&&e.max!=null&&d.length+1>e.max)return;l<0&&i?d.push(s):l>=0&&!i&&d.splice(l,1),v.value=d}else{const d=v.value.includes(s);if(e.mandatory&&d)return;v.value=i??!d?[s]:[]}}function c(s){if(e.multiple,v.value.length){const i=v.value[0],o=h.findIndex(g=>g.id===i);let d=(o+s)%h.length,l=h[d];for(;l.disabled&&d!==o;)d=(d+s)%h.length,l=h[d];if(l.disabled)return;v.value=[h[d].id]}else{const i=h.find(o=>!o.disabled);i&&(v.value=[i.id])}}const n={register:y,unregister:f,selected:v,select:u,disabled:ge(e,"disabled"),prev:()=>c(h.length-1),next:()=>c(1),isSelected:s=>v.value.includes(s),selectedClass:U(()=>e.selectedClass),items:U(()=>h),getItemIndex:s=>vm(h,s)};return ze(t,n),n}function vm(e,t){const a=Cu(e,[t]);return a.length?e.findIndex(h=>h.id===a[0]):-1}function Cu(e,t){const a=[];return t.forEach(h=>{const v=e.find(y=>Bi(h,y.value)),p=e[h];(v==null?void 0:v.value)!=null?a.push(v.id):p!=null&&a.push(p.id)}),a}function mm(e,t){const a=[];return t.forEach(h=>{const v=e.findIndex(p=>p.id===h);if(~v){const p=e[v];a.push(p.value!=null?p.value:v)}}),a}const Su=Symbol.for("vuetify:v-btn-toggle"),pm=ue({..._u(),...fm()},"VBtnToggle");we()({name:"VBtnToggle",props:pm(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const{isSelected:h,next:v,prev:p,select:y,selected:f}=gm(e,Su);return xe(()=>{const r=$o.filterProps(e);return Y($o,nt({class:["v-btn-toggle",e.class]},r,{style:e.style}),{default:()=>{var u;return[(u=a.default)==null?void 0:u.call(a,{isSelected:h,next:v,prev:p,select:y,selected:f})]}})}),{next:v,prev:p,select:y}}});const ym=ue({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),yt=we(!1)({name:"VDefaultsProvider",props:ym(),setup(e,t){let{slots:a}=t;const{defaults:h,disabled:v,reset:p,root:y,scoped:f}=yr(e);return ti(h,{reset:p,root:y,scoped:f,disabled:v}),()=>{var r;return(r=a.default)==null?void 0:r.call(a)}}}),bm={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper",upload:"mdi-cloud-upload"},_m={component:e=>rn(xu,{...e,class:"mdi"})},Je=[String,Function,Object,Array],Cs=Symbol.for("vuetify:icons"),Ar=ue({icon:{type:Je},tag:{type:String,required:!0}},"icon"),Ko=we()({name:"VComponentIcon",props:Ar(),setup(e,t){let{slots:a}=t;return()=>{const h=e.icon;return Y(e.tag,null,{default:()=>{var v;return[e.icon?Y(h,null,null):(v=a.default)==null?void 0:v.call(a)]}})}}}),wu=St({name:"VSvgIcon",inheritAttrs:!1,props:Ar(),setup(e,t){let{attrs:a}=t;return()=>Y(e.tag,nt(a,{style:null}),{default:()=>[Y("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(e.icon)?e.icon.map(h=>Array.isArray(h)?Y("path",{d:h[0],"fill-opacity":h[1]},null):Y("path",{d:h},null)):Y("path",{d:e.icon},null)])]})}});St({name:"VLigatureIcon",props:Ar(),setup(e){return()=>Y(e.tag,null,{default:()=>[e.icon]})}});const xu=St({name:"VClassIcon",props:Ar(),setup(e){return()=>Y(e.tag,{class:e.icon},null)}});function Cm(){return{svg:{component:wu},class:{component:xu}}}function Sm(e){const t=Cm(),a=(e==null?void 0:e.defaultSet)??"mdi";return a==="mdi"&&!t.mdi&&(t.mdi=_m),lt({defaultSet:a,sets:t,aliases:{...bm,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},e)}const wm=e=>{const t=Ae(Cs);if(!t)throw new Error("Missing Vuetify Icons provide!");return{iconData:U(()=>{var r;const h=Ve(e);if(!h)return{component:Ko};let v=h;if(typeof v=="string"&&(v=v.trim(),v.startsWith("$")&&(v=(r=t.aliases)==null?void 0:r[v.slice(1)])),Array.isArray(v))return{component:wu,icon:v};if(typeof v!="string")return{component:Ko,icon:v};const p=Object.keys(t.sets).find(u=>typeof v=="string"&&v.startsWith(`${u}:`)),y=p?v.slice(p.length+1):v;return{component:t.sets[p??t.defaultSet].component,icon:y}})}},xm=["x-small","small","default","large","x-large"],Dr=ue({size:{type:[String,Number],default:"default"}},"size");function Mr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Et();return Qc(()=>{let a,h;return ps(xm,e.size)?a=`${t}--size-${e.size}`:e.size&&(h={width:_e(e.size),height:_e(e.size)}),{sizeClasses:a,sizeStyles:h}})}const Tm=ue({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:Je,...ke(),...Dr(),...Ze({tag:"i"}),...rt()},"VIcon"),Pt=we()({name:"VIcon",props:Tm(),setup(e,t){let{attrs:a,slots:h}=t;const v=be(),{themeClasses:p}=ct(e),{iconData:y}=wm(U(()=>v.value||e.icon)),{sizeClasses:f}=Mr(e),{textColorClasses:r,textColorStyles:u}=kn(ge(e,"color"));return xe(()=>{var s,i;const c=(s=h.default)==null?void 0:s.call(h);c&&(v.value=(i=Zc(c).filter(o=>o.type===Ii&&o.children&&typeof o.children=="string")[0])==null?void 0:i.children);const n=!!(a.onClick||a.onClickOnce);return Y(y.value.component,{tag:e.tag,icon:y.value.icon,class:["v-icon","notranslate",p.value,f.value,r.value,{"v-icon--clickable":n,"v-icon--disabled":e.disabled,"v-icon--start":e.start,"v-icon--end":e.end},e.class],style:[f.value?void 0:{fontSize:_e(e.size),height:_e(e.size),width:_e(e.size)},u.value,e.style],role:n?"button":void 0,"aria-hidden":!n,tabindex:n?e.disabled?-1:0:void 0},{default:()=>[c]})}),{}}});function Om(e,t){const a=be(),h=ye(!1);if(la){const v=new IntersectionObserver(p=>{h.value=!!p.find(y=>y.isIntersecting)},t);it(()=>{v.disconnect()}),Ce(a,(p,y)=>{y&&(v.unobserve(y),h.value=!1),p&&v.observe(p)},{flush:"post"})}return{intersectionRef:a,isIntersecting:h}}const km=ue({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...ke(),...Dr(),...Ze({tag:"div"}),...rt()},"VProgressCircular"),Pm=we()({name:"VProgressCircular",props:km(),setup(e,t){let{slots:a}=t;const h=20,v=2*Math.PI*h,p=be(),{themeClasses:y}=ct(e),{sizeClasses:f,sizeStyles:r}=Mr(e),{textColorClasses:u,textColorStyles:c}=kn(ge(e,"color")),{textColorClasses:n,textColorStyles:s}=kn(ge(e,"bgColor")),{intersectionRef:i,isIntersecting:o}=Om(),{resizeRef:d,contentRect:l}=da(),g=U(()=>Math.max(0,Math.min(100,parseFloat(e.modelValue)))),m=U(()=>Number(e.width)),b=U(()=>r.value?Number(e.size):l.value?l.value.width:Math.max(m.value,32)),_=U(()=>h/(1-m.value/b.value)*2),C=U(()=>m.value/b.value*_.value),S=U(()=>_e((100-g.value)/100*v));return En(()=>{i.value=p.value,d.value=p.value}),xe(()=>Y(e.tag,{ref:p,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":o.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},y.value,f.value,u.value,e.class],style:[r.value,c.value,e.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:g.value},{default:()=>[Y("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${_.value} ${_.value}`},[Y("circle",{class:["v-progress-circular__underlay",n.value],style:s.value,fill:"transparent",cx:"50%",cy:"50%",r:h,"stroke-width":C.value,"stroke-dasharray":v,"stroke-dashoffset":0},null),Y("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:h,"stroke-width":C.value,"stroke-dasharray":v,"stroke-dashoffset":S.value},null)]),a.default&&Y("div",{class:"v-progress-circular__content"},[a.default({value:g.value})])]})),{}}}),qo={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},Tu=ue({location:String},"location");function Ou(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=arguments.length>2?arguments[2]:void 0;const{isRtl:h}=Nt();return{locationStyles:U(()=>{if(!e.location)return{};const{side:p,align:y}=uv(e.location.split(" ").length>1?e.location:`${e.location} center`,h.value);function f(u){return a?a(u):0}const r={};return p!=="center"&&(t?r[qo[p]]=`calc(100% - ${f(p)}px)`:r[p]=0),y!=="center"?t?r[qo[y]]=`calc(100% - ${f(y)}px)`:r[y]=0:(p==="center"?r.top=r.left="50%":r[{top:"left",bottom:"left",left:"top",right:"top"}[p]]="50%",r.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[p]),r})}}const Em=ue({loading:[Boolean,String]},"loader");function Am(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Et();return{loaderClasses:U(()=>({[`${t}--loading`]:e.loading}))}}const Dm=["static","relative","fixed","absolute","sticky"],ku=ue({position:{type:String,validator:e=>Dm.includes(e)}},"position");function Pu(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Et();return{positionClasses:U(()=>e.position?`${t}--${e.position}`:void 0)}}function Mm(){const e=He("useRoute");return U(()=>{var t;return(t=e==null?void 0:e.proxy)==null?void 0:t.$route})}function Fm(){var e,t;return(t=(e=He("useRouter"))==null?void 0:e.proxy)==null?void 0:t.$router}function Eu(e,t){var n,s;const a=mh("RouterLink"),h=U(()=>!!(e.href||e.to)),v=U(()=>(h==null?void 0:h.value)||Do(t,"click")||Do(e,"click"));if(typeof a=="string"||!("useLink"in a)){const i=ge(e,"href");return{isLink:h,isClickable:v,href:i,linkProps:Ne({href:i})}}const p=U(()=>({...e,to:ge(()=>e.to||"")})),y=a.useLink(p.value),f=U(()=>e.to?y:void 0),r=Mm(),u=U(()=>{var i,o,d;return f.value?e.exact?r.value?((d=f.value.isExactActive)==null?void 0:d.value)&&Bi(f.value.route.value.query,r.value.query):((o=f.value.isExactActive)==null?void 0:o.value)??!1:((i=f.value.isActive)==null?void 0:i.value)??!1:!1}),c=U(()=>{var i;return e.to?(i=f.value)==null?void 0:i.route.value.href:e.href});return{isLink:h,isClickable:v,isActive:u,route:(n=f.value)==null?void 0:n.route,navigate:(s=f.value)==null?void 0:s.navigate,href:c,linkProps:Ne({href:c,"aria-current":U(()=>u.value?"page":void 0)})}}const Au=ue({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");function Im(e,t){Ce(()=>{var a;return(a=e.isActive)==null?void 0:a.value},a=>{e.isLink.value&&a&&t&&nn(()=>{t(!0)})},{immediate:!0})}const Ss=Symbol("rippleStop"),Lm=80;function Jo(e,t){e.style.transform=t,e.style.webkitTransform=t}function ws(e){return e.constructor.name==="TouchEvent"}function Du(e){return e.constructor.name==="KeyboardEvent"}const Rm=function(e,t){var n;let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},h=0,v=0;if(!Du(e)){const s=t.getBoundingClientRect(),i=ws(e)?e.touches[e.touches.length-1]:e;h=i.clientX-s.left,v=i.clientY-s.top}let p=0,y=.3;(n=t._ripple)!=null&&n.circle?(y=.15,p=t.clientWidth/2,p=a.center?p:p+Math.sqrt((h-p)**2+(v-p)**2)/4):p=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const f=`${(t.clientWidth-p*2)/2}px`,r=`${(t.clientHeight-p*2)/2}px`,u=a.center?f:`${h-p}px`,c=a.center?r:`${v-p}px`;return{radius:p,scale:y,x:u,y:c,centerX:f,centerY:r}},ur={show(e,t){var i;let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((i=t==null?void 0:t._ripple)!=null&&i.enabled))return;const h=document.createElement("span"),v=document.createElement("span");h.appendChild(v),h.className="v-ripple__container",a.class&&(h.className+=` ${a.class}`);const{radius:p,scale:y,x:f,y:r,centerX:u,centerY:c}=Rm(e,t,a),n=`${p*2}px`;v.className="v-ripple__animation",v.style.width=n,v.style.height=n,t.appendChild(h);const s=window.getComputedStyle(t);s&&s.position==="static"&&(t.style.position="relative",t.dataset.previousPosition="static"),v.classList.add("v-ripple__animation--enter"),v.classList.add("v-ripple__animation--visible"),Jo(v,`translate(${f}, ${r}) scale3d(${y},${y},${y})`),v.dataset.activated=String(performance.now()),setTimeout(()=>{v.classList.remove("v-ripple__animation--enter"),v.classList.add("v-ripple__animation--in"),Jo(v,`translate(${u}, ${c}) scale3d(1,1,1)`)},0)},hide(e){var p;if(!((p=e==null?void 0:e._ripple)!=null&&p.enabled))return;const t=e.getElementsByClassName("v-ripple__animation");if(t.length===0)return;const a=t[t.length-1];if(a.dataset.isHiding)return;a.dataset.isHiding="true";const h=performance.now()-Number(a.dataset.activated),v=Math.max(250-h,0);setTimeout(()=>{a.classList.remove("v-ripple__animation--in"),a.classList.add("v-ripple__animation--out"),setTimeout(()=>{var f;e.getElementsByClassName("v-ripple__animation").length===1&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),((f=a.parentNode)==null?void 0:f.parentNode)===e&&e.removeChild(a.parentNode)},300)},v)}};function Mu(e){return typeof e>"u"||!!e}function Ei(e){const t={},a=e.currentTarget;if(!(!(a!=null&&a._ripple)||a._ripple.touched||e[Ss])){if(e[Ss]=!0,ws(e))a._ripple.touched=!0,a._ripple.isTouch=!0;else if(a._ripple.isTouch)return;if(t.center=a._ripple.centered||Du(e),a._ripple.class&&(t.class=a._ripple.class),ws(e)){if(a._ripple.showTimerCommit)return;a._ripple.showTimerCommit=()=>{ur.show(e,a,t)},a._ripple.showTimer=window.setTimeout(()=>{var h;(h=a==null?void 0:a._ripple)!=null&&h.showTimerCommit&&(a._ripple.showTimerCommit(),a._ripple.showTimerCommit=null)},Lm)}else ur.show(e,a,t)}}function Zo(e){e[Ss]=!0}function at(e){const t=e.currentTarget;if(t!=null&&t._ripple){if(window.clearTimeout(t._ripple.showTimer),e.type==="touchend"&&t._ripple.showTimerCommit){t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,t._ripple.showTimer=window.setTimeout(()=>{at(e)});return}window.setTimeout(()=>{t._ripple&&(t._ripple.touched=!1)}),ur.hide(t)}}function Fu(e){const t=e.currentTarget;t!=null&&t._ripple&&(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}let Ai=!1;function Iu(e){!Ai&&(e.keyCode===ko.enter||e.keyCode===ko.space)&&(Ai=!0,Ei(e))}function Lu(e){Ai=!1,at(e)}function Ru(e){Ai&&(Ai=!1,at(e))}function Bu(e,t,a){const{value:h,modifiers:v}=t,p=Mu(h);if(p||ur.hide(e),e._ripple=e._ripple??{},e._ripple.enabled=p,e._ripple.centered=v.center,e._ripple.circle=v.circle,qg(h)&&h.class&&(e._ripple.class=h.class),p&&!a){if(v.stop){e.addEventListener("touchstart",Zo,{passive:!0}),e.addEventListener("mousedown",Zo);return}e.addEventListener("touchstart",Ei,{passive:!0}),e.addEventListener("touchend",at,{passive:!0}),e.addEventListener("touchmove",Fu,{passive:!0}),e.addEventListener("touchcancel",at),e.addEventListener("mousedown",Ei),e.addEventListener("mouseup",at),e.addEventListener("mouseleave",at),e.addEventListener("keydown",Iu),e.addEventListener("keyup",Lu),e.addEventListener("blur",Ru),e.addEventListener("dragstart",at,{passive:!0})}else!p&&a&&ju(e)}function ju(e){e.removeEventListener("mousedown",Ei),e.removeEventListener("touchstart",Ei),e.removeEventListener("touchend",at),e.removeEventListener("touchmove",Fu),e.removeEventListener("touchcancel",at),e.removeEventListener("mouseup",at),e.removeEventListener("mouseleave",at),e.removeEventListener("keydown",Iu),e.removeEventListener("keyup",Lu),e.removeEventListener("dragstart",at),e.removeEventListener("blur",Ru)}function Bm(e,t){Bu(e,t,!1)}function jm(e){delete e._ripple,ju(e)}function Vm(e,t){if(t.value===t.oldValue)return;const a=Mu(t.oldValue);Bu(e,t,a)}const ya={mounted:Bm,unmounted:jm,updated:Vm},Nm=ue({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:Su},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:Je,appendIcon:Je,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...sn(),...ke(),...ni(),...Mn(),...on(),...hm(),...Em(),...Tu(),...ku(),...At(),...Au(),...Dr(),...Ze({tag:"button"}),...rt(),...ji({variant:"elevated"})},"VBtn"),Di=we()({name:"VBtn",props:Nm(),emits:{"group:selected":e=>!0},setup(e,t){let{attrs:a,slots:h}=t;const{themeClasses:v}=ct(e),{borderClasses:p}=an(e),{densityClasses:y}=ii(e),{dimensionStyles:f}=Fn(e),{elevationClasses:r}=ln(e),{loaderClasses:u}=Am(e),{locationStyles:c}=Ou(e),{positionClasses:n}=Pu(e),{roundedClasses:s}=Dt(e),{sizeClasses:i,sizeStyles:o}=Mr(e),d=dm(e,e.symbol,!1),l=Eu(e,a),g=U(()=>{var X;return e.active!==void 0?e.active:l.isLink.value?(X=l.isActive)==null?void 0:X.value:d==null?void 0:d.isSelected.value}),m=U(()=>g.value?e.activeColor??e.color:e.color),b=U(()=>{var j,K;return{color:(d==null?void 0:d.isSelected.value)&&(!l.isLink.value||((j=l.isActive)==null?void 0:j.value))||!d||((K=l.isActive)==null?void 0:K.value)?m.value??e.baseColor:e.baseColor,variant:e.variant}}),{colorClasses:_,colorStyles:C,variantClasses:S}=pa(b),w=U(()=>(d==null?void 0:d.disabled.value)||e.disabled),P=U(()=>e.variant==="elevated"&&!(e.disabled||e.flat||e.border)),M=U(()=>{if(!(e.value===void 0||typeof e.value=="symbol"))return Object(e.value)===e.value?JSON.stringify(e.value,null,0):e.value});function N(X){var j;w.value||l.isLink.value&&(X.metaKey||X.ctrlKey||X.shiftKey||X.button!==0||a.target==="_blank")||((j=l.navigate)==null||j.call(l,X),d==null||d.toggle())}return Im(l,d==null?void 0:d.select),xe(()=>{const X=l.isLink.value?"a":e.tag,j=!!(e.prependIcon||h.prepend),K=!!(e.appendIcon||h.append),ee=!!(e.icon&&e.icon!==!0);return Tn(Y(X,nt({type:X==="a"?void 0:"button",class:["v-btn",d==null?void 0:d.selectedClass.value,{"v-btn--active":g.value,"v-btn--block":e.block,"v-btn--disabled":w.value,"v-btn--elevated":P.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--loading":e.loading,"v-btn--readonly":e.readonly,"v-btn--slim":e.slim,"v-btn--stacked":e.stacked},v.value,p.value,_.value,y.value,r.value,u.value,n.value,s.value,i.value,S.value,e.class],style:[C.value,f.value,c.value,o.value,e.style],"aria-busy":e.loading?!0:void 0,disabled:w.value||void 0,tabindex:e.loading||e.readonly?-1:void 0,onClick:N,value:M.value},l.linkProps),{default:()=>{var ne;return[ma(!0,"v-btn"),!e.icon&&j&&Y("span",{key:"prepend",class:"v-btn__prepend"},[h.prepend?Y(yt,{key:"prepend-defaults",disabled:!e.prependIcon,defaults:{VIcon:{icon:e.prependIcon}}},h.prepend):Y(Pt,{key:"prepend-icon",icon:e.prependIcon},null)]),Y("span",{class:"v-btn__content","data-no-activator":""},[!h.default&&ee?Y(Pt,{key:"content-icon",icon:e.icon},null):Y(yt,{key:"content-defaults",disabled:!ee,defaults:{VIcon:{icon:e.icon}}},{default:()=>{var ae;return[((ae=h.default)==null?void 0:ae.call(h))??e.text]}})]),!e.icon&&K&&Y("span",{key:"append",class:"v-btn__append"},[h.append?Y(yt,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VIcon:{icon:e.appendIcon}}},h.append):Y(Pt,{key:"append-icon",icon:e.appendIcon},null)]),!!e.loading&&Y("span",{key:"loader",class:"v-btn__loader"},[((ne=h.loader)==null?void 0:ne.call(h))??Y(Pm,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,width:"2"},null)])]}}),[[ya,!w.value&&e.ripple,"",{center:!!e.icon}]])}),{group:d}}});function Hm(e,t){if(t){const{a,...h}=e;return h}return e}function Wm(e,t){if(t==null||typeof t=="string"){const a=uu(e);return e.a===1?a.slice(0,7):a}if(typeof t=="object"){let a;return pn(t,["r","g","b"])?a=jt(e):pn(t,["h","s","l"])?a=ru(e):pn(t,["h","s","v"])&&(a=e),Hm(a,!pn(t,["a"])&&e.a===1)}return e}const zn={h:0,s:0,v:0,a:1},xs={inputProps:{type:"number",min:0},inputs:[{label:"R",max:255,step:1,getValue:e=>Math.round(e.r),getColor:(e,t)=>({...e,r:Number(t)})},{label:"G",max:255,step:1,getValue:e=>Math.round(e.g),getColor:(e,t)=>({...e,g:Number(t)})},{label:"B",max:255,step:1,getValue:e=>Math.round(e.b),getColor:(e,t)=>({...e,b:Number(t)})},{label:"A",max:1,step:.01,getValue:e=>{let{a:t}=e;return t!=null?Math.round(t*100)/100:1},getColor:(e,t)=>({...e,a:Number(t)})}],to:jt,from:kr};var gl;const Ym={...xs,inputs:(gl=xs.inputs)==null?void 0:gl.slice(0,3)},Ts={inputProps:{type:"number",min:0},inputs:[{label:"H",max:360,step:1,getValue:e=>Math.round(e.h),getColor:(e,t)=>({...e,h:Number(t)})},{label:"S",max:1,step:.01,getValue:e=>Math.round(e.s*100)/100,getColor:(e,t)=>({...e,s:Number(t)})},{label:"L",max:1,step:.01,getValue:e=>Math.round(e.l*100)/100,getColor:(e,t)=>({...e,l:Number(t)})},{label:"A",max:1,step:.01,getValue:e=>{let{a:t}=e;return t!=null?Math.round(t*100)/100:1},getColor:(e,t)=>({...e,a:Number(t)})}],to:ru,from:fa},zm={...Ts,inputs:Ts.inputs.slice(0,3)},Vu={inputProps:{type:"text"},inputs:[{label:"HEXA",getValue:e=>e,getColor:(e,t)=>t}],to:uu,from:cu},Xm={...Vu,inputs:[{label:"HEX",getValue:e=>e.slice(0,7),getColor:(e,t)=>t}]},wn={rgb:Ym,rgba:xs,hsl:zm,hsla:Ts,hex:Xm,hexa:Vu},Um=e=>{let{label:t,...a}=e;return Y("div",{class:"v-color-picker-edit__input"},[Y("input",a,null),Y("span",null,[t])])},Gm=ue({color:Object,disabled:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(wn).includes(e)},modes:{type:Array,default:()=>Object.keys(wn),validator:e=>Array.isArray(e)&&e.every(t=>Object.keys(wn).includes(t))},...ke()},"VColorPickerEdit"),$m=St({name:"VColorPickerEdit",props:Gm(),emits:{"update:color":e=>!0,"update:mode":e=>!0},setup(e,t){let{emit:a}=t;const h=U(()=>e.modes.map(p=>({...wn[p],name:p}))),v=U(()=>{var f;const p=h.value.find(r=>r.name===e.mode);if(!p)return[];const y=e.color?p.to(e.color):null;return(f=p.inputs)==null?void 0:f.map(r=>{let{getValue:u,getColor:c,...n}=r;return{...p.inputProps,...n,disabled:e.disabled,value:y&&u(y),onChange:s=>{const i=s.target;i&&a("update:color",p.from(c(y??p.to(zn),i.value)))}}})});return xe(()=>{var p;return Y("div",{class:["v-color-picker-edit",e.class],style:e.style},[(p=v.value)==null?void 0:p.map(y=>Y(Um,y,null)),h.value.length>1&&Y(Di,{icon:"$unfold",size:"x-small",variant:"plain",onClick:()=>{const y=h.value.findIndex(f=>f.name===e.mode);a("update:mode",h.value[(y+1)%h.value.length].name)}},null)])}),{}}}),ba=Symbol.for("vuetify:v-slider");function Km(e,t,a){const h=a==="vertical",v=t.getBoundingClientRect(),p="touches"in e?e.touches[0]:e;return h?p.clientY-(v.top+v.height/2):p.clientX-(v.left+v.width/2)}function qm(e,t){return"touches"in e&&e.touches.length?e.touches[0][t]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][t]:e[t]}const Jm=ue({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...At(),...on({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),Zm=e=>{const t=U(()=>parseFloat(e.min)),a=U(()=>parseFloat(e.max)),h=U(()=>+e.step>0?parseFloat(e.step):0),v=U(()=>Math.max(Po(h.value),Po(t.value)));function p(y){if(y=parseFloat(y),h.value<=0)return y;const f=Kt(y,t.value,a.value),r=t.value%h.value,u=Math.round((f-r)/h.value)*h.value+r;return parseFloat(Math.min(u,a.value).toFixed(v.value))}return{min:t,max:a,step:h,decimals:v,roundValue:p}},Qm=e=>{let{props:t,steps:a,onSliderStart:h,onSliderMove:v,onSliderEnd:p,getActiveThumb:y}=e;const{isRtl:f}=Nt(),r=ge(t,"reverse"),u=U(()=>t.direction==="vertical"),c=U(()=>u.value!==r.value),{min:n,max:s,step:i,decimals:o,roundValue:d}=a,l=U(()=>parseInt(t.thumbSize,10)),g=U(()=>parseInt(t.tickSize,10)),m=U(()=>parseInt(t.trackSize,10)),b=U(()=>(s.value-n.value)/i.value),_=ge(t,"disabled"),C=U(()=>t.error||t.disabled?void 0:t.thumbColor??t.color),S=U(()=>t.error||t.disabled?void 0:t.trackColor??t.color),w=U(()=>t.error||t.disabled?void 0:t.trackFillColor??t.color),P=ye(!1),M=ye(0),N=be(),X=be();function j(B){var V;const A=t.direction==="vertical",z=A?"top":"left",H=A?"height":"width",$=A?"clientY":"clientX",{[z]:te,[H]:k}=(V=N.value)==null?void 0:V.$el.getBoundingClientRect(),x=qm(B,$);let O=Math.min(Math.max((x-te-M.value)/k,0),1)||0;return(A?c.value:c.value!==f.value)&&(O=1-O),d(n.value+O*(s.value-n.value))}const K=B=>{p({value:j(B)}),P.value=!1,M.value=0},ee=B=>{X.value=y(B),X.value&&(X.value.focus(),P.value=!0,X.value.contains(B.target)?M.value=Km(B,X.value,t.direction):(M.value=0,v({value:j(B)})),h({value:j(B)}))},ne={passive:!0,capture:!0};function ae(B){v({value:j(B)})}function se(B){B.stopPropagation(),B.preventDefault(),K(B),window.removeEventListener("mousemove",ae,ne),window.removeEventListener("mouseup",se)}function oe(B){var A;K(B),window.removeEventListener("touchmove",ae,ne),(A=B.target)==null||A.removeEventListener("touchend",oe)}function T(B){var A;ee(B),window.addEventListener("touchmove",ae,ne),(A=B.target)==null||A.addEventListener("touchend",oe,{passive:!1})}function L(B){B.preventDefault(),ee(B),window.addEventListener("mousemove",ae,ne),window.addEventListener("mouseup",se,{passive:!1})}const F=B=>{const A=(B-n.value)/(s.value-n.value)*100;return Kt(isNaN(A)?0:A,0,100)},I=ge(t,"showTicks"),J=U(()=>I.value?t.ticks?Array.isArray(t.ticks)?t.ticks.map(B=>({value:B,position:F(B),label:B.toString()})):Object.keys(t.ticks).map(B=>({value:parseFloat(B),position:F(parseFloat(B)),label:t.ticks[B]})):b.value!==1/0?ca(b.value+1).map(B=>{const A=n.value+B*i.value;return{value:A,position:F(A)}}):[]:[]),D=U(()=>J.value.some(B=>{let{label:A}=B;return!!A})),E={activeThumbRef:X,color:ge(t,"color"),decimals:o,disabled:_,direction:ge(t,"direction"),elevation:ge(t,"elevation"),hasLabels:D,isReversed:r,indexFromEnd:c,min:n,max:s,mousePressed:P,numTicks:b,onSliderMousedown:L,onSliderTouchstart:T,parsedTicks:J,parseMouseMove:j,position:F,readonly:ge(t,"readonly"),rounded:ge(t,"rounded"),roundValue:d,showTicks:I,startOffset:M,step:i,thumbSize:l,thumbColor:C,thumbLabel:ge(t,"thumbLabel"),ticks:ge(t,"ticks"),tickSize:g,trackColor:S,trackContainerRef:N,trackFillColor:w,trackSize:m,vertical:u};return ze(ba,E),E},ep=ue({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function ut(e,t,a){return we()({name:e,props:ep({mode:a,origin:t}),setup(h,v){let{slots:p}=v;const y={onBeforeEnter(f){h.origin&&(f.style.transformOrigin=h.origin)},onLeave(f){if(h.leaveAbsolute){const{offsetTop:r,offsetLeft:u,offsetWidth:c,offsetHeight:n}=f;f._transitionInitialStyles={position:f.style.position,top:f.style.top,left:f.style.left,width:f.style.width,height:f.style.height},f.style.position="absolute",f.style.top=`${r}px`,f.style.left=`${u}px`,f.style.width=`${c}px`,f.style.height=`${n}px`}h.hideOnLeave&&f.style.setProperty("display","none","important")},onAfterLeave(f){if(h.leaveAbsolute&&(f!=null&&f._transitionInitialStyles)){const{position:r,top:u,left:c,width:n,height:s}=f._transitionInitialStyles;delete f._transitionInitialStyles,f.style.position=r||"",f.style.top=u||"",f.style.left=c||"",f.style.width=n||"",f.style.height=s||""}}};return()=>{const f=h.group?sa:xr;return rn(f,{name:h.disabled?"":e,css:!h.disabled,...h.group?void 0:{mode:h.mode},...h.disabled?{}:y},p.default)}}})}function Nu(e,t){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return we()({name:e,props:{mode:{type:String,default:a},disabled:Boolean,group:Boolean},setup(h,v){let{slots:p}=v;const y=h.group?sa:xr;return()=>rn(y,{name:h.disabled?"":e,css:!h.disabled,...h.disabled?{}:t},p.default)}})}function Hu(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const a=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",h=tt(`offset-${a}`);return{onBeforeEnter(y){y._parent=y.parentNode,y._initialStyle={transition:y.style.transition,overflow:y.style.overflow,[a]:y.style[a]}},onEnter(y){const f=y._initialStyle;y.style.setProperty("transition","none","important"),y.style.overflow="hidden";const r=`${y[h]}px`;y.style[a]="0",y.offsetHeight,y.style.transition=f.transition,e&&y._parent&&y._parent.classList.add(e),requestAnimationFrame(()=>{y.style[a]=r})},onAfterEnter:p,onEnterCancelled:p,onLeave(y){y._initialStyle={transition:"",overflow:y.style.overflow,[a]:y.style[a]},y.style.overflow="hidden",y.style[a]=`${y[h]}px`,y.offsetHeight,requestAnimationFrame(()=>y.style[a]="0")},onAfterLeave:v,onLeaveCancelled:v};function v(y){e&&y._parent&&y._parent.classList.remove(e),p(y)}function p(y){const f=y._initialStyle[a];y.style.overflow=y._initialStyle.overflow,f!=null&&(y.style[a]=f),delete y._initialStyle}}ut("fab-transition","center center","out-in");ut("dialog-bottom-transition");ut("dialog-top-transition");ut("fade-transition");const tp=ut("scale-transition");ut("scroll-x-transition");ut("scroll-x-reverse-transition");ut("scroll-y-transition");ut("scroll-y-reverse-transition");ut("slide-x-transition");ut("slide-x-reverse-transition");const np=ut("slide-y-transition");ut("slide-y-reverse-transition");const Wu=Nu("expand-transition",Hu());Nu("expand-x-transition",Hu("",!0));const ip=ue({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,...ke()},"VSliderThumb"),rp=we()({name:"VSliderThumb",directives:{Ripple:ya},props:ip(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a,emit:h}=t;const v=Ae(ba),{isRtl:p,rtlClasses:y}=Nt();if(!v)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:f,step:r,disabled:u,thumbSize:c,thumbLabel:n,direction:s,isReversed:i,vertical:o,readonly:d,elevation:l,mousePressed:g,decimals:m,indexFromEnd:b}=v,_=U(()=>u.value?void 0:l.value),{elevationClasses:C}=ln(_),{textColorClasses:S,textColorStyles:w}=kn(f),{pageup:P,pagedown:M,end:N,home:X,left:j,right:K,down:ee,up:ne}=Zg,ae=[P,M,N,X,j,K,ee,ne],se=U(()=>r.value?[1,2,3]:[1,5,10]);function oe(L,F){if(!ae.includes(L.key))return;L.preventDefault();const I=r.value||.1,J=(e.max-e.min)/I;if([j,K,ee,ne].includes(L.key)){const E=(o.value?[p.value?j:K,i.value?ee:ne]:b.value!==p.value?[j,ne]:[K,ne]).includes(L.key)?1:-1,B=L.shiftKey?2:L.ctrlKey?1:0;F=F+E*I*se.value[B]}else if(L.key===X)F=e.min;else if(L.key===N)F=e.max;else{const D=L.key===M?1:-1;F=F-D*I*(J>100?J/10:10)}return Math.max(e.min,Math.min(e.max,F))}function T(L){const F=oe(L,e.modelValue);F!=null&&h("update:modelValue",F)}return xe(()=>{const L=_e(b.value?100-e.position:e.position,"%");return Y("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&g.value},e.class,y.value],style:[{"--v-slider-thumb-position":L,"--v-slider-thumb-size":_e(c.value)},e.style],role:"slider",tabindex:u.value?-1:0,"aria-label":e.name,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.modelValue,"aria-readonly":!!d.value,"aria-orientation":s.value,onKeydown:d.value?void 0:T},[Y("div",{class:["v-slider-thumb__surface",S.value,C.value],style:{...w.value}},null),Tn(Y("div",{class:["v-slider-thumb__ripple",S.value],style:w.value},null),[[Zs("ripple"),e.ripple,null,{circle:!0,center:!0}]]),Y(tp,{origin:"bottom center"},{default:()=>{var F;return[Tn(Y("div",{class:"v-slider-thumb__label-container"},[Y("div",{class:["v-slider-thumb__label"]},[Y("div",null,[((F=a["thumb-label"])==null?void 0:F.call(a,{modelValue:e.modelValue}))??e.modelValue.toFixed(r.value?m.value:1)])])]),[[ra,n.value&&e.focused||n.value==="always"]])]}})])}),{}}}),sp=ue({start:{type:Number,required:!0},stop:{type:Number,required:!0},...ke()},"VSliderTrack"),ap=we()({name:"VSliderTrack",props:sp(),emits:{},setup(e,t){let{slots:a}=t;const h=Ae(ba);if(!h)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:v,parsedTicks:p,rounded:y,showTicks:f,tickSize:r,trackColor:u,trackFillColor:c,trackSize:n,vertical:s,min:i,max:o,indexFromEnd:d}=h,{roundedClasses:l}=Dt(y),{backgroundColorClasses:g,backgroundColorStyles:m}=Qt(c),{backgroundColorClasses:b,backgroundColorStyles:_}=Qt(u),C=U(()=>`inset-${s.value?"block":"inline"}-${d.value?"end":"start"}`),S=U(()=>s.value?"height":"width"),w=U(()=>({[C.value]:"0%",[S.value]:"100%"})),P=U(()=>e.stop-e.start),M=U(()=>({[C.value]:_e(e.start,"%"),[S.value]:_e(P.value,"%")})),N=U(()=>f.value?(s.value?p.value.slice().reverse():p.value).map((j,K)=>{var ne;const ee=j.value!==i.value&&j.value!==o.value?_e(j.position,"%"):void 0;return Y("div",{key:j.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":j.position>=e.start&&j.position<=e.stop,"v-slider-track__tick--first":j.value===i.value,"v-slider-track__tick--last":j.value===o.value}],style:{[C.value]:ee}},[(j.label||a["tick-label"])&&Y("div",{class:"v-slider-track__tick-label"},[((ne=a["tick-label"])==null?void 0:ne.call(a,{tick:j,index:K}))??j.label])])}):[]);return xe(()=>Y("div",{class:["v-slider-track",l.value,e.class],style:[{"--v-slider-track-size":_e(n.value),"--v-slider-tick-size":_e(r.value)},e.style]},[Y("div",{class:["v-slider-track__background",b.value,{"v-slider-track__background--opacity":!!v.value||!c.value}],style:{...w.value,..._.value}},null),Y("div",{class:["v-slider-track__fill",g.value],style:{...M.value,...m.value}},null),f.value&&Y("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":f.value==="always"}]},[N.value])])),{}}});function op(e){const{t}=Yv();function a(h){let{name:v}=h;const p={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[v],y=e[`onClick:${v}`],f=y&&p?t(`$vuetify.input.${p}`,e.label??""):void 0;return Y(Pt,{icon:e[`${v}Icon`],"aria-label":f,onClick:y},null)}return{InputIcon:a}}const Yu=ue({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:e=>e!==!0}},"transition"),Xn=(e,t)=>{let{slots:a}=t;const{transition:h,disabled:v,group:p,...y}=e,{component:f=p?sa:xr,...r}=typeof h=="object"?h:{};return rn(f,nt(typeof h=="string"?{name:v?"":h}:r,typeof h=="string"?{}:Object.fromEntries(Object.entries({disabled:v,group:p}).filter(u=>{let[c,n]=u;return n!==void 0})),y),a)},lp=ue({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...ke(),...Yu({transition:{component:np,leaveAbsolute:!0,group:!0}})},"VMessages"),cp=we()({name:"VMessages",props:lp(),setup(e,t){let{slots:a}=t;const h=U(()=>Cn(e.messages)),{textColorClasses:v,textColorStyles:p}=kn(U(()=>e.color));return xe(()=>Y(Xn,{transition:e.transition,tag:"div",class:["v-messages",v.value,e.class],style:[p.value,e.style],role:"alert","aria-live":"polite"},{default:()=>[e.active&&h.value.map((y,f)=>Y("div",{class:"v-messages__message",key:`${f}-${h.value}`},[a.message?a.message({message:y}):y]))]})),{}}}),zu=ue({focused:Boolean,"onUpdate:focused":Bt()},"focus");function up(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Et();const a=vt(e,"focused"),h=U(()=>({[`${t}--focused`]:a.value}));function v(){a.value=!0}function p(){a.value=!1}return{focusClasses:h,isFocused:a,focus:v,blur:p}}const fp=Symbol.for("vuetify:form");function hp(e){const t=Ae(fp,null);return{...t,isReadonly:U(()=>!!((e==null?void 0:e.readonly)??(t==null?void 0:t.isReadonly.value))),isDisabled:U(()=>!!((e==null?void 0:e.disabled)??(t==null?void 0:t.isDisabled.value)))}}const dp=ue({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...zu()},"validation");function gp(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Et(),a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Dn();const h=vt(e,"modelValue"),v=U(()=>e.validationValue===void 0?h.value:e.validationValue),p=hp(e),y=be([]),f=ye(!0),r=U(()=>!!(Cn(h.value===""?null:h.value).length||Cn(v.value===""?null:v.value).length)),u=U(()=>{var b;return(b=e.errorMessages)!=null&&b.length?Cn(e.errorMessages).concat(y.value).slice(0,Math.max(0,+e.maxErrors)):y.value}),c=U(()=>{var C;let b=(e.validateOn??((C=p.validateOn)==null?void 0:C.value))||"input";b==="lazy"&&(b="input lazy"),b==="eager"&&(b="input eager");const _=new Set((b==null?void 0:b.split(" "))??[]);return{input:_.has("input"),blur:_.has("blur")||_.has("input")||_.has("invalid-input"),invalidInput:_.has("invalid-input"),lazy:_.has("lazy"),eager:_.has("eager")}}),n=U(()=>{var b;return e.error||(b=e.errorMessages)!=null&&b.length?!1:e.rules.length?f.value?y.value.length||c.value.lazy?null:!0:!y.value.length:!0}),s=ye(!1),i=U(()=>({[`${t}--error`]:n.value===!1,[`${t}--dirty`]:r.value,[`${t}--disabled`]:p.isDisabled.value,[`${t}--readonly`]:p.isReadonly.value})),o=He("validation"),d=U(()=>e.name??Ve(a));ei(()=>{var b;(b=p.register)==null||b.call(p,{id:d.value,vm:o,validate:m,reset:l,resetValidation:g})}),it(()=>{var b;(b=p.unregister)==null||b.call(p,d.value)}),Ct(async()=>{var b;c.value.lazy||await m(!c.value.eager),(b=p.update)==null||b.call(p,d.value,n.value,u.value)}),Jt(()=>c.value.input||c.value.invalidInput&&n.value===!1,()=>{Ce(v,()=>{if(v.value!=null)m();else if(e.focused){const b=Ce(()=>e.focused,_=>{_||m(),b()})}})}),Jt(()=>c.value.blur,()=>{Ce(()=>e.focused,b=>{b||m()})}),Ce([n,u],()=>{var b;(b=p.update)==null||b.call(p,d.value,n.value,u.value)});async function l(){h.value=null,await nn(),await g()}async function g(){f.value=!0,c.value.lazy?y.value=[]:await m(!c.value.eager)}async function m(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const _=[];s.value=!0;for(const C of e.rules){if(_.length>=+(e.maxErrors??1))break;const w=await(typeof C=="function"?C:()=>C)(v.value);if(w!==!0){if(w!==!1&&typeof w!="string"){console.warn(`${w} is not a valid value. Rule functions must return boolean true or a string.`);continue}_.push(w||"")}}return y.value=_,s.value=!1,f.value=b,y.value}return{errorMessages:u,isDirty:r,isDisabled:p.isDisabled,isReadonly:p.isReadonly,isPristine:f,isValid:n,isValidating:s,reset:l,resetValidation:g,validate:m,validationClasses:i}}const Xu=ue({id:String,appendIcon:Je,centerAffix:{type:Boolean,default:!0},prependIcon:Je,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":Bt(),"onClick:append":Bt(),...ke(),...ni(),...ev(Mn(),["maxWidth","minWidth","width"]),...rt(),...dp()},"VInput"),Qo=we()({name:"VInput",props:{...Xu()},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:a,slots:h,emit:v}=t;const{densityClasses:p}=ii(e),{dimensionStyles:y}=Fn(e),{themeClasses:f}=ct(e),{rtlClasses:r}=Nt(),{InputIcon:u}=op(e),c=Dn(),n=U(()=>e.id||`input-${c}`),s=U(()=>`${n.value}-messages`),{errorMessages:i,isDirty:o,isDisabled:d,isReadonly:l,isPristine:g,isValid:m,isValidating:b,reset:_,resetValidation:C,validate:S,validationClasses:w}=gp(e,"v-input",n),P=U(()=>({id:n,messagesId:s,isDirty:o,isDisabled:d,isReadonly:l,isPristine:g,isValid:m,isValidating:b,reset:_,resetValidation:C,validate:S})),M=U(()=>{var N;return(N=e.errorMessages)!=null&&N.length||!g.value&&i.value.length?i.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages});return xe(()=>{var ee,ne,ae,se;const N=!!(h.prepend||e.prependIcon),X=!!(h.append||e.appendIcon),j=M.value.length>0,K=!e.hideDetails||e.hideDetails==="auto"&&(j||!!h.details);return Y("div",{class:["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix,"v-input--hide-spin-buttons":e.hideSpinButtons},p.value,f.value,r.value,w.value,e.class],style:[y.value,e.style]},[N&&Y("div",{key:"prepend",class:"v-input__prepend"},[(ee=h.prepend)==null?void 0:ee.call(h,P.value),e.prependIcon&&Y(u,{key:"prepend-icon",name:"prepend"},null)]),h.default&&Y("div",{class:"v-input__control"},[(ne=h.default)==null?void 0:ne.call(h,P.value)]),X&&Y("div",{key:"append",class:"v-input__append"},[e.appendIcon&&Y(u,{key:"append-icon",name:"append"},null),(ae=h.append)==null?void 0:ae.call(h,P.value)]),K&&Y("div",{class:"v-input__details"},[Y(cp,{id:s.value,active:j,messages:M.value},{message:h.message}),(se=h.details)==null?void 0:se.call(h,P.value)])])}),{reset:_,resetValidation:C,validate:S,isValid:m,errorMessages:i}}}),vp=ue({text:String,onClick:Bt(),...ke(),...rt()},"VLabel"),mp=we()({name:"VLabel",props:vp(),setup(e,t){let{slots:a}=t;return xe(()=>{var h;return Y("label",{class:["v-label",{"v-label--clickable":!!e.onClick},e.class],style:e.style,onClick:e.onClick},[e.text,(h=a.default)==null?void 0:h.call(a)])}),{}}}),pp=ue({...zu(),...Jm(),...Xu(),modelValue:{type:[Number,String],default:0}},"VSlider"),Os=we()({name:"VSlider",props:pp(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,t){let{slots:a,emit:h}=t;const v=be(),{rtlClasses:p}=Nt(),y=Zm(e),f=vt(e,"modelValue",void 0,S=>y.roundValue(S??y.min.value)),{min:r,max:u,mousePressed:c,roundValue:n,onSliderMousedown:s,onSliderTouchstart:i,trackContainerRef:o,position:d,hasLabels:l,readonly:g}=Qm({props:e,steps:y,onSliderStart:()=>{h("start",f.value)},onSliderEnd:S=>{let{value:w}=S;const P=n(w);f.value=P,h("end",P)},onSliderMove:S=>{let{value:w}=S;return f.value=n(w)},getActiveThumb:()=>{var S;return(S=v.value)==null?void 0:S.$el}}),{isFocused:m,focus:b,blur:_}=up(e),C=U(()=>d(f.value));return xe(()=>{const S=Qo.filterProps(e),w=!!(e.label||a.label||a.prepend);return Y(Qo,nt({class:["v-slider",{"v-slider--has-labels":!!a["tick-label"]||l.value,"v-slider--focused":m.value,"v-slider--pressed":c.value,"v-slider--disabled":e.disabled},p.value,e.class],style:e.style},S,{focused:m.value}),{...a,prepend:w?P=>{var M,N;return Y(Re,null,[((M=a.label)==null?void 0:M.call(a,P))??(e.label?Y(mp,{id:P.id.value,class:"v-slider__label",text:e.label},null):void 0),(N=a.prepend)==null?void 0:N.call(a,P)])}:void 0,default:P=>{let{id:M,messagesId:N}=P;return Y("div",{class:"v-slider__container",onMousedown:g.value?void 0:s,onTouchstartPassive:g.value?void 0:i},[Y("input",{id:M.value,name:e.name||M.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:f.value},null),Y(ap,{ref:o,start:0,stop:C.value},{"tick-label":a["tick-label"]}),Y(rp,{ref:v,"aria-describedby":N.value,focused:m.value,min:r.value,max:u.value,modelValue:f.value,"onUpdate:modelValue":X=>f.value=X,position:C.value,elevation:e.elevation,onFocus:b,onBlur:_,ripple:e.ripple,name:e.name},{"thumb-label":a["thumb-label"]})])}})}),{}}}),yp=ue({color:{type:Object},disabled:Boolean,hideAlpha:Boolean,...ke()},"VColorPickerPreview"),bp=St({name:"VColorPickerPreview",props:yp(),emits:{"update:color":e=>!0},setup(e,t){let{emit:a}=t;const h=new AbortController;Js(()=>h.abort());async function v(){if(!xo)return;const p=new window.EyeDropper;try{const y=await p.open({signal:h.signal}),f=cu(y.sRGBHex);a("update:color",{...e.color??zn,...f})}catch{}}return xe(()=>{var p,y;return Y("div",{class:["v-color-picker-preview",{"v-color-picker-preview--hide-alpha":e.hideAlpha},e.class],style:e.style},[xo&&Y("div",{class:"v-color-picker-preview__eye-dropper",key:"eyeDropper"},[Y(Di,{onClick:v,icon:"$eyeDropper",variant:"plain",density:"comfortable"},null)]),Y("div",{class:"v-color-picker-preview__dot"},[Y("div",{style:{background:au(e.color??zn)}},null)]),Y("div",{class:"v-color-picker-preview__sliders"},[Y(Os,{class:"v-color-picker-preview__track v-color-picker-preview__hue",modelValue:(p=e.color)==null?void 0:p.h,"onUpdate:modelValue":f=>a("update:color",{...e.color??zn,h:f}),step:0,min:0,max:360,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null),!e.hideAlpha&&Y(Os,{class:"v-color-picker-preview__track v-color-picker-preview__alpha",modelValue:((y=e.color)==null?void 0:y.a)??1,"onUpdate:modelValue":f=>a("update:color",{...e.color??zn,a:f}),step:1/256,min:0,max:1,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null)])])}),{}}}),_p={base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"},Cp={base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"},Sp={base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"},wp={base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"},xp={base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"},Tp={base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"},Op={base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"},kp={base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"},Pp={base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"},Ep={base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"},Ap={base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"},Dp={base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"},Mp={base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"},Fp={base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"},Ip={base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"},Lp={base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"},Rp={base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"},Bp={base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"},jp={base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"},Vp={black:"#000000",white:"#ffffff",transparent:"#ffffff00"},Np={red:_p,pink:Cp,purple:Sp,deepPurple:wp,indigo:xp,blue:Tp,lightBlue:Op,cyan:kp,teal:Pp,green:Ep,lightGreen:Ap,lime:Dp,yellow:Mp,amber:Fp,orange:Ip,deepOrange:Lp,brown:Rp,blueGrey:Bp,grey:jp,shades:Vp},Hp=ue({swatches:{type:Array,default:()=>Wp(Np)},disabled:Boolean,color:Object,maxHeight:[Number,String],...ke()},"VColorPickerSwatches");function Wp(e){return Object.keys(e).map(t=>{const a=e[t];return a.base?[a.base,a.darken4,a.darken3,a.darken2,a.darken1,a.lighten1,a.lighten2,a.lighten3,a.lighten4,a.lighten5]:[a.black,a.white,a.transparent]})}const Yp=St({name:"VColorPickerSwatches",props:Hp(),emits:{"update:color":e=>!0},setup(e,t){let{emit:a}=t;return xe(()=>Y("div",{class:["v-color-picker-swatches",e.class],style:[{maxHeight:_e(e.maxHeight)},e.style]},[Y("div",null,[e.swatches.map(h=>Y("div",{class:"v-color-picker-swatches__swatch"},[h.map(v=>{const p=gt(v),y=kr(p),f=su(p);return Y("div",{class:"v-color-picker-swatches__color",onClick:()=>y&&a("update:color",y)},[Y("div",{style:{background:f}},[e.color&&Bi(e.color,y)?Y(Pt,{size:"x-small",icon:"$success",color:Av(v,"#FFFFFF")>2?"white":"black"},null):void 0])])})]))])])),{}}}),Uu=ue({color:String,...sn(),...ke(),...Mn(),...on(),...Tu(),...ku(),...At(),...Ze(),...rt()},"VSheet"),el=we()({name:"VSheet",props:Uu(),setup(e,t){let{slots:a}=t;const{themeClasses:h}=ct(e),{backgroundColorClasses:v,backgroundColorStyles:p}=Qt(ge(e,"color")),{borderClasses:y}=an(e),{dimensionStyles:f}=Fn(e),{elevationClasses:r}=ln(e),{locationStyles:u}=Ou(e),{positionClasses:c}=Pu(e),{roundedClasses:n}=Dt(e);return xe(()=>Y(e.tag,{class:["v-sheet",h.value,v.value,y.value,r.value,c.value,n.value,e.class],style:[p.value,f.value,u.value,e.style]},a)),{}}}),zp=ue({canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(wn).includes(e)},modes:{type:Array,default:()=>Object.keys(wn),validator:e=>Array.isArray(e)&&e.every(t=>Object.keys(wn).includes(t))},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},modelValue:{type:[Object,String]},...Jc(Uu({width:300}),["height","location","minHeight","maxHeight","minWidth","maxWidth"])},"VColorPicker"),Xp=St({name:"VColorPicker",props:zp(),emits:{"update:modelValue":e=>!0,"update:mode":e=>!0},setup(e){const t=vt(e,"mode"),a=be(null),h=vt(e,"modelValue",void 0,r=>{if(r==null||r==="")return null;let u;try{u=kr(gt(r))}catch{return null}return u},r=>r?Wm(r,e.modelValue):null),v=U(()=>h.value?{...h.value,h:a.value??h.value.h}:null),{rtlClasses:p}=Nt();let y=!0;Ce(h,r=>{if(!y){y=!0;return}r&&(a.value=r.h)},{immediate:!0});const f=r=>{y=!1,a.value=r.h,h.value=r};return ei(()=>{e.modes.includes(t.value)||(t.value=e.modes[0])}),ti({VSlider:{color:void 0,trackColor:void 0,trackFillColor:void 0}}),xe(()=>{const r=el.filterProps(e);return Y(el,nt({rounded:e.rounded,elevation:e.elevation,theme:e.theme,class:["v-color-picker",p.value,e.class],style:[{"--v-color-picker-color-hsv":au({...v.value??zn,a:1})},e.style]},r,{maxWidth:e.width}),{default:()=>[!e.hideCanvas&&Y(lm,{key:"canvas",color:v.value,"onUpdate:color":f,disabled:e.disabled,dotSize:e.dotSize,width:e.width,height:e.canvasHeight},null),(!e.hideSliders||!e.hideInputs)&&Y("div",{key:"controls",class:"v-color-picker__controls"},[!e.hideSliders&&Y(bp,{key:"preview",color:v.value,"onUpdate:color":f,hideAlpha:!t.value.endsWith("a"),disabled:e.disabled},null),!e.hideInputs&&Y($m,{key:"edit",modes:e.modes,mode:t.value,"onUpdate:mode":u=>t.value=u,color:v.value,"onUpdate:color":f,disabled:e.disabled},null)]),e.showSwatches&&Y(Yp,{key:"swatches",color:v.value,"onUpdate:color":f,maxHeight:e.swatchesMaxHeight,swatches:e.swatches,disabled:e.disabled},null)]})}),{}}}),ks=Symbol.for("vuetify:list");function Gu(){const e=Ae(ks,{hasPrepend:ye(!1),updateHasPrepend:()=>null}),t={hasPrepend:ye(!1),updateHasPrepend:a=>{a&&(t.hasPrepend.value=a)}};return ze(ks,t),e}function $u(){return Ae(ks,null)}const _a=e=>{const t={activate:a=>{let{id:h,value:v,activated:p}=a;return h=de(h),e&&!v&&p.size===1&&p.has(h)||(v?p.add(h):p.delete(h)),p},in:(a,h,v)=>{let p=new Set;if(a!=null)for(const y of Cn(a))p=t.activate({id:y,value:!0,activated:new Set(p),children:h,parents:v});return p},out:a=>Array.from(a)};return t},Ku=e=>{const t=_a(e);return{activate:h=>{let{activated:v,id:p,...y}=h;p=de(p);const f=v.has(p)?new Set([p]):new Set;return t.activate({...y,id:p,activated:f})},in:(h,v,p)=>{let y=new Set;if(h!=null){const f=Cn(h);f.length&&(y=t.in(f.slice(0,1),v,p))}return y},out:(h,v,p)=>t.out(h,v,p)}},Up=e=>{const t=_a(e);return{activate:h=>{let{id:v,activated:p,children:y,...f}=h;return v=de(v),y.has(v)?p:t.activate({id:v,activated:p,children:y,...f})},in:t.in,out:t.out}},Gp=e=>{const t=Ku(e);return{activate:h=>{let{id:v,activated:p,children:y,...f}=h;return v=de(v),y.has(v)?p:t.activate({id:v,activated:p,children:y,...f})},in:t.in,out:t.out}},$p={open:e=>{let{id:t,value:a,opened:h,parents:v}=e;if(a){const p=new Set;p.add(t);let y=v.get(t);for(;y!=null;)p.add(y),y=v.get(y);return p}else return h.delete(t),h},select:()=>null},qu={open:e=>{let{id:t,value:a,opened:h,parents:v}=e;if(a){let p=v.get(t);for(h.add(t);p!=null&&p!==t;)h.add(p),p=v.get(p);return h}else h.delete(t);return h},select:()=>null},Kp={open:qu.open,select:e=>{let{id:t,value:a,opened:h,parents:v}=e;if(!a)return h;const p=[];let y=v.get(t);for(;y!=null;)p.push(y),y=v.get(y);return new Set(p)}},Ca=e=>{const t={select:a=>{let{id:h,value:v,selected:p}=a;if(h=de(h),e&&!v){const y=Array.from(p.entries()).reduce((f,r)=>{let[u,c]=r;return c==="on"&&f.push(u),f},[]);if(y.length===1&&y[0]===h)return p}return p.set(h,v?"on":"off"),p},in:(a,h,v)=>{let p=new Map;for(const y of a||[])p=t.select({id:y,value:!0,selected:new Map(p),children:h,parents:v});return p},out:a=>{const h=[];for(const[v,p]of a.entries())p==="on"&&h.push(v);return h}};return t},Ju=e=>{const t=Ca(e);return{select:h=>{let{selected:v,id:p,...y}=h;p=de(p);const f=v.has(p)?new Map([[p,v.get(p)]]):new Map;return t.select({...y,id:p,selected:f})},in:(h,v,p)=>{let y=new Map;return h!=null&&h.length&&(y=t.in(h.slice(0,1),v,p)),y},out:(h,v,p)=>t.out(h,v,p)}},qp=e=>{const t=Ca(e);return{select:h=>{let{id:v,selected:p,children:y,...f}=h;return v=de(v),y.has(v)?p:t.select({id:v,selected:p,children:y,...f})},in:t.in,out:t.out}},Jp=e=>{const t=Ju(e);return{select:h=>{let{id:v,selected:p,children:y,...f}=h;return v=de(v),y.has(v)?p:t.select({id:v,selected:p,children:y,...f})},in:t.in,out:t.out}},Zp=e=>{const t={select:a=>{let{id:h,value:v,selected:p,children:y,parents:f}=a;h=de(h);const r=new Map(p),u=[h];for(;u.length;){const n=u.shift();p.set(de(n),v?"on":"off"),y.has(n)&&u.push(...y.get(n))}let c=de(f.get(h));for(;c;){const n=y.get(c),s=n.every(o=>p.get(de(o))==="on"),i=n.every(o=>!p.has(de(o))||p.get(de(o))==="off");p.set(c,s?"on":i?"off":"indeterminate"),c=de(f.get(c))}return e&&!v&&Array.from(p.entries()).reduce((s,i)=>{let[o,d]=i;return d==="on"&&s.push(o),s},[]).length===0?r:p},in:(a,h,v)=>{let p=new Map;for(const y of a||[])p=t.select({id:y,value:!0,selected:new Map(p),children:h,parents:v});return p},out:(a,h)=>{const v=[];for(const[p,y]of a.entries())y==="on"&&!h.has(p)&&v.push(p);return v}};return t},Mi=Symbol.for("vuetify:nested"),Zu={id:ye(),root:{register:()=>null,unregister:()=>null,parents:be(new Map),children:be(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:be(!1),selectable:be(!1),opened:be(new Set),activated:be(new Set),selected:be(new Map),selectedValues:be([]),getPath:()=>[]}},Qp=ue({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),ey=e=>{let t=!1;const a=be(new Map),h=be(new Map),v=vt(e,"opened",e.opened,o=>new Set(o),o=>[...o.values()]),p=U(()=>{if(typeof e.activeStrategy=="object")return e.activeStrategy;if(typeof e.activeStrategy=="function")return e.activeStrategy(e.mandatory);switch(e.activeStrategy){case"leaf":return Up(e.mandatory);case"single-leaf":return Gp(e.mandatory);case"independent":return _a(e.mandatory);case"single-independent":default:return Ku(e.mandatory)}}),y=U(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;if(typeof e.selectStrategy=="function")return e.selectStrategy(e.mandatory);switch(e.selectStrategy){case"single-leaf":return Jp(e.mandatory);case"leaf":return qp(e.mandatory);case"independent":return Ca(e.mandatory);case"single-independent":return Ju(e.mandatory);case"classic":default:return Zp(e.mandatory)}}),f=U(()=>{if(typeof e.openStrategy=="object")return e.openStrategy;switch(e.openStrategy){case"list":return Kp;case"single":return $p;case"multiple":default:return qu}}),r=vt(e,"activated",e.activated,o=>p.value.in(o,a.value,h.value),o=>p.value.out(o,a.value,h.value)),u=vt(e,"selected",e.selected,o=>y.value.in(o,a.value,h.value),o=>y.value.out(o,a.value,h.value));it(()=>{t=!0});function c(o){const d=[];let l=o;for(;l!=null;)d.unshift(l),l=h.value.get(l);return d}const n=He("nested"),s=new Set,i={id:ye(),root:{opened:v,activatable:ge(e,"activatable"),selectable:ge(e,"selectable"),activated:r,selected:u,selectedValues:U(()=>{const o=[];for(const[d,l]of u.value.entries())l==="on"&&o.push(d);return o}),register:(o,d,l)=>{if(s.has(o)){c(o).map(String).join(" -> "),c(d).concat(o).map(String).join(" -> ");return}else s.add(o);d&&o!==d&&h.value.set(o,d),l&&a.value.set(o,[]),d!=null&&a.value.set(d,[...a.value.get(d)||[],o])},unregister:o=>{if(t)return;s.delete(o),a.value.delete(o);const d=h.value.get(o);if(d){const l=a.value.get(d)??[];a.value.set(d,l.filter(g=>g!==o))}h.value.delete(o)},open:(o,d,l)=>{n.emit("click:open",{id:o,value:d,path:c(o),event:l});const g=f.value.open({id:o,value:d,opened:new Set(v.value),children:a.value,parents:h.value,event:l});g&&(v.value=g)},openOnSelect:(o,d,l)=>{const g=f.value.select({id:o,value:d,selected:new Map(u.value),opened:new Set(v.value),children:a.value,parents:h.value,event:l});g&&(v.value=g)},select:(o,d,l)=>{n.emit("click:select",{id:o,value:d,path:c(o),event:l});const g=y.value.select({id:o,value:d,selected:new Map(u.value),children:a.value,parents:h.value,event:l});g&&(u.value=g),i.root.openOnSelect(o,d,l)},activate:(o,d,l)=>{if(!e.activatable)return i.root.select(o,!0,l);n.emit("click:activate",{id:o,value:d,path:c(o),event:l});const g=p.value.activate({id:o,value:d,activated:new Set(r.value),children:a.value,parents:h.value,event:l});g&&(r.value=g)},children:a,parents:h,getPath:c}};return ze(Mi,i),i.root},Qu=(e,t)=>{const a=Ae(Mi,Zu),h=Symbol(Dn()),v=U(()=>e.value!==void 0?e.value:h),p={...a,id:v,open:(y,f)=>a.root.open(v.value,y,f),openOnSelect:(y,f)=>a.root.openOnSelect(v.value,y,f),isOpen:U(()=>a.root.opened.value.has(v.value)),parent:U(()=>a.root.parents.value.get(v.value)),activate:(y,f)=>a.root.activate(v.value,y,f),isActivated:U(()=>a.root.activated.value.has(de(v.value))),select:(y,f)=>a.root.select(v.value,y,f),isSelected:U(()=>a.root.selected.value.get(de(v.value))==="on"),isIndeterminate:U(()=>a.root.selected.value.get(v.value)==="indeterminate"),isLeaf:U(()=>!a.root.children.value.get(v.value)),isGroupActivator:a.isGroupActivator};return ei(()=>{!a.isGroupActivator&&a.root.register(v.value,a.id.value,t)}),it(()=>{!a.isGroupActivator&&a.root.unregister(v.value)}),t&&ze(Mi,p),p},ty=()=>{const e=Ae(Mi,Zu);ze(Mi,{...e,isGroupActivator:!0})},ny=St({name:"VListGroupActivator",setup(e,t){let{slots:a}=t;return ty(),()=>{var h;return(h=a.default)==null?void 0:h.call(a)}}}),iy=ue({activeColor:String,baseColor:String,color:String,collapseIcon:{type:Je,default:"$collapse"},expandIcon:{type:Je,default:"$expand"},prependIcon:Je,appendIcon:Je,fluid:Boolean,subgroup:Boolean,title:String,value:null,...ke(),...Ze()},"VListGroup"),tl=we()({name:"VListGroup",props:iy(),setup(e,t){let{slots:a}=t;const{isOpen:h,open:v,id:p}=Qu(ge(e,"value"),!0),y=U(()=>`v-list-group--id-${String(p.value)}`),f=$u(),{isBooted:r}=Pr();function u(i){i.stopPropagation(),v(!h.value,i)}const c=U(()=>({onClick:u,class:"v-list-group__header",id:y.value})),n=U(()=>h.value?e.collapseIcon:e.expandIcon),s=U(()=>({VListItem:{active:h.value,activeColor:e.activeColor,baseColor:e.baseColor,color:e.color,prependIcon:e.prependIcon||e.subgroup&&n.value,appendIcon:e.appendIcon||!e.subgroup&&n.value,title:e.title,value:e.value}}));return xe(()=>Y(e.tag,{class:["v-list-group",{"v-list-group--prepend":f==null?void 0:f.hasPrepend.value,"v-list-group--fluid":e.fluid,"v-list-group--subgroup":e.subgroup,"v-list-group--open":h.value},e.class],style:e.style},{default:()=>[a.activator&&Y(yt,{defaults:s.value},{default:()=>[Y(ny,null,{default:()=>[a.activator({props:c.value,isOpen:h.value})]})]}),Y(Xn,{transition:{component:Wu},disabled:!r.value},{default:()=>{var i;return[Tn(Y("div",{class:"v-list-group__items",role:"group","aria-labelledby":y.value},[(i=a.default)==null?void 0:i.call(a)]),[[ra,h.value]])]}})]})),{isOpen:h}}}),ry=ue({opacity:[Number,String],...ke(),...Ze()},"VListItemSubtitle"),sy=we()({name:"VListItemSubtitle",props:ry(),setup(e,t){let{slots:a}=t;return xe(()=>Y(e.tag,{class:["v-list-item-subtitle",e.class],style:[{"--v-list-item-subtitle-opacity":e.opacity},e.style]},a)),{}}}),ay=du("v-list-item-title");function oy(e){return{aspectStyles:U(()=>{const t=Number(e.aspectRatio);return t?{paddingBottom:String(1/t*100)+"%"}:void 0})}}const ef=ue({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...ke(),...Mn()},"VResponsive"),nl=we()({name:"VResponsive",props:ef(),setup(e,t){let{slots:a}=t;const{aspectStyles:h}=oy(e),{dimensionStyles:v}=Fn(e);return xe(()=>{var p;return Y("div",{class:["v-responsive",{"v-responsive--inline":e.inline},e.class],style:[v.value,e.style]},[Y("div",{class:"v-responsive__sizer",style:h.value},null),(p=a.additional)==null?void 0:p.call(a),a.default&&Y("div",{class:["v-responsive__content",e.contentClass]},[a.default()])])}),{}}});function ly(e,t){if(!la)return;const a=t.modifiers||{},h=t.value,{handler:v,options:p}=typeof h=="object"?h:{handler:h,options:{}},y=new IntersectionObserver(function(){var n;let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;const u=(n=e._observe)==null?void 0:n[t.instance.$.uid];if(!u)return;const c=f.some(s=>s.isIntersecting);v&&(!a.quiet||u.init)&&(!a.once||c||u.init)&&v(c,f,r),c&&a.once?tf(e,t):u.init=!0},p);e._observe=Object(e._observe),e._observe[t.instance.$.uid]={init:!1,observer:y},y.observe(e)}function tf(e,t){var h;const a=(h=e._observe)==null?void 0:h[t.instance.$.uid];a&&(a.observer.unobserve(e),delete e._observe[t.instance.$.uid])}const cy={mounted:ly,unmounted:tf},uy=ue({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...ef(),...ke(),...At(),...Yu()},"VImg"),Sa=we()({name:"VImg",directives:{intersect:cy},props:uy(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,t){let{emit:a,slots:h}=t;const{backgroundColorClasses:v,backgroundColorStyles:p}=Qt(ge(e,"color")),{roundedClasses:y}=Dt(e),f=He("VImg"),r=ye(""),u=be(),c=ye(e.eager?"loading":"idle"),n=ye(),s=ye(),i=U(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),o=U(()=>i.value.aspect||n.value/s.value||0);Ce(()=>e.src,()=>{d(c.value!=="idle")}),Ce(o,(j,K)=>{!j&&K&&u.value&&_(u.value)}),ei(()=>d());function d(j){if(!(e.eager&&j)&&!(la&&!j&&!e.eager)){if(c.value="loading",i.value.lazySrc){const K=new Image;K.src=i.value.lazySrc,_(K,null)}i.value.src&&nn(()=>{var K;a("loadstart",((K=u.value)==null?void 0:K.currentSrc)||i.value.src),setTimeout(()=>{var ee;if(!f.isUnmounted)if((ee=u.value)!=null&&ee.complete){if(u.value.naturalWidth||g(),c.value==="error")return;o.value||_(u.value,null),c.value==="loading"&&l()}else o.value||_(u.value),m()})})}}function l(){var j;f.isUnmounted||(m(),_(u.value),c.value="loaded",a("load",((j=u.value)==null?void 0:j.currentSrc)||i.value.src))}function g(){var j;f.isUnmounted||(c.value="error",a("error",((j=u.value)==null?void 0:j.currentSrc)||i.value.src))}function m(){const j=u.value;j&&(r.value=j.currentSrc||j.src)}let b=-1;it(()=>{clearTimeout(b)});function _(j){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const ee=()=>{if(clearTimeout(b),f.isUnmounted)return;const{naturalHeight:ne,naturalWidth:ae}=j;ne||ae?(n.value=ae,s.value=ne):!j.complete&&c.value==="loading"&&K!=null?b=window.setTimeout(ee,K):(j.currentSrc.endsWith(".svg")||j.currentSrc.startsWith("data:image/svg+xml"))&&(n.value=1,s.value=1)};ee()}const C=U(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),S=()=>{var ee;if(!i.value.src||c.value==="idle")return null;const j=Y("img",{class:["v-img__img",C.value],style:{objectPosition:e.position},src:i.value.src,srcset:i.value.srcset,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable,sizes:e.sizes,ref:u,onLoad:l,onError:g},null),K=(ee=h.sources)==null?void 0:ee.call(h);return Y(Xn,{transition:e.transition,appear:!0},{default:()=>[Tn(K?Y("picture",{class:"v-img__picture"},[K,j]):j,[[ra,c.value==="loaded"]])]})},w=()=>Y(Xn,{transition:e.transition},{default:()=>[i.value.lazySrc&&c.value!=="loaded"&&Y("img",{class:["v-img__img","v-img__img--preload",C.value],style:{objectPosition:e.position},src:i.value.lazySrc,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable},null)]}),P=()=>h.placeholder?Y(Xn,{transition:e.transition,appear:!0},{default:()=>[(c.value==="loading"||c.value==="error"&&!h.error)&&Y("div",{class:"v-img__placeholder"},[h.placeholder()])]}):null,M=()=>h.error?Y(Xn,{transition:e.transition,appear:!0},{default:()=>[c.value==="error"&&Y("div",{class:"v-img__error"},[h.error()])]}):null,N=()=>e.gradient?Y("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,X=ye(!1);{const j=Ce(o,K=>{K&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{X.value=!0})}),j())})}return xe(()=>{const j=nl.filterProps(e);return Tn(Y(nl,nt({class:["v-img",{"v-img--absolute":e.absolute,"v-img--booting":!X.value},v.value,y.value,e.class],style:[{width:_e(e.width==="auto"?n.value:e.width)},p.value,e.style]},j,{aspectRatio:o.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>Y(Re,null,[Y(S,null,null),Y(w,null,null),Y(N,null,null),Y(P,null,null),Y(M,null,null)]),default:h.default}),[[Zs("intersect"),{handler:d,options:e.options},null,{once:!0}]])}),{currentSrc:r,image:u,state:c,naturalWidth:n,naturalHeight:s}}}),fy=ue({start:Boolean,end:Boolean,icon:Je,image:String,text:String,...sn(),...ke(),...ni(),...At(),...Dr(),...Ze(),...rt(),...ji({variant:"flat"})},"VAvatar"),il=we()({name:"VAvatar",props:fy(),setup(e,t){let{slots:a}=t;const{themeClasses:h}=ct(e),{borderClasses:v}=an(e),{colorClasses:p,colorStyles:y,variantClasses:f}=pa(e),{densityClasses:r}=ii(e),{roundedClasses:u}=Dt(e),{sizeClasses:c,sizeStyles:n}=Mr(e);return xe(()=>Y(e.tag,{class:["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},h.value,v.value,p.value,r.value,u.value,c.value,f.value,e.class],style:[y.value,n.value,e.style]},{default:()=>[a.default?Y(yt,{key:"content-defaults",defaults:{VImg:{cover:!0,src:e.image},VIcon:{icon:e.icon}}},{default:()=>[a.default()]}):e.image?Y(Sa,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?Y(Pt,{key:"icon",icon:e.icon},null):e.text,ma(!1,"v-avatar")]})),{}}}),hy=ue({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:Je,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:Je,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:[String,Number],title:[String,Number],value:null,onClick:Bt(),onClickOnce:Bt(),...sn(),...ke(),...ni(),...Mn(),...on(),...At(),...Au(),...Ze(),...rt(),...ji({variant:"text"})},"VListItem"),fr=we()({name:"VListItem",directives:{Ripple:ya},props:hy(),emits:{click:e=>!0},setup(e,t){let{attrs:a,slots:h,emit:v}=t;const p=Eu(e,a),y=U(()=>e.value===void 0?p.href.value:e.value),{activate:f,isActivated:r,select:u,isOpen:c,isSelected:n,isIndeterminate:s,isGroupActivator:i,root:o,parent:d,openOnSelect:l,id:g}=Qu(y,!1),m=$u(),b=U(()=>{var D;return e.active!==!1&&(e.active||((D=p.isActive)==null?void 0:D.value)||(o.activatable.value?r.value:n.value))}),_=U(()=>e.link!==!1&&p.isLink.value),C=U(()=>!!m&&(o.selectable.value||o.activatable.value||e.value!=null)),S=U(()=>!e.disabled&&e.link!==!1&&(e.link||p.isClickable.value||C.value)),w=U(()=>e.rounded||e.nav),P=U(()=>e.color??e.activeColor),M=U(()=>({color:b.value?P.value??e.baseColor:e.baseColor,variant:e.variant}));Ce(()=>{var D;return(D=p.isActive)==null?void 0:D.value},D=>{D&&N()}),ei(()=>{var D;(D=p.isActive)!=null&&D.value&&N()});function N(){d.value!=null&&o.open(d.value,!0),l(!0)}const{themeClasses:X}=ct(e),{borderClasses:j}=an(e),{colorClasses:K,colorStyles:ee,variantClasses:ne}=pa(M),{densityClasses:ae}=ii(e),{dimensionStyles:se}=Fn(e),{elevationClasses:oe}=ln(e),{roundedClasses:T}=Dt(w),L=U(()=>e.lines?`v-list-item--${e.lines}-line`:void 0),F=U(()=>({isActive:b.value,select:u,isOpen:c.value,isSelected:n.value,isIndeterminate:s.value}));function I(D){var E;v("click",D),S.value&&((E=p.navigate)==null||E.call(p,D),!i&&(o.activatable.value?f(!r.value,D):(o.selectable.value||e.value!=null)&&u(!n.value,D)))}function J(D){(D.key==="Enter"||D.key===" ")&&(D.preventDefault(),D.target.dispatchEvent(new MouseEvent("click",D)))}return xe(()=>{const D=_.value?"a":e.tag,E=h.title||e.title!=null,B=h.subtitle||e.subtitle!=null,A=!!(e.appendAvatar||e.appendIcon),z=!!(A||h.append),H=!!(e.prependAvatar||e.prependIcon),$=!!(H||h.prepend);return m==null||m.updateHasPrepend($),e.activeColor&&yv("active-color",["color","base-color"]),Tn(Y(D,nt({class:["v-list-item",{"v-list-item--active":b.value,"v-list-item--disabled":e.disabled,"v-list-item--link":S.value,"v-list-item--nav":e.nav,"v-list-item--prepend":!$&&(m==null?void 0:m.hasPrepend.value),"v-list-item--slim":e.slim,[`${e.activeClass}`]:e.activeClass&&b.value},X.value,j.value,K.value,ae.value,oe.value,L.value,T.value,ne.value,e.class],style:[ee.value,se.value,e.style],tabindex:S.value?m?-2:0:void 0,"aria-selected":C.value?o.activatable.value?r.value:o.selectable.value?n.value:b.value:void 0,onClick:I,onKeydown:S.value&&!_.value&&J},p.linkProps),{default:()=>{var te;return[ma(S.value||b.value,"v-list-item"),$&&Y("div",{key:"prepend",class:"v-list-item__prepend"},[h.prepend?Y(yt,{key:"prepend-defaults",disabled:!H,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var k;return[(k=h.prepend)==null?void 0:k.call(h,F.value)]}}):Y(Re,null,[e.prependAvatar&&Y(il,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&Y(Pt,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)]),Y("div",{class:"v-list-item__spacer"},null)]),Y("div",{class:"v-list-item__content","data-no-activator":""},[E&&Y(ay,{key:"title"},{default:()=>{var k;return[((k=h.title)==null?void 0:k.call(h,{title:e.title}))??e.title]}}),B&&Y(sy,{key:"subtitle"},{default:()=>{var k;return[((k=h.subtitle)==null?void 0:k.call(h,{subtitle:e.subtitle}))??e.subtitle]}}),(te=h.default)==null?void 0:te.call(h,F.value)]),z&&Y("div",{key:"append",class:"v-list-item__append"},[h.append?Y(yt,{key:"append-defaults",disabled:!A,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var k;return[(k=h.append)==null?void 0:k.call(h,F.value)]}}):Y(Re,null,[e.appendIcon&&Y(Pt,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&Y(il,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)]),Y("div",{class:"v-list-item__spacer"},null)])]}}),[[Zs("ripple"),S.value&&e.ripple]])}),{activate:f,isActivated:r,isGroupActivator:i,isSelected:n,list:m,select:u,root:o,id:g}}}),dy=ue({color:String,inset:Boolean,sticky:Boolean,title:String,...ke(),...Ze()},"VListSubheader"),gy=we()({name:"VListSubheader",props:dy(),setup(e,t){let{slots:a}=t;const{textColorClasses:h,textColorStyles:v}=kn(ge(e,"color"));return xe(()=>{const p=!!(a.default||e.title);return Y(e.tag,{class:["v-list-subheader",{"v-list-subheader--inset":e.inset,"v-list-subheader--sticky":e.sticky},h.value,e.class],style:[{textColorStyles:v},e.style]},{default:()=>{var y;return[p&&Y("div",{class:"v-list-subheader__text"},[((y=a.default)==null?void 0:y.call(a))??e.title])]}})}),{}}}),vy=ue({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...ke(),...rt()},"VDivider"),nf=we()({name:"VDivider",props:vy(),setup(e,t){let{attrs:a,slots:h}=t;const{themeClasses:v}=ct(e),{textColorClasses:p,textColorStyles:y}=kn(ge(e,"color")),f=U(()=>{const r={};return e.length&&(r[e.vertical?"height":"width"]=_e(e.length)),e.thickness&&(r[e.vertical?"borderRightWidth":"borderTopWidth"]=_e(e.thickness)),r});return xe(()=>{const r=Y("hr",{class:[{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},v.value,p.value,e.class],style:[f.value,y.value,{"--v-border-opacity":e.opacity},e.style],"aria-orientation":!a.role||a.role==="separator"?e.vertical?"vertical":"horizontal":void 0,role:`${a.role||"separator"}`},null);return h.default?Y("div",{class:["v-divider__wrapper",{"v-divider__wrapper--vertical":e.vertical,"v-divider__wrapper--inset":e.inset}]},[r,Y("div",{class:"v-divider__content"},[h.default()]),r]):r}),{}}}),my=ue({items:Array,returnObject:Boolean},"VListChildren"),rf=we()({name:"VListChildren",props:my(),setup(e,t){let{slots:a}=t;return Gu(),()=>{var h,v;return((h=a.default)==null?void 0:h.call(a))??((v=e.items)==null?void 0:v.map(p=>{var s,i;let{children:y,props:f,type:r,raw:u}=p;if(r==="divider")return((s=a.divider)==null?void 0:s.call(a,{props:f}))??Y(nf,f,null);if(r==="subheader")return((i=a.subheader)==null?void 0:i.call(a,{props:f}))??Y(gy,f,null);const c={subtitle:a.subtitle?o=>{var d;return(d=a.subtitle)==null?void 0:d.call(a,{...o,item:u})}:void 0,prepend:a.prepend?o=>{var d;return(d=a.prepend)==null?void 0:d.call(a,{...o,item:u})}:void 0,append:a.append?o=>{var d;return(d=a.append)==null?void 0:d.call(a,{...o,item:u})}:void 0,title:a.title?o=>{var d;return(d=a.title)==null?void 0:d.call(a,{...o,item:u})}:void 0},n=tl.filterProps(f);return y?Y(tl,nt({value:f==null?void 0:f.value},n),{activator:o=>{let{props:d}=o;const l={...f,...d,value:e.returnObject?u:f.value};return a.header?a.header({props:l}):Y(fr,l,c)},default:()=>Y(rf,{items:y,returnObject:e.returnObject},a)}):a.item?a.item({props:f}):Y(fr,nt(f,{value:e.returnObject?u:f.value}),c)}))}}}),py=ue({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:Bi}},"list-items");function yy(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"}function by(e,t){const a=ci(t,e.itemType,"item"),h=yy(t)?t:ci(t,e.itemTitle),v=ci(t,e.itemValue,void 0),p=ci(t,e.itemChildren),y=e.itemProps===!0?Jc(t,["children"]):ci(t,e.itemProps),f={title:h,value:v,...y};return{type:a,title:f.title,value:f.value,props:f,children:a==="item"&&p?sf(e,p):void 0,raw:t}}function sf(e,t){const a=[];for(const h of t)a.push(by(e,h));return a}function _y(e){return{items:U(()=>sf(e,e.items))}}const Cy=ue({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:Je,collapseIcon:Je,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":Bt(),"onClick:select":Bt(),"onUpdate:opened":Bt(),...Qp({selectStrategy:"single-leaf",openStrategy:"list"}),...sn(),...ke(),...ni(),...Mn(),...on(),itemType:{type:String,default:"type"},...py(),...At(),...Ze(),...rt(),...ji({variant:"text"})},"VList"),Sy=we()({name:"VList",props:Cy(),emits:{"update:selected":e=>!0,"update:activated":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:activate":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:a}=t;const{items:h}=_y(e),{themeClasses:v}=ct(e),{backgroundColorClasses:p,backgroundColorStyles:y}=Qt(ge(e,"bgColor")),{borderClasses:f}=an(e),{densityClasses:r}=ii(e),{dimensionStyles:u}=Fn(e),{elevationClasses:c}=ln(e),{roundedClasses:n}=Dt(e),{children:s,open:i,parents:o,select:d,getPath:l}=ey(e),g=U(()=>e.lines?`v-list--${e.lines}-line`:void 0),m=ge(e,"activeColor"),b=ge(e,"baseColor"),_=ge(e,"color");Gu(),ti({VListGroup:{activeColor:m,baseColor:b,color:_,expandIcon:ge(e,"expandIcon"),collapseIcon:ge(e,"collapseIcon")},VListItem:{activeClass:ge(e,"activeClass"),activeColor:m,baseColor:b,color:_,density:ge(e,"density"),disabled:ge(e,"disabled"),lines:ge(e,"lines"),nav:ge(e,"nav"),slim:ge(e,"slim"),variant:ge(e,"variant")}});const C=ye(!1),S=be();function w(K){C.value=!0}function P(K){C.value=!1}function M(K){var ee;!C.value&&!(K.relatedTarget&&((ee=S.value)!=null&&ee.contains(K.relatedTarget)))&&j()}function N(K){const ee=K.target;if(!(!S.value||["INPUT","TEXTAREA"].includes(ee.tagName))){if(K.key==="ArrowDown")j("next");else if(K.key==="ArrowUp")j("prev");else if(K.key==="Home")j("first");else if(K.key==="End")j("last");else return;K.preventDefault()}}function X(K){C.value=!0}function j(K){if(S.value)return eu(S.value,K)}return xe(()=>Y(e.tag,{ref:S,class:["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav,"v-list--slim":e.slim},v.value,p.value,f.value,r.value,c.value,g.value,n.value,e.class],style:[y.value,u.value,e.style],tabindex:e.disabled||C.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:w,onFocusout:P,onFocus:M,onKeydown:N,onMousedown:X},{default:()=>[Y(rf,{items:h.value,returnObject:e.returnObject},a)]})),{open:i,select:d,focus:j,children:s,parents:o,getPath:l}}});function wy(e){let{rootEl:t,isSticky:a,layoutItemStyles:h}=e;const v=ye(!1),p=ye(0),y=U(()=>{const u=typeof v.value=="boolean"?"top":v.value;return[a.value?{top:"auto",bottom:"auto",height:void 0}:void 0,v.value?{[u]:_e(p.value)}:{top:h.value.top}]});Ct(()=>{Ce(a,u=>{u?window.addEventListener("scroll",r,{passive:!0}):window.removeEventListener("scroll",r)},{immediate:!0})}),it(()=>{window.removeEventListener("scroll",r)});let f=0;function r(){const u=f>window.scrollY?"up":"down",c=t.value.getBoundingClientRect(),n=parseFloat(h.value.top??0),s=window.scrollY-Math.max(0,p.value-n),i=c.height+Math.max(p.value,n)-window.scrollY-window.innerHeight,o=parseFloat(getComputedStyle(t.value).getPropertyValue("--v-body-scroll-y"))||0;c.height<window.innerHeight-n?(v.value="top",p.value=n):u==="up"&&v.value==="bottom"||u==="down"&&v.value==="top"?(p.value=window.scrollY+c.top-o,v.value=!0):u==="down"&&i<=0?(p.value=0,v.value="bottom"):u==="up"&&s<=0&&(o?v.value!=="top"&&(p.value=-s+o+n,v.value="top"):(p.value=c.top+s,v.value="top")),f=window.scrollY}return{isStuck:v,stickyStyles:y}}const xy=100,Ty=20;function rl(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function sl(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let t=0;for(let a=e.length-1;a>0;a--){if(e[a].t===e[a-1].t)continue;const h=rl(t),v=(e[a].d-e[a-1].d)/(e[a].t-e[a-1].t);t+=(v-h)*Math.abs(v),a===e.length-1&&(t*=.5)}return rl(t)*1e3}function Oy(){const e={};function t(v){Array.from(v.changedTouches).forEach(p=>{(e[p.identifier]??(e[p.identifier]=new nv(Ty))).push([v.timeStamp,p])})}function a(v){Array.from(v.changedTouches).forEach(p=>{delete e[p.identifier]})}function h(v){var u;const p=(u=e[v])==null?void 0:u.values().reverse();if(!p)throw new Error(`No samples for touch id ${v}`);const y=p[0],f=[],r=[];for(const c of p){if(y[0]-c[0]>xy)break;f.push({t:c[0],d:c[1].clientX}),r.push({t:c[0],d:c[1].clientY})}return{x:sl(f),y:sl(r),get direction(){const{x:c,y:n}=this,[s,i]=[Math.abs(c),Math.abs(n)];return s>i&&c>=0?"right":s>i&&c<=0?"left":i>s&&n>=0?"down":i>s&&n<=0?"up":ky()}}}return{addMovement:t,endTouch:a,getVelocity:h}}function ky(){throw new Error}function Py(e){let{el:t,isActive:a,isTemporary:h,width:v,touchless:p,position:y}=e;Ct(()=>{window.addEventListener("touchstart",m,{passive:!0}),window.addEventListener("touchmove",b,{passive:!1}),window.addEventListener("touchend",_,{passive:!0})}),it(()=>{window.removeEventListener("touchstart",m),window.removeEventListener("touchmove",b),window.removeEventListener("touchend",_)});const f=U(()=>["left","right"].includes(y.value)),{addMovement:r,endTouch:u,getVelocity:c}=Oy();let n=!1;const s=ye(!1),i=ye(0),o=ye(0);let d;function l(S,w){return(y.value==="left"?S:y.value==="right"?document.documentElement.clientWidth-S:y.value==="top"?S:y.value==="bottom"?document.documentElement.clientHeight-S:jn())-(w?v.value:0)}function g(S){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const P=y.value==="left"?(S-o.value)/v.value:y.value==="right"?(document.documentElement.clientWidth-S-o.value)/v.value:y.value==="top"?(S-o.value)/v.value:y.value==="bottom"?(document.documentElement.clientHeight-S-o.value)/v.value:jn();return w?Math.max(0,Math.min(1,P)):P}function m(S){if(p.value)return;const w=S.changedTouches[0].clientX,P=S.changedTouches[0].clientY,M=25,N=y.value==="left"?w<M:y.value==="right"?w>document.documentElement.clientWidth-M:y.value==="top"?P<M:y.value==="bottom"?P>document.documentElement.clientHeight-M:jn(),X=a.value&&(y.value==="left"?w<v.value:y.value==="right"?w>document.documentElement.clientWidth-v.value:y.value==="top"?P<v.value:y.value==="bottom"?P>document.documentElement.clientHeight-v.value:jn());(N||X||a.value&&h.value)&&(d=[w,P],o.value=l(f.value?w:P,a.value),i.value=g(f.value?w:P),n=o.value>-20&&o.value<80,u(S),r(S))}function b(S){const w=S.changedTouches[0].clientX,P=S.changedTouches[0].clientY;if(n){if(!S.cancelable){n=!1;return}const N=Math.abs(w-d[0]),X=Math.abs(P-d[1]);(f.value?N>X&&N>3:X>N&&X>3)?(s.value=!0,n=!1):(f.value?X:N)>3&&(n=!1)}if(!s.value)return;S.preventDefault(),r(S);const M=g(f.value?w:P,!1);i.value=Math.max(0,Math.min(1,M)),M>1?o.value=l(f.value?w:P,!0):M<0&&(o.value=l(f.value?w:P,!1))}function _(S){if(n=!1,!s.value)return;r(S),s.value=!1;const w=c(S.changedTouches[0].identifier),P=Math.abs(w.x),M=Math.abs(w.y);(f.value?P>M&&P>400:M>P&&M>3)?a.value=w.direction===({left:"right",right:"left",top:"down",bottom:"up"}[y.value]||jn()):a.value=i.value>.5}const C=U(()=>s.value?{transform:y.value==="left"?`translateX(calc(-100% + ${i.value*v.value}px))`:y.value==="right"?`translateX(calc(100% - ${i.value*v.value}px))`:y.value==="top"?`translateY(calc(-100% + ${i.value*v.value}px))`:y.value==="bottom"?`translateY(calc(100% - ${i.value*v.value}px))`:jn(),transition:"none"}:void 0);return Jt(s,()=>{var P,M;const S=((P=t.value)==null?void 0:P.style.transform)??null,w=((M=t.value)==null?void 0:M.style.transition)??null;En(()=>{var N,X,j,K;(X=t.value)==null||X.style.setProperty("transform",((N=C.value)==null?void 0:N.transform)||"none"),(K=t.value)==null||K.style.setProperty("transition",((j=C.value)==null?void 0:j.transition)||null)}),Bs(()=>{var N,X;(N=t.value)==null||N.style.setProperty("transform",S),(X=t.value)==null||X.style.setProperty("transition",w)})}),{isDragging:s,dragProgress:i,dragStyles:C}}function jn(){throw new Error}const Fr={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function Ey(e,t,a){const h=[];let v=[];const p=af(e),y=of(e),f=a??Fr[t.slice(-2).toUpperCase()]??0,r=(p.getDay()-f+7)%7,u=(y.getDay()-f+7)%7;for(let c=0;c<r;c++){const n=new Date(p);n.setDate(n.getDate()-(r-c)),v.push(n)}for(let c=1;c<=y.getDate();c++){const n=new Date(e.getFullYear(),e.getMonth(),c);v.push(n),v.length===7&&(h.push(v),v=[])}for(let c=1;c<7-u;c++){const n=new Date(y);n.setDate(n.getDate()+c),v.push(n)}return v.length>0&&h.push(v),h}function Ay(e,t,a){const h=a??Fr[t.slice(-2).toUpperCase()]??0,v=new Date(e);for(;v.getDay()!==h;)v.setDate(v.getDate()-1);return v}function Dy(e,t){const a=new Date(e),h=((Fr[t.slice(-2).toUpperCase()]??0)+6)%7;for(;a.getDay()!==h;)a.setDate(a.getDate()+1);return a}function af(e){return new Date(e.getFullYear(),e.getMonth(),1)}function of(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}function My(e){const t=e.split("-").map(Number);return new Date(t[0],t[1]-1,t[2])}const Fy=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function lf(e){if(e==null)return new Date;if(e instanceof Date)return e;if(typeof e=="string"){let t;if(Fy.test(e))return My(e);if(t=Date.parse(e),!isNaN(t))return new Date(t)}return null}const al=new Date(2e3,0,2);function Iy(e,t){const a=t??Fr[e.slice(-2).toUpperCase()]??0;return ca(7).map(h=>{const v=new Date(al);return v.setDate(al.getDate()+a+h),new Intl.DateTimeFormat(e,{weekday:"narrow"}).format(v)})}function Ly(e,t,a,h){const v=lf(e)??new Date,p=h==null?void 0:h[t];if(typeof p=="function")return p(v,t,a);let y={};switch(t){case"fullDate":y={year:"numeric",month:"long",day:"numeric"};break;case"fullDateWithWeekday":y={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const f=v.getDate(),r=new Intl.DateTimeFormat(a,{month:"long"}).format(v);return`${f} ${r}`;case"normalDateWithWeekday":y={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":y={month:"short",day:"numeric"};break;case"year":y={year:"numeric"};break;case"month":y={month:"long"};break;case"monthShort":y={month:"short"};break;case"monthAndYear":y={month:"long",year:"numeric"};break;case"monthAndDate":y={month:"long",day:"numeric"};break;case"weekday":y={weekday:"long"};break;case"weekdayShort":y={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(a).format(v.getDate());case"hours12h":y={hour:"numeric",hour12:!0};break;case"hours24h":y={hour:"numeric",hour12:!1};break;case"minutes":y={minute:"numeric"};break;case"seconds":y={second:"numeric"};break;case"fullTime":y={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime12h":y={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime24h":y={hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"fullDateTime":y={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime12h":y={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime24h":y={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDate":y={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":y={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDateTime12h":y={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"keyboardDateTime24h":y={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;default:y=p??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(a,y).format(v)}function Ry(e,t){const a=e.toJsDate(t),h=a.getFullYear(),v=Ao(String(a.getMonth()+1),2,"0"),p=Ao(String(a.getDate()),2,"0");return`${h}-${v}-${p}`}function By(e){const[t,a,h]=e.split("-").map(Number);return new Date(t,a-1,h)}function jy(e,t){const a=new Date(e);return a.setMinutes(a.getMinutes()+t),a}function Vy(e,t){const a=new Date(e);return a.setHours(a.getHours()+t),a}function Ny(e,t){const a=new Date(e);return a.setDate(a.getDate()+t),a}function Hy(e,t){const a=new Date(e);return a.setDate(a.getDate()+t*7),a}function Wy(e,t){const a=new Date(e);return a.setDate(1),a.setMonth(a.getMonth()+t),a}function Yy(e){return e.getFullYear()}function zy(e){return e.getMonth()}function Xy(e){return e.getDate()}function Uy(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}function Gy(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}function $y(e){return e.getHours()}function Ky(e){return e.getMinutes()}function qy(e){return new Date(e.getFullYear(),0,1)}function Jy(e){return new Date(e.getFullYear(),11,31)}function Zy(e,t){return hr(e,t[0])&&t0(e,t[1])}function Qy(e){const t=new Date(e);return t instanceof Date&&!isNaN(t.getTime())}function hr(e,t){return e.getTime()>t.getTime()}function e0(e,t){return hr(Ps(e),Ps(t))}function t0(e,t){return e.getTime()<t.getTime()}function ol(e,t){return e.getTime()===t.getTime()}function n0(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function i0(e,t){return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function r0(e,t){return e.getFullYear()===t.getFullYear()}function s0(e,t,a){const h=new Date(e),v=new Date(t);switch(a){case"years":return h.getFullYear()-v.getFullYear();case"quarters":return Math.floor((h.getMonth()-v.getMonth()+(h.getFullYear()-v.getFullYear())*12)/4);case"months":return h.getMonth()-v.getMonth()+(h.getFullYear()-v.getFullYear())*12;case"weeks":return Math.floor((h.getTime()-v.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((h.getTime()-v.getTime())/(1e3*60*60*24));case"hours":return Math.floor((h.getTime()-v.getTime())/(1e3*60*60));case"minutes":return Math.floor((h.getTime()-v.getTime())/(1e3*60));case"seconds":return Math.floor((h.getTime()-v.getTime())/1e3);default:return h.getTime()-v.getTime()}}function a0(e,t){const a=new Date(e);return a.setHours(t),a}function o0(e,t){const a=new Date(e);return a.setMinutes(t),a}function l0(e,t){const a=new Date(e);return a.setMonth(t),a}function c0(e,t){const a=new Date(e);return a.setDate(t),a}function u0(e,t){const a=new Date(e);return a.setFullYear(t),a}function Ps(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0)}function f0(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59,999)}class h0{constructor(t){this.locale=t.locale,this.formats=t.formats}date(t){return lf(t)}toJsDate(t){return t}toISO(t){return Ry(this,t)}parseISO(t){return By(t)}addMinutes(t,a){return jy(t,a)}addHours(t,a){return Vy(t,a)}addDays(t,a){return Ny(t,a)}addWeeks(t,a){return Hy(t,a)}addMonths(t,a){return Wy(t,a)}getWeekArray(t,a){return Ey(t,this.locale,a?Number(a):void 0)}startOfWeek(t,a){return Ay(t,this.locale,a?Number(a):void 0)}endOfWeek(t){return Dy(t,this.locale)}startOfMonth(t){return af(t)}endOfMonth(t){return of(t)}format(t,a){return Ly(t,a,this.locale,this.formats)}isEqual(t,a){return ol(t,a)}isValid(t){return Qy(t)}isWithinRange(t,a){return Zy(t,a)}isAfter(t,a){return hr(t,a)}isAfterDay(t,a){return e0(t,a)}isBefore(t,a){return!hr(t,a)&&!ol(t,a)}isSameDay(t,a){return n0(t,a)}isSameMonth(t,a){return i0(t,a)}isSameYear(t,a){return r0(t,a)}setMinutes(t,a){return o0(t,a)}setHours(t,a){return a0(t,a)}setMonth(t,a){return l0(t,a)}setDate(t,a){return c0(t,a)}setYear(t,a){return u0(t,a)}getDiff(t,a,h){return s0(t,a,h)}getWeekdays(t){return Iy(this.locale,t?Number(t):void 0)}getYear(t){return Yy(t)}getMonth(t){return zy(t)}getDate(t){return Xy(t)}getNextMonth(t){return Uy(t)}getPreviousMonth(t){return Gy(t)}getHours(t){return $y(t)}getMinutes(t){return Ky(t)}startOfDay(t){return Ps(t)}endOfDay(t){return f0(t)}startOfYear(t){return qy(t)}endOfYear(t){return Jy(t)}}const d0=Symbol.for("vuetify:date-options"),ll=Symbol.for("vuetify:date-adapter");function g0(e,t){const a=lt({adapter:h0,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},e);return{options:a,instance:v0(a,t)}}function v0(e,t){const a=Ne(typeof e.adapter=="function"?new e.adapter({locale:e.locale[t.current.value]??t.current.value,formats:e.formats}):e.adapter);return Ce(t.current,h=>{a.locale=e.locale[h]??h??a.locale}),a}const Es=Symbol.for("vuetify:display"),cl={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},m0=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:cl;return lt(cl,e)};function ul(e){return et&&!e?window.innerWidth:typeof e=="object"&&e.clientWidth||0}function fl(e){return et&&!e?window.innerHeight:typeof e=="object"&&e.clientHeight||0}function hl(e){const t=et&&!e?window.navigator.userAgent:"ssr";function a(o){return!!t.match(o)}const h=a(/android/i),v=a(/iphone|ipad|ipod/i),p=a(/cordova/i),y=a(/electron/i),f=a(/chrome/i),r=a(/edge/i),u=a(/firefox/i),c=a(/opera/i),n=a(/win/i),s=a(/mac/i),i=a(/linux/i);return{android:h,ios:v,cordova:p,electron:y,chrome:f,edge:r,firefox:u,opera:c,win:n,mac:s,linux:i,touch:Gg,ssr:t==="ssr"}}function p0(e,t){const{thresholds:a,mobileBreakpoint:h}=m0(e),v=ye(fl(t)),p=ye(hl(t)),y=Ne({}),f=ye(ul(t));function r(){v.value=fl(),f.value=ul()}function u(){r(),p.value=hl()}return En(()=>{const c=f.value<a.sm,n=f.value<a.md&&!c,s=f.value<a.lg&&!(n||c),i=f.value<a.xl&&!(s||n||c),o=f.value<a.xxl&&!(i||s||n||c),d=f.value>=a.xxl,l=c?"xs":n?"sm":s?"md":i?"lg":o?"xl":"xxl",g=typeof h=="number"?h:a[h],m=f.value<g;y.xs=c,y.sm=n,y.md=s,y.lg=i,y.xl=o,y.xxl=d,y.smAndUp=!c,y.mdAndUp=!(c||n),y.lgAndUp=!(c||n||s),y.xlAndUp=!(c||n||s||i),y.smAndDown=!(s||i||o||d),y.mdAndDown=!(i||o||d),y.lgAndDown=!(o||d),y.xlAndDown=!d,y.name=l,y.height=v.value,y.width=f.value,y.mobile=m,y.mobileBreakpoint=h,y.platform=p.value,y.thresholds=a}),et&&window.addEventListener("resize",r,{passive:!0}),{...yr(y),update:u,ssr:!!t}}const y0=ue({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function b0(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Et();const a=Ae(Es);if(!a)throw new Error("Could not find Vuetify display injection");const h=U(()=>{if(e.mobile!=null)return e.mobile;if(!e.mobileBreakpoint)return a.mobile.value;const p=typeof e.mobileBreakpoint=="number"?e.mobileBreakpoint:a.thresholds.value[e.mobileBreakpoint];return a.width.value<p}),v=U(()=>t?{[`${t}--mobile`]:h.value}:{});return{...a,displayClasses:v,mobile:h}}const _0=Symbol.for("vuetify:goto");function C0(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:e=>e,easeInQuad:e=>e**2,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e**2:-1+(4-2*e)*e,easeInCubic:e=>e**3,easeOutCubic:e=>--e**3+1,easeInOutCubic:e=>e<.5?4*e**3:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e**4,easeOutQuart:e=>1- --e**4,easeInOutQuart:e=>e<.5?8*e**4:1-8*--e**4,easeInQuint:e=>e**5,easeOutQuint:e=>1+--e**5,easeInOutQuint:e=>e<.5?16*e**5:1+16*--e**5}}}function S0(e,t){return{rtl:t.isRtl,options:lt(C0(),e)}}const w0=ue({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function x0(e,t){let a=()=>{};function h(y){a==null||a();const f=Number(y?e.openDelay:e.closeDelay);return new Promise(r=>{a=av(f,()=>{t==null||t(y),r(y)})})}function v(){return h(!0)}function p(){return h(!1)}return{clearDelay:a,runOpenDelay:v,runCloseDelay:p}}function T0(){const t=He("useScopeId").vnode.scopeId;return{scopeId:t?{[t]:""}:void 0}}const O0=["start","end","left","right","top","bottom"],k0=ue({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>O0.includes(e)},sticky:Boolean,...sn(),...ke(),...w0(),...y0({mobile:null}),...on(),...vu(),...At(),...Ze({tag:"nav"}),...rt()},"VNavigationDrawer"),cf=we()({name:"VNavigationDrawer",props:k0(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,t){let{attrs:a,emit:h,slots:v}=t;const{isRtl:p}=Nt(),{themeClasses:y}=ct(e),{borderClasses:f}=an(e),{backgroundColorClasses:r,backgroundColorStyles:u}=Qt(ge(e,"color")),{elevationClasses:c}=ln(e),{displayClasses:n,mobile:s}=b0(e),{roundedClasses:i}=Dt(e),o=Fm(),d=vt(e,"modelValue",null,F=>!!F),{ssrBootStyles:l}=Pr(),{scopeId:g}=T0(),m=be(),b=ye(!1),{runOpenDelay:_,runCloseDelay:C}=x0(e,F=>{b.value=F}),S=U(()=>e.rail&&e.expandOnHover&&b.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),w=U(()=>ys(e.location,p.value)),P=U(()=>e.persistent),M=U(()=>!e.permanent&&(s.value||e.temporary)),N=U(()=>e.sticky&&!M.value&&w.value!=="bottom");Jt(()=>e.expandOnHover&&e.rail!=null,()=>{Ce(b,F=>h("update:rail",!F))}),Jt(()=>!e.disableResizeWatcher,()=>{Ce(M,F=>!e.permanent&&nn(()=>d.value=!F))}),Jt(()=>!e.disableRouteWatcher&&!!o,()=>{Ce(o.currentRoute,()=>M.value&&(d.value=!1))}),Ce(()=>e.permanent,F=>{F&&(d.value=!0)}),e.modelValue==null&&!M.value&&(d.value=e.permanent||!s.value);const{isDragging:X,dragProgress:j}=Py({el:m,isActive:d,isTemporary:M,width:S,touchless:ge(e,"touchless"),position:w}),K=U(()=>{const F=M.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):S.value;return X.value?F*j.value:F}),ee=U(()=>["top","bottom"].includes(e.location)?0:S.value),{layoutItemStyles:ne,layoutItemScrimStyles:ae}=mu({id:e.name,order:U(()=>parseInt(e.order,10)),position:w,layoutSize:K,elementSize:ee,active:U(()=>d.value||X.value),disableTransitions:U(()=>X.value),absolute:U(()=>e.absolute||N.value&&typeof se.value!="string")}),{isStuck:se,stickyStyles:oe}=wy({rootEl:m,isSticky:N,layoutItemStyles:ne}),T=Qt(U(()=>typeof e.scrim=="string"?e.scrim:null)),L=U(()=>({...X.value?{opacity:j.value*.2,transition:"none"}:void 0,...ae.value}));return ti({VList:{bgColor:"transparent"}}),xe(()=>{const F=v.image||e.image;return Y(Re,null,[Y(e.tag,nt({ref:m,onMouseenter:_,onMouseleave:C,class:["v-navigation-drawer",`v-navigation-drawer--${w.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":b.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":M.value,"v-navigation-drawer--persistent":P.value,"v-navigation-drawer--active":d.value,"v-navigation-drawer--sticky":N.value},y.value,r.value,f.value,n.value,c.value,i.value,e.class],style:[u.value,ne.value,l.value,oe.value,e.style,["top","bottom"].includes(w.value)?{height:"auto"}:{}]},g,a),{default:()=>{var I,J,D;return[F&&Y("div",{key:"image",class:"v-navigation-drawer__img"},[v.image?Y(yt,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},v.image):Y(Sa,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),v.prepend&&Y("div",{class:"v-navigation-drawer__prepend"},[(I=v.prepend)==null?void 0:I.call(v)]),Y("div",{class:"v-navigation-drawer__content"},[(J=v.default)==null?void 0:J.call(v)]),v.append&&Y("div",{class:"v-navigation-drawer__append"},[(D=v.append)==null?void 0:D.call(v)])]}}),Y(xr,{name:"fade-transition"},{default:()=>[M.value&&(X.value||d.value)&&!!e.scrim&&Y("div",nt({class:["v-navigation-drawer__scrim",T.backgroundColorClasses.value],style:[L.value,T.backgroundColorStyles.value],onClick:()=>{P.value||(d.value=!1)}},g),null)]})])}),{isStuck:se}}}),P0={__name:"ToolOptionsBar",setup(e){const t=Er();function a(v){t.canvas.freeDrawingBrush.color=v}function h(v){t.canvas.freeDrawingBrush.width=v}return(v,p)=>(An(),Li(cf,{location:"right",permanent:""},{default:Qe(()=>[Y(Sy,null,{default:Qe(()=>[Y(fr,null,{default:Qe(()=>[Y(Xp,{"hide-inputs":"",width:"220","onUpdate:modelValue":a})]),_:1}),Y(fr,{title:"Width"},{default:Qe(()=>[Y(Os,{"onUpdate:modelValue":h,min:"1",max:"20"})]),_:1})]),_:1})]),_:1}))}},E0={__name:"Tool",props:["value"],setup(e){const t=Er(),a=e,h=U(()=>a.value==t.tool);return(v,p)=>(An(),Li(Di,{variant:"flat",class:"my-2",size:"small",color:Ve(h)?"primary":"default",onClick:p[0]||(p[0]=y=>Ve(t).setTool(e.value))},null,8,["color"]))}},A0={};function D0(e,t){const a=E0;return An(),Li(cf,{rail:"",permanent:"",class:"text-center"},{default:Qe(()=>[Y(a,{icon:"mdi-pencil",value:"pencil"}),Y(a,{icon:"mdi-brush",value:"brush",disabled:""}),Y(a,{icon:"mdi-eraser",value:"eraser",disabled:""}),Y(a,{icon:"mdi-shape",value:"shape",disabled:""}),Y(a,{icon:"mdi-format-text",value:"text"}),Y(nf),Y(a,{icon:"mdi-cursor-default-outline",value:"cursor"})]),_:1})}const M0=ga(A0,[["render",D0]]),F0=ue({text:String,...ke(),...Ze()},"VToolbarTitle"),uf=we()({name:"VToolbarTitle",props:F0(),setup(e,t){let{slots:a}=t;return xe(()=>{const h=!!(a.default||a.text||e.text);return Y(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var v;return[h&&Y("div",{class:"v-toolbar-title__placeholder"},[a.text?a.text():e.text,(v=a.default)==null?void 0:v.call(a)])]}})}),{}}}),I0=[null,"prominent","default","comfortable","compact"],ff=ue({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>I0.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...sn(),...ke(),...on(),...At(),...Ze({tag:"header"}),...rt()},"VToolbar"),dl=we()({name:"VToolbar",props:ff(),setup(e,t){var i;let{slots:a}=t;const{backgroundColorClasses:h,backgroundColorStyles:v}=Qt(ge(e,"color")),{borderClasses:p}=an(e),{elevationClasses:y}=ln(e),{roundedClasses:f}=Dt(e),{themeClasses:r}=ct(e),{rtlClasses:u}=Nt(),c=ye(!!(e.extended||(i=a.extension)!=null&&i.call(a))),n=U(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),s=U(()=>c.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return ti({VBtn:{variant:"text"}}),xe(()=>{var g;const o=!!(e.title||a.title),d=!!(a.image||e.image),l=(g=a.extension)==null?void 0:g.call(a);return c.value=!!(e.extended||l),Y(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},h.value,p.value,y.value,f.value,r.value,u.value,e.class],style:[v.value,e.style]},{default:()=>[d&&Y("div",{key:"image",class:"v-toolbar__image"},[a.image?Y(yt,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},a.image):Y(Sa,{key:"image-img",cover:!0,src:e.image},null)]),Y(yt,{defaults:{VTabs:{height:_e(n.value)}}},{default:()=>{var m,b,_;return[Y("div",{class:"v-toolbar__content",style:{height:_e(n.value)}},[a.prepend&&Y("div",{class:"v-toolbar__prepend"},[(m=a.prepend)==null?void 0:m.call(a)]),o&&Y(uf,{key:"title",text:e.title},{text:a.title}),(b=a.default)==null?void 0:b.call(a),a.append&&Y("div",{class:"v-toolbar__append"},[(_=a.append)==null?void 0:_.call(a)])])]}}),Y(yt,{defaults:{VTabs:{height:_e(s.value)}}},{default:()=>[Y(Wu,null,{default:()=>[c.value&&Y("div",{class:"v-toolbar__extension",style:{height:_e(s.value)}},[l])]})]})]})}),{contentHeight:n,extensionHeight:s}}}),L0=ue({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function R0(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:a}=t;let h=0,v=0;const p=be(null),y=ye(0),f=ye(0),r=ye(0),u=ye(!1),c=ye(!1),n=U(()=>Number(e.scrollThreshold)),s=U(()=>Kt((n.value-y.value)/n.value||0)),i=()=>{const o=p.value;if(!o||a&&!a.value)return;h=y.value,y.value="window"in o?o.pageYOffset:o.scrollTop;const d=o instanceof Window?document.documentElement.scrollHeight:o.scrollHeight;if(v!==d){v=d;return}c.value=y.value<h,r.value=Math.abs(y.value-n.value)};return Ce(c,()=>{f.value=f.value||y.value}),Ce(u,()=>{f.value=0}),Ct(()=>{Ce(()=>e.scrollTarget,o=>{var l;const d=o?document.querySelector(o):window;d&&d!==p.value&&((l=p.value)==null||l.removeEventListener("scroll",i),p.value=d,p.value.addEventListener("scroll",i,{passive:!0}))},{immediate:!0})}),it(()=>{var o;(o=p.value)==null||o.removeEventListener("scroll",i)}),a&&Ce(a,i,{immediate:!0}),{scrollThreshold:n,currentScroll:y,currentThreshold:r,isScrollActive:u,scrollRatio:s,isScrollingUp:c,savedScroll:f}}const B0=ue({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...ff(),...vu(),...L0(),height:{type:[Number,String],default:64}},"VAppBar"),j0=we()({name:"VAppBar",props:B0(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const h=be(),v=vt(e,"modelValue"),p=U(()=>{var b;const m=new Set(((b=e.scrollBehavior)==null?void 0:b.split(" "))??[]);return{hide:m.has("hide"),fullyHide:m.has("fully-hide"),inverted:m.has("inverted"),collapse:m.has("collapse"),elevate:m.has("elevate"),fadeImage:m.has("fade-image")}}),y=U(()=>{const m=p.value;return m.hide||m.fullyHide||m.inverted||m.collapse||m.elevate||m.fadeImage||!v.value}),{currentScroll:f,scrollThreshold:r,isScrollingUp:u,scrollRatio:c}=R0(e,{canScroll:y}),n=U(()=>p.value.hide||p.value.fullyHide),s=U(()=>e.collapse||p.value.collapse&&(p.value.inverted?c.value>0:c.value===0)),i=U(()=>e.flat||p.value.fullyHide&&!v.value||p.value.elevate&&(p.value.inverted?f.value>0:f.value===0)),o=U(()=>p.value.fadeImage?p.value.inverted?1-c.value:c.value:void 0),d=U(()=>{var _,C;if(p.value.hide&&p.value.inverted)return 0;const m=((_=h.value)==null?void 0:_.contentHeight)??0,b=((C=h.value)==null?void 0:C.extensionHeight)??0;return n.value?f.value<r.value||p.value.fullyHide?m+b:m:m+b});Jt(U(()=>!!e.scrollBehavior),()=>{En(()=>{n.value?p.value.inverted?v.value=f.value>r.value:v.value=u.value||f.value<r.value:v.value=!0})});const{ssrBootStyles:l}=Pr(),{layoutItemStyles:g}=mu({id:e.name,order:U(()=>parseInt(e.order,10)),position:ge(e,"location"),layoutSize:d,elementSize:ye(void 0),active:v,absolute:ge(e,"absolute")});return xe(()=>{const m=dl.filterProps(e);return Y(dl,nt({ref:h,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...g.value,"--v-toolbar-image-opacity":o.value,height:void 0,...l.value},e.style]},m,{collapse:s.value,flat:i.value}),a)}),{}}}),V0=du("v-spacer","div","VSpacer"),N0={__name:"Menu",setup(e){const t=Er();function a(){console.log("saving?");var h=document.createElement("a");h.download="MyDrawing.png",h.href=t.canvas.toDataURL(),document.body.appendChild(h),h.click(),document.body.removeChild(h)}return(h,v)=>(An(),Li(j0,{density:"compact"},{default:Qe(()=>[Y(uf,null,{default:Qe(()=>v[0]||(v[0]=[Hn("Live Draw")])),_:1}),Y(V0),Y(Di,{disabled:""},{default:Qe(()=>[Y(Pt,{class:"mr-2"},{default:Qe(()=>v[1]||(v[1]=[Hn("mdi-floppy")])),_:1}),v[2]||(v[2]=Hn(" Save"))]),_:1}),Y(Di,{onClick:a},{default:Qe(()=>[Y(Pt,{class:"mr-2"},{default:Qe(()=>v[3]||(v[3]=[Hn("mdi-export")])),_:1}),v[4]||(v[4]=Hn(" Export"))]),_:1})]),_:1}))}},H0={};function W0(e,t){const a=N0,h=M0,v=P0,p=am;return An(),bc(Re,null,[Y(a),Y(h),Y(v),Y(p)],64)}const Y0=ga(H0,[["render",W0]]),z0=Xg({history:Cg("/dist/"),routes:[{path:"/",name:"attic",component:Y0}]});function hf(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:t,...a}=e,h=lt(t,a),{aliases:v={},components:p={},directives:y={}}=h,f=Mv(h.defaults),r=p0(h.display,h.ssr),u=Gv(h.theme),c=Sm(h.icons),n=Wv(h.locale),s=g0(h.date,n),i=S0(h.goTo,n);return{install:d=>{for(const l in y)d.directive(l,y[l]);for(const l in p)d.component(l,p[l]);for(const l in v)d.component(l,St({...v[l],name:l,aliasName:v[l].name}));if(u.install(d),d.provide(Jn,f),d.provide(Es,r),d.provide(cr,u),d.provide(Cs,c),d.provide(lr,n),d.provide(d0,s.options),d.provide(ll,s.instance),d.provide(_0,i),et&&h.ssr)if(d.$nuxt)d.$nuxt.hook("app:suspense:resolve",()=>{r.update()});else{const{mount:l}=d;d.mount=function(){const g=l(...arguments);return nn(()=>r.update()),d.mount=l,g}}Dn.reset(),d.mixin({computed:{$vuetify(){return Ne({defaults:Vn.call(this,Jn),display:Vn.call(this,Es),theme:Vn.call(this,cr),icons:Vn.call(this,Cs),locale:Vn.call(this,lr),date:Vn.call(this,ll)})}}})},defaults:f,display:r,theme:u,icons:c,locale:n,date:s,goTo:i}}const X0="3.7.6";hf.version=X0;function Vn(e){var h,v;const t=this.$,a=((h=t.parent)==null?void 0:h.provides)??((v=t.vnode.appContext)==null?void 0:v.provides);if(a&&e in a)return a[e]}const U0=hf({theme:{defaultTheme:"dark"}}),Ir=Id(Zv);Ir.use(jd());Ir.use(z0);Ir.use(U0);Ir.mount("#app");
